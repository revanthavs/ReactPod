(function(){const cr=document.createElement("link").relList;if(cr&&cr.supports&&cr.supports("modulepreload"))return;for(const mr of document.querySelectorAll('link[rel="modulepreload"]'))dr(mr);new MutationObserver(mr=>{for(const gr of mr)if(gr.type==="childList")for(const br of gr.addedNodes)br.tagName==="LINK"&&br.rel==="modulepreload"&&dr(br)}).observe(document,{childList:!0,subtree:!0});function hr(mr){const gr={};return mr.integrity&&(gr.integrity=mr.integrity),mr.referrerPolicy&&(gr.referrerPolicy=mr.referrerPolicy),mr.crossOrigin==="use-credentials"?gr.credentials="include":mr.crossOrigin==="anonymous"?gr.credentials="omit":gr.credentials="same-origin",gr}function dr(mr){if(mr.ep)return;mr.ep=!0;const gr=hr(mr);fetch(mr.href,gr)}})();function getDefaultExportFromCjs(ur){return ur&&ur.__esModule&&Object.prototype.hasOwnProperty.call(ur,"default")?ur.default:ur}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var ur=Symbol.for("react.transitional.element"),cr=Symbol.for("react.fragment");function hr(dr,mr,gr){var br=null;if(gr!==void 0&&(br=""+gr),mr.key!==void 0&&(br=""+mr.key),"key"in mr){gr={};for(var yr in mr)yr!=="key"&&(gr[yr]=mr[yr])}else gr=mr;return mr=gr.ref,{$$typeof:ur,type:dr,key:br,ref:mr!==void 0?mr:null,props:gr}}return reactJsxRuntime_production.Fragment=cr,reactJsxRuntime_production.jsx=hr,reactJsxRuntime_production.jsxs=hr,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var ur=Symbol.for("react.transitional.element"),cr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),dr=Symbol.for("react.strict_mode"),mr=Symbol.for("react.profiler"),gr=Symbol.for("react.consumer"),br=Symbol.for("react.context"),yr=Symbol.for("react.forward_ref"),Tr=Symbol.for("react.suspense"),vr=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),_r=Symbol.for("react.activity"),wr=Symbol.iterator;function Er(Fr){return Fr===null||typeof Fr!="object"?null:(Fr=wr&&Fr[wr]||Fr["@@iterator"],typeof Fr=="function"?Fr:null)}var Ar={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kr=Object.assign,Dr={};function Cr(Fr,Qr,ra){this.props=Fr,this.context=Qr,this.refs=Dr,this.updater=ra||Ar}Cr.prototype.isReactComponent={},Cr.prototype.setState=function(Fr,Qr){if(typeof Fr!="object"&&typeof Fr!="function"&&Fr!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Fr,Qr,"setState")},Cr.prototype.forceUpdate=function(Fr){this.updater.enqueueForceUpdate(this,Fr,"forceUpdate")};function Or(){}Or.prototype=Cr.prototype;function qr(Fr,Qr,ra){this.props=Fr,this.context=Qr,this.refs=Dr,this.updater=ra||Ar}var Hr=qr.prototype=new Or;Hr.constructor=qr,kr(Hr,Cr.prototype),Hr.isPureReactComponent=!0;var Lr=Array.isArray;function jr(){}var Br={H:null,A:null,T:null,S:null},Ur=Object.prototype.hasOwnProperty;function Kr(Fr,Qr,ra){var Ta=ra.ref;return{$$typeof:ur,type:Fr,key:Qr,ref:Ta!==void 0?Ta:null,props:ra}}function Yr(Fr,Qr){return Kr(Fr.type,Qr,Fr.props)}function Wr(Fr){return typeof Fr=="object"&&Fr!==null&&Fr.$$typeof===ur}function sa(Fr){var Qr={"=":"=0",":":"=2"};return"$"+Fr.replace(/[=:]/g,function(ra){return Qr[ra]})}var ta=/\/+/g;function oa(Fr,Qr){return typeof Fr=="object"&&Fr!==null&&Fr.key!=null?sa(""+Fr.key):Qr.toString(36)}function Ia(Fr){switch(Fr.status){case"fulfilled":return Fr.value;case"rejected":throw Fr.reason;default:switch(typeof Fr.status=="string"?Fr.then(jr,jr):(Fr.status="pending",Fr.then(function(Qr){Fr.status==="pending"&&(Fr.status="fulfilled",Fr.value=Qr)},function(Qr){Fr.status==="pending"&&(Fr.status="rejected",Fr.reason=Qr)})),Fr.status){case"fulfilled":return Fr.value;case"rejected":throw Fr.reason}}throw Fr}function $r(Fr,Qr,ra,Ta,Ma){var La=typeof Fr;(La==="undefined"||La==="boolean")&&(Fr=null);var za=!1;if(Fr===null)za=!0;else switch(La){case"bigint":case"string":case"number":za=!0;break;case"object":switch(Fr.$$typeof){case ur:case cr:za=!0;break;case Sr:return za=Fr._init,$r(za(Fr._payload),Qr,ra,Ta,Ma)}}if(za)return Ma=Ma(Fr),za=Ta===""?"."+oa(Fr,0):Ta,Lr(Ma)?(ra="",za!=null&&(ra=za.replace(ta,"$&/")+"/"),$r(Ma,Qr,ra,"",function(Na){return Na})):Ma!=null&&(Wr(Ma)&&(Ma=Yr(Ma,ra+(Ma.key==null||Fr&&Fr.key===Ma.key?"":(""+Ma.key).replace(ta,"$&/")+"/")+za)),Qr.push(Ma)),1;za=0;var ya=Ta===""?".":Ta+":";if(Lr(Fr))for(var pa=0;pa<Fr.length;pa++)Ta=Fr[pa],La=ya+oa(Ta,pa),za+=$r(Ta,Qr,ra,La,Ma);else if(pa=Er(Fr),typeof pa=="function")for(Fr=pa.call(Fr),pa=0;!(Ta=Fr.next()).done;)Ta=Ta.value,La=ya+oa(Ta,pa++),za+=$r(Ta,Qr,ra,La,Ma);else if(La==="object"){if(typeof Fr.then=="function")return $r(Ia(Fr),Qr,ra,Ta,Ma);throw Qr=String(Fr),Error("Objects are not valid as a React child (found: "+(Qr==="[object Object]"?"object with keys {"+Object.keys(Fr).join(", ")+"}":Qr)+"). If you meant to render a collection of children, use an array instead.")}return za}function xa(Fr,Qr,ra){if(Fr==null)return Fr;var Ta=[],Ma=0;return $r(Fr,Ta,"","",function(La){return Qr.call(ra,La,Ma++)}),Ta}function ua(Fr){if(Fr._status===-1){var Qr=Fr._result;Qr=Qr(),Qr.then(function(ra){(Fr._status===0||Fr._status===-1)&&(Fr._status=1,Fr._result=ra)},function(ra){(Fr._status===0||Fr._status===-1)&&(Fr._status=2,Fr._result=ra)}),Fr._status===-1&&(Fr._status=0,Fr._result=Qr)}if(Fr._status===1)return Fr._result.default;throw Fr._result}var Ba=typeof reportError=="function"?reportError:function(Fr){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Qr=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Fr=="object"&&Fr!==null&&typeof Fr.message=="string"?String(Fr.message):String(Fr),error:Fr});if(!window.dispatchEvent(Qr))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Fr);return}console.error(Fr)},Xr={map:xa,forEach:function(Fr,Qr,ra){xa(Fr,function(){Qr.apply(this,arguments)},ra)},count:function(Fr){var Qr=0;return xa(Fr,function(){Qr++}),Qr},toArray:function(Fr){return xa(Fr,function(Qr){return Qr})||[]},only:function(Fr){if(!Wr(Fr))throw Error("React.Children.only expected to receive a single React element child.");return Fr}};return react_production.Activity=_r,react_production.Children=Xr,react_production.Component=Cr,react_production.Fragment=hr,react_production.Profiler=mr,react_production.PureComponent=qr,react_production.StrictMode=dr,react_production.Suspense=Tr,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Br,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(Fr){return Br.H.useMemoCache(Fr)}},react_production.cache=function(Fr){return function(){return Fr.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(Fr,Qr,ra){if(Fr==null)throw Error("The argument must be a React element, but you passed "+Fr+".");var Ta=kr({},Fr.props),Ma=Fr.key;if(Qr!=null)for(La in Qr.key!==void 0&&(Ma=""+Qr.key),Qr)!Ur.call(Qr,La)||La==="key"||La==="__self"||La==="__source"||La==="ref"&&Qr.ref===void 0||(Ta[La]=Qr[La]);var La=arguments.length-2;if(La===1)Ta.children=ra;else if(1<La){for(var za=Array(La),ya=0;ya<La;ya++)za[ya]=arguments[ya+2];Ta.children=za}return Kr(Fr.type,Ma,Ta)},react_production.createContext=function(Fr){return Fr={$$typeof:br,_currentValue:Fr,_currentValue2:Fr,_threadCount:0,Provider:null,Consumer:null},Fr.Provider=Fr,Fr.Consumer={$$typeof:gr,_context:Fr},Fr},react_production.createElement=function(Fr,Qr,ra){var Ta,Ma={},La=null;if(Qr!=null)for(Ta in Qr.key!==void 0&&(La=""+Qr.key),Qr)Ur.call(Qr,Ta)&&Ta!=="key"&&Ta!=="__self"&&Ta!=="__source"&&(Ma[Ta]=Qr[Ta]);var za=arguments.length-2;if(za===1)Ma.children=ra;else if(1<za){for(var ya=Array(za),pa=0;pa<za;pa++)ya[pa]=arguments[pa+2];Ma.children=ya}if(Fr&&Fr.defaultProps)for(Ta in za=Fr.defaultProps,za)Ma[Ta]===void 0&&(Ma[Ta]=za[Ta]);return Kr(Fr,La,Ma)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(Fr){return{$$typeof:yr,render:Fr}},react_production.isValidElement=Wr,react_production.lazy=function(Fr){return{$$typeof:Sr,_payload:{_status:-1,_result:Fr},_init:ua}},react_production.memo=function(Fr,Qr){return{$$typeof:vr,type:Fr,compare:Qr===void 0?null:Qr}},react_production.startTransition=function(Fr){var Qr=Br.T,ra={};Br.T=ra;try{var Ta=Fr(),Ma=Br.S;Ma!==null&&Ma(ra,Ta),typeof Ta=="object"&&Ta!==null&&typeof Ta.then=="function"&&Ta.then(jr,Ba)}catch(La){Ba(La)}finally{Qr!==null&&ra.types!==null&&(Qr.types=ra.types),Br.T=Qr}},react_production.unstable_useCacheRefresh=function(){return Br.H.useCacheRefresh()},react_production.use=function(Fr){return Br.H.use(Fr)},react_production.useActionState=function(Fr,Qr,ra){return Br.H.useActionState(Fr,Qr,ra)},react_production.useCallback=function(Fr,Qr){return Br.H.useCallback(Fr,Qr)},react_production.useContext=function(Fr){return Br.H.useContext(Fr)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(Fr,Qr){return Br.H.useDeferredValue(Fr,Qr)},react_production.useEffect=function(Fr,Qr){return Br.H.useEffect(Fr,Qr)},react_production.useEffectEvent=function(Fr){return Br.H.useEffectEvent(Fr)},react_production.useId=function(){return Br.H.useId()},react_production.useImperativeHandle=function(Fr,Qr,ra){return Br.H.useImperativeHandle(Fr,Qr,ra)},react_production.useInsertionEffect=function(Fr,Qr){return Br.H.useInsertionEffect(Fr,Qr)},react_production.useLayoutEffect=function(Fr,Qr){return Br.H.useLayoutEffect(Fr,Qr)},react_production.useMemo=function(Fr,Qr){return Br.H.useMemo(Fr,Qr)},react_production.useOptimistic=function(Fr,Qr){return Br.H.useOptimistic(Fr,Qr)},react_production.useReducer=function(Fr,Qr,ra){return Br.H.useReducer(Fr,Qr,ra)},react_production.useRef=function(Fr){return Br.H.useRef(Fr)},react_production.useState=function(Fr){return Br.H.useState(Fr)},react_production.useSyncExternalStore=function(Fr,Qr,ra){return Br.H.useSyncExternalStore(Fr,Qr,ra)},react_production.useTransition=function(){return Br.H.useTransition()},react_production.version="19.2.4",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(ur){function cr($r,xa){var ua=$r.length;$r.push(xa);e:for(;0<ua;){var Ba=ua-1>>>1,Xr=$r[Ba];if(0<mr(Xr,xa))$r[Ba]=xa,$r[ua]=Xr,ua=Ba;else break e}}function hr($r){return $r.length===0?null:$r[0]}function dr($r){if($r.length===0)return null;var xa=$r[0],ua=$r.pop();if(ua!==xa){$r[0]=ua;e:for(var Ba=0,Xr=$r.length,Fr=Xr>>>1;Ba<Fr;){var Qr=2*(Ba+1)-1,ra=$r[Qr],Ta=Qr+1,Ma=$r[Ta];if(0>mr(ra,ua))Ta<Xr&&0>mr(Ma,ra)?($r[Ba]=Ma,$r[Ta]=ua,Ba=Ta):($r[Ba]=ra,$r[Qr]=ua,Ba=Qr);else if(Ta<Xr&&0>mr(Ma,ua))$r[Ba]=Ma,$r[Ta]=ua,Ba=Ta;else break e}}return xa}function mr($r,xa){var ua=$r.sortIndex-xa.sortIndex;return ua!==0?ua:$r.id-xa.id}if(ur.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var gr=performance;ur.unstable_now=function(){return gr.now()}}else{var br=Date,yr=br.now();ur.unstable_now=function(){return br.now()-yr}}var Tr=[],vr=[],Sr=1,_r=null,wr=3,Er=!1,Ar=!1,kr=!1,Dr=!1,Cr=typeof setTimeout=="function"?setTimeout:null,Or=typeof clearTimeout=="function"?clearTimeout:null,qr=typeof setImmediate<"u"?setImmediate:null;function Hr($r){for(var xa=hr(vr);xa!==null;){if(xa.callback===null)dr(vr);else if(xa.startTime<=$r)dr(vr),xa.sortIndex=xa.expirationTime,cr(Tr,xa);else break;xa=hr(vr)}}function Lr($r){if(kr=!1,Hr($r),!Ar)if(hr(Tr)!==null)Ar=!0,jr||(jr=!0,sa());else{var xa=hr(vr);xa!==null&&Ia(Lr,xa.startTime-$r)}}var jr=!1,Br=-1,Ur=5,Kr=-1;function Yr(){return Dr?!0:!(ur.unstable_now()-Kr<Ur)}function Wr(){if(Dr=!1,jr){var $r=ur.unstable_now();Kr=$r;var xa=!0;try{e:{Ar=!1,kr&&(kr=!1,Or(Br),Br=-1),Er=!0;var ua=wr;try{t:{for(Hr($r),_r=hr(Tr);_r!==null&&!(_r.expirationTime>$r&&Yr());){var Ba=_r.callback;if(typeof Ba=="function"){_r.callback=null,wr=_r.priorityLevel;var Xr=Ba(_r.expirationTime<=$r);if($r=ur.unstable_now(),typeof Xr=="function"){_r.callback=Xr,Hr($r),xa=!0;break t}_r===hr(Tr)&&dr(Tr),Hr($r)}else dr(Tr);_r=hr(Tr)}if(_r!==null)xa=!0;else{var Fr=hr(vr);Fr!==null&&Ia(Lr,Fr.startTime-$r),xa=!1}}break e}finally{_r=null,wr=ua,Er=!1}xa=void 0}}finally{xa?sa():jr=!1}}}var sa;if(typeof qr=="function")sa=function(){qr(Wr)};else if(typeof MessageChannel<"u"){var ta=new MessageChannel,oa=ta.port2;ta.port1.onmessage=Wr,sa=function(){oa.postMessage(null)}}else sa=function(){Cr(Wr,0)};function Ia($r,xa){Br=Cr(function(){$r(ur.unstable_now())},xa)}ur.unstable_IdlePriority=5,ur.unstable_ImmediatePriority=1,ur.unstable_LowPriority=4,ur.unstable_NormalPriority=3,ur.unstable_Profiling=null,ur.unstable_UserBlockingPriority=2,ur.unstable_cancelCallback=function($r){$r.callback=null},ur.unstable_forceFrameRate=function($r){0>$r||125<$r?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ur=0<$r?Math.floor(1e3/$r):5},ur.unstable_getCurrentPriorityLevel=function(){return wr},ur.unstable_next=function($r){switch(wr){case 1:case 2:case 3:var xa=3;break;default:xa=wr}var ua=wr;wr=xa;try{return $r()}finally{wr=ua}},ur.unstable_requestPaint=function(){Dr=!0},ur.unstable_runWithPriority=function($r,xa){switch($r){case 1:case 2:case 3:case 4:case 5:break;default:$r=3}var ua=wr;wr=$r;try{return xa()}finally{wr=ua}},ur.unstable_scheduleCallback=function($r,xa,ua){var Ba=ur.unstable_now();switch(typeof ua=="object"&&ua!==null?(ua=ua.delay,ua=typeof ua=="number"&&0<ua?Ba+ua:Ba):ua=Ba,$r){case 1:var Xr=-1;break;case 2:Xr=250;break;case 5:Xr=1073741823;break;case 4:Xr=1e4;break;default:Xr=5e3}return Xr=ua+Xr,$r={id:Sr++,callback:xa,priorityLevel:$r,startTime:ua,expirationTime:Xr,sortIndex:-1},ua>Ba?($r.sortIndex=ua,cr(vr,$r),hr(Tr)===null&&$r===hr(vr)&&(kr?(Or(Br),Br=-1):kr=!0,Ia(Lr,ua-Ba))):($r.sortIndex=Xr,cr(Tr,$r),Ar||Er||(Ar=!0,jr||(jr=!0,sa()))),$r},ur.unstable_shouldYield=Yr,ur.unstable_wrapCallback=function($r){var xa=wr;return function(){var ua=wr;wr=xa;try{return $r.apply(this,arguments)}finally{wr=ua}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var ur=requireReact();function cr(Tr){var vr="https://react.dev/errors/"+Tr;if(1<arguments.length){vr+="?args[]="+encodeURIComponent(arguments[1]);for(var Sr=2;Sr<arguments.length;Sr++)vr+="&args[]="+encodeURIComponent(arguments[Sr])}return"Minified React error #"+Tr+"; visit "+vr+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function hr(){}var dr={d:{f:hr,r:function(){throw Error(cr(522))},D:hr,C:hr,L:hr,m:hr,X:hr,S:hr,M:hr},p:0,findDOMNode:null},mr=Symbol.for("react.portal");function gr(Tr,vr,Sr){var _r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mr,key:_r==null?null:""+_r,children:Tr,containerInfo:vr,implementation:Sr}}var br=ur.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function yr(Tr,vr){if(Tr==="font")return"";if(typeof vr=="string")return vr==="use-credentials"?vr:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dr,reactDom_production.createPortal=function(Tr,vr){var Sr=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vr||vr.nodeType!==1&&vr.nodeType!==9&&vr.nodeType!==11)throw Error(cr(299));return gr(Tr,vr,null,Sr)},reactDom_production.flushSync=function(Tr){var vr=br.T,Sr=dr.p;try{if(br.T=null,dr.p=2,Tr)return Tr()}finally{br.T=vr,dr.p=Sr,dr.d.f()}},reactDom_production.preconnect=function(Tr,vr){typeof Tr=="string"&&(vr?(vr=vr.crossOrigin,vr=typeof vr=="string"?vr==="use-credentials"?vr:"":void 0):vr=null,dr.d.C(Tr,vr))},reactDom_production.prefetchDNS=function(Tr){typeof Tr=="string"&&dr.d.D(Tr)},reactDom_production.preinit=function(Tr,vr){if(typeof Tr=="string"&&vr&&typeof vr.as=="string"){var Sr=vr.as,_r=yr(Sr,vr.crossOrigin),wr=typeof vr.integrity=="string"?vr.integrity:void 0,Er=typeof vr.fetchPriority=="string"?vr.fetchPriority:void 0;Sr==="style"?dr.d.S(Tr,typeof vr.precedence=="string"?vr.precedence:void 0,{crossOrigin:_r,integrity:wr,fetchPriority:Er}):Sr==="script"&&dr.d.X(Tr,{crossOrigin:_r,integrity:wr,fetchPriority:Er,nonce:typeof vr.nonce=="string"?vr.nonce:void 0})}},reactDom_production.preinitModule=function(Tr,vr){if(typeof Tr=="string")if(typeof vr=="object"&&vr!==null){if(vr.as==null||vr.as==="script"){var Sr=yr(vr.as,vr.crossOrigin);dr.d.M(Tr,{crossOrigin:Sr,integrity:typeof vr.integrity=="string"?vr.integrity:void 0,nonce:typeof vr.nonce=="string"?vr.nonce:void 0})}}else vr==null&&dr.d.M(Tr)},reactDom_production.preload=function(Tr,vr){if(typeof Tr=="string"&&typeof vr=="object"&&vr!==null&&typeof vr.as=="string"){var Sr=vr.as,_r=yr(Sr,vr.crossOrigin);dr.d.L(Tr,Sr,{crossOrigin:_r,integrity:typeof vr.integrity=="string"?vr.integrity:void 0,nonce:typeof vr.nonce=="string"?vr.nonce:void 0,type:typeof vr.type=="string"?vr.type:void 0,fetchPriority:typeof vr.fetchPriority=="string"?vr.fetchPriority:void 0,referrerPolicy:typeof vr.referrerPolicy=="string"?vr.referrerPolicy:void 0,imageSrcSet:typeof vr.imageSrcSet=="string"?vr.imageSrcSet:void 0,imageSizes:typeof vr.imageSizes=="string"?vr.imageSizes:void 0,media:typeof vr.media=="string"?vr.media:void 0})}},reactDom_production.preloadModule=function(Tr,vr){if(typeof Tr=="string")if(vr){var Sr=yr(vr.as,vr.crossOrigin);dr.d.m(Tr,{as:typeof vr.as=="string"&&vr.as!=="script"?vr.as:void 0,crossOrigin:Sr,integrity:typeof vr.integrity=="string"?vr.integrity:void 0})}else dr.d.m(Tr)},reactDom_production.requestFormReset=function(Tr){dr.d.r(Tr)},reactDom_production.unstable_batchedUpdates=function(Tr,vr){return Tr(vr)},reactDom_production.useFormState=function(Tr,vr,Sr){return br.H.useFormState(Tr,vr,Sr)},reactDom_production.useFormStatus=function(){return br.H.useHostTransitionStatus()},reactDom_production.version="19.2.4",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function ur(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ur)}catch(cr){console.error(cr)}}return ur(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var ur=requireScheduler(),cr=requireReact(),hr=requireReactDom();function dr(ar){var lr="https://react.dev/errors/"+ar;if(1<arguments.length){lr+="?args[]="+encodeURIComponent(arguments[1]);for(var or=2;or<arguments.length;or++)lr+="&args[]="+encodeURIComponent(arguments[or])}return"Minified React error #"+ar+"; visit "+lr+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function mr(ar){return!(!ar||ar.nodeType!==1&&ar.nodeType!==9&&ar.nodeType!==11)}function gr(ar){var lr=ar,or=ar;if(ar.alternate)for(;lr.return;)lr=lr.return;else{ar=lr;do lr=ar,(lr.flags&4098)!==0&&(or=lr.return),ar=lr.return;while(ar)}return lr.tag===3?or:null}function br(ar){if(ar.tag===13){var lr=ar.memoizedState;if(lr===null&&(ar=ar.alternate,ar!==null&&(lr=ar.memoizedState)),lr!==null)return lr.dehydrated}return null}function yr(ar){if(ar.tag===31){var lr=ar.memoizedState;if(lr===null&&(ar=ar.alternate,ar!==null&&(lr=ar.memoizedState)),lr!==null)return lr.dehydrated}return null}function Tr(ar){if(gr(ar)!==ar)throw Error(dr(188))}function vr(ar){var lr=ar.alternate;if(!lr){if(lr=gr(ar),lr===null)throw Error(dr(188));return lr!==ar?null:ar}for(var or=ar,fr=lr;;){var pr=or.return;if(pr===null)break;var xr=pr.alternate;if(xr===null){if(fr=pr.return,fr!==null){or=fr;continue}break}if(pr.child===xr.child){for(xr=pr.child;xr;){if(xr===or)return Tr(pr),ar;if(xr===fr)return Tr(pr),lr;xr=xr.sibling}throw Error(dr(188))}if(or.return!==fr.return)or=pr,fr=xr;else{for(var Ir=!1,zr=pr.child;zr;){if(zr===or){Ir=!0,or=pr,fr=xr;break}if(zr===fr){Ir=!0,fr=pr,or=xr;break}zr=zr.sibling}if(!Ir){for(zr=xr.child;zr;){if(zr===or){Ir=!0,or=xr,fr=pr;break}if(zr===fr){Ir=!0,fr=xr,or=pr;break}zr=zr.sibling}if(!Ir)throw Error(dr(189))}}if(or.alternate!==fr)throw Error(dr(190))}if(or.tag!==3)throw Error(dr(188));return or.stateNode.current===or?ar:lr}function Sr(ar){var lr=ar.tag;if(lr===5||lr===26||lr===27||lr===6)return ar;for(ar=ar.child;ar!==null;){if(lr=Sr(ar),lr!==null)return lr;ar=ar.sibling}return null}var _r=Object.assign,wr=Symbol.for("react.element"),Er=Symbol.for("react.transitional.element"),Ar=Symbol.for("react.portal"),kr=Symbol.for("react.fragment"),Dr=Symbol.for("react.strict_mode"),Cr=Symbol.for("react.profiler"),Or=Symbol.for("react.consumer"),qr=Symbol.for("react.context"),Hr=Symbol.for("react.forward_ref"),Lr=Symbol.for("react.suspense"),jr=Symbol.for("react.suspense_list"),Br=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),Kr=Symbol.for("react.activity"),Yr=Symbol.for("react.memo_cache_sentinel"),Wr=Symbol.iterator;function sa(ar){return ar===null||typeof ar!="object"?null:(ar=Wr&&ar[Wr]||ar["@@iterator"],typeof ar=="function"?ar:null)}var ta=Symbol.for("react.client.reference");function oa(ar){if(ar==null)return null;if(typeof ar=="function")return ar.$$typeof===ta?null:ar.displayName||ar.name||null;if(typeof ar=="string")return ar;switch(ar){case kr:return"Fragment";case Cr:return"Profiler";case Dr:return"StrictMode";case Lr:return"Suspense";case jr:return"SuspenseList";case Kr:return"Activity"}if(typeof ar=="object")switch(ar.$$typeof){case Ar:return"Portal";case qr:return ar.displayName||"Context";case Or:return(ar._context.displayName||"Context")+".Consumer";case Hr:var lr=ar.render;return ar=ar.displayName,ar||(ar=lr.displayName||lr.name||"",ar=ar!==""?"ForwardRef("+ar+")":"ForwardRef"),ar;case Br:return lr=ar.displayName||null,lr!==null?lr:oa(ar.type)||"Memo";case Ur:lr=ar._payload,ar=ar._init;try{return oa(ar(lr))}catch{}}return null}var Ia=Array.isArray,$r=cr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xa=hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ua={pending:!1,data:null,method:null,action:null},Ba=[],Xr=-1;function Fr(ar){return{current:ar}}function Qr(ar){0>Xr||(ar.current=Ba[Xr],Ba[Xr]=null,Xr--)}function ra(ar,lr){Xr++,Ba[Xr]=ar.current,ar.current=lr}var Ta=Fr(null),Ma=Fr(null),La=Fr(null),za=Fr(null);function ya(ar,lr){switch(ra(La,lr),ra(Ma,ar),ra(Ta,null),lr.nodeType){case 9:case 11:ar=(ar=lr.documentElement)&&(ar=ar.namespaceURI)?Jp(ar):0;break;default:if(ar=lr.tagName,lr=lr.namespaceURI)lr=Jp(lr),ar=eg(lr,ar);else switch(ar){case"svg":ar=1;break;case"math":ar=2;break;default:ar=0}}Qr(Ta),ra(Ta,ar)}function pa(){Qr(Ta),Qr(Ma),Qr(La)}function Na(ar){ar.memoizedState!==null&&ra(za,ar);var lr=Ta.current,or=eg(lr,ar.type);lr!==or&&(ra(Ma,ar),ra(Ta,or))}function Ha(ar){Ma.current===ar&&(Qr(Ta),Qr(Ma)),za.current===ar&&(Qr(za),fu._currentValue=ua)}var Xa,na;function ia(ar){if(Xa===void 0)try{throw Error()}catch(or){var lr=or.stack.trim().match(/\n( *(at )?)/);Xa=lr&&lr[1]||"",na=-1<or.stack.indexOf(`
    at`)?" (<anonymous>)":-1<or.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xa+ar+na}var ba=!1;function Oa(ar,lr){if(!ar||ba)return"";ba=!0;var or=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var fr={DetermineComponentFrameRoot:function(){try{if(lr){var Ca=function(){throw Error()};if(Object.defineProperty(Ca.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ca,[])}catch(va){var ma=va}Reflect.construct(ar,[],Ca)}else{try{Ca.call()}catch(va){ma=va}ar.call(Ca.prototype)}}else{try{throw Error()}catch(va){ma=va}(Ca=ar())&&typeof Ca.catch=="function"&&Ca.catch(function(){})}}catch(va){if(va&&ma&&typeof va.stack=="string")return[va.stack,ma.stack]}return[null,null]}};fr.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var pr=Object.getOwnPropertyDescriptor(fr.DetermineComponentFrameRoot,"name");pr&&pr.configurable&&Object.defineProperty(fr.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var xr=fr.DetermineComponentFrameRoot(),Ir=xr[0],zr=xr[1];if(Ir&&zr){var Zr=Ir.split(`
`),ha=zr.split(`
`);for(pr=fr=0;fr<Zr.length&&!Zr[fr].includes("DetermineComponentFrameRoot");)fr++;for(;pr<ha.length&&!ha[pr].includes("DetermineComponentFrameRoot");)pr++;if(fr===Zr.length||pr===ha.length)for(fr=Zr.length-1,pr=ha.length-1;1<=fr&&0<=pr&&Zr[fr]!==ha[pr];)pr--;for(;1<=fr&&0<=pr;fr--,pr--)if(Zr[fr]!==ha[pr]){if(fr!==1||pr!==1)do if(fr--,pr--,0>pr||Zr[fr]!==ha[pr]){var _a=`
`+Zr[fr].replace(" at new "," at ");return ar.displayName&&_a.includes("<anonymous>")&&(_a=_a.replace("<anonymous>",ar.displayName)),_a}while(1<=fr&&0<=pr);break}}}finally{ba=!1,Error.prepareStackTrace=or}return(or=ar?ar.displayName||ar.name:"")?ia(or):""}function Pa(ar,lr){switch(ar.tag){case 26:case 27:case 5:return ia(ar.type);case 16:return ia("Lazy");case 13:return ar.child!==lr&&lr!==null?ia("Suspense Fallback"):ia("Suspense");case 19:return ia("SuspenseList");case 0:case 15:return Oa(ar.type,!1);case 11:return Oa(ar.type.render,!1);case 1:return Oa(ar.type,!0);case 31:return ia("Activity");default:return""}}function qa(ar){try{var lr="",or=null;do lr+=Pa(ar,or),or=ar,ar=ar.return;while(ar);return lr}catch(fr){return`
Error generating stack: `+fr.message+`
`+fr.stack}}var ea=Object.prototype.hasOwnProperty,ka=ur.unstable_scheduleCallback,Ua=ur.unstable_cancelCallback,ca=ur.unstable_shouldYield,Va=ur.unstable_requestPaint,ni=ur.unstable_now,ii=ur.unstable_getCurrentPriorityLevel,yi=ur.unstable_ImmediatePriority,Pr=ur.unstable_UserBlockingPriority,Rr=ur.unstable_NormalPriority,Mr=ur.unstable_LowPriority,Vr=ur.unstable_IdlePriority,aa=ur.log,fa=ur.unstable_setDisableYieldValue,Aa=null,Wa=null;function ei(ar){if(typeof aa=="function"&&fa(ar),Wa&&typeof Wa.setStrictMode=="function")try{Wa.setStrictMode(Aa,ar)}catch{}}var Ja=Math.clz32?Math.clz32:Fl,xi=Math.log,hi=Math.LN2;function Fl(ar){return ar>>>=0,ar===0?32:31-(xi(ar)/hi|0)|0}var Js=256,Ds=262144,_s=4194304;function xs(ar){var lr=ar&42;if(lr!==0)return lr;switch(ar&-ar){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return ar&261888;case 262144:case 524288:case 1048576:case 2097152:return ar&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return ar&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return ar}}function wa(ar,lr,or){var fr=ar.pendingLanes;if(fr===0)return 0;var pr=0,xr=ar.suspendedLanes,Ir=ar.pingedLanes;ar=ar.warmLanes;var zr=fr&134217727;return zr!==0?(fr=zr&~xr,fr!==0?pr=xs(fr):(Ir&=zr,Ir!==0?pr=xs(Ir):or||(or=zr&~ar,or!==0&&(pr=xs(or))))):(zr=fr&~xr,zr!==0?pr=xs(zr):Ir!==0?pr=xs(Ir):or||(or=fr&~ar,or!==0&&(pr=xs(or)))),pr===0?0:lr!==0&&lr!==pr&&(lr&xr)===0&&(xr=pr&-pr,or=lr&-lr,xr>=or||xr===32&&(or&4194048)!==0)?lr:pr}function Ea(ar,lr){return(ar.pendingLanes&~(ar.suspendedLanes&~ar.pingedLanes)&lr)===0}function Fa(ar,lr){switch(ar){case 1:case 2:case 4:case 8:case 64:return lr+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return lr+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nr(){var ar=_s;return _s<<=1,(_s&62914560)===0&&(_s=4194304),ar}function Gr(ar){for(var lr=[],or=0;31>or;or++)lr.push(ar);return lr}function Sa(ar,lr){ar.pendingLanes|=lr,lr!==268435456&&(ar.suspendedLanes=0,ar.pingedLanes=0,ar.warmLanes=0)}function Da(ar,lr,or,fr,pr,xr){var Ir=ar.pendingLanes;ar.pendingLanes=or,ar.suspendedLanes=0,ar.pingedLanes=0,ar.warmLanes=0,ar.expiredLanes&=or,ar.entangledLanes&=or,ar.errorRecoveryDisabledLanes&=or,ar.shellSuspendCounter=0;var zr=ar.entanglements,Zr=ar.expirationTimes,ha=ar.hiddenUpdates;for(or=Ir&~or;0<or;){var _a=31-Ja(or),Ca=1<<_a;zr[_a]=0,Zr[_a]=-1;var ma=ha[_a];if(ma!==null)for(ha[_a]=null,_a=0;_a<ma.length;_a++){var va=ma[_a];va!==null&&(va.lane&=-536870913)}or&=~Ca}fr!==0&&ja(ar,fr,0),xr!==0&&pr===0&&ar.tag!==0&&(ar.suspendedLanes|=xr&~(Ir&~lr))}function ja(ar,lr,or){ar.pendingLanes|=lr,ar.suspendedLanes&=~lr;var fr=31-Ja(lr);ar.entangledLanes|=lr,ar.entanglements[fr]=ar.entanglements[fr]|1073741824|or&261930}function Ka(ar,lr){var or=ar.entangledLanes|=lr;for(ar=ar.entanglements;or;){var fr=31-Ja(or),pr=1<<fr;pr&lr|ar[fr]&lr&&(ar[fr]|=lr),or&=~pr}}function si(ar,lr){var or=lr&-lr;return or=(or&42)!==0?1:ga(or),(or&(ar.suspendedLanes|lr))!==0?0:or}function ga(ar){switch(ar){case 2:ar=1;break;case 8:ar=4;break;case 32:ar=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:ar=128;break;case 268435456:ar=134217728;break;default:ar=0}return ar}function $a(ar){return ar&=-ar,2<ar?8<ar?(ar&134217727)!==0?32:268435456:8:2}function ti(){var ar=xa.p;return ar!==0?ar:(ar=window.event,ar===void 0?32:wg(ar.type))}function li(ar,lr){var or=xa.p;try{return xa.p=ar,lr()}finally{xa.p=or}}var _i=Math.random().toString(36).slice(2),Di="__reactFiber$"+_i,ki="__reactProps$"+_i,os="__reactContainer$"+_i,es="__reactEvents$"+_i,Ms="__reactListeners$"+_i,Ts="__reactHandles$"+_i,Yi="__reactResources$"+_i,El="__reactMarker$"+_i;function Hl(ar){delete ar[Di],delete ar[ki],delete ar[es],delete ar[Ms],delete ar[Ts]}function Bs(ar){var lr=ar[Di];if(lr)return lr;for(var or=ar.parentNode;or;){if(lr=or[os]||or[Di]){if(or=lr.alternate,lr.child!==null||or!==null&&or.child!==null)for(ar=lg(ar);ar!==null;){if(or=ar[Di])return or;ar=lg(ar)}return lr}ar=or,or=ar.parentNode}return null}function Gl(ar){if(ar=ar[Di]||ar[os]){var lr=ar.tag;if(lr===5||lr===6||lr===13||lr===31||lr===26||lr===27||lr===3)return ar}return null}function Ro(ar){var lr=ar.tag;if(lr===5||lr===26||lr===27||lr===6)return ar.stateNode;throw Error(dr(33))}function Vl(ar){var lr=ar[Yi];return lr||(lr=ar[Yi]={hoistableStyles:new Map,hoistableScripts:new Map}),lr}function ji(ar){ar[El]=!0}var Ld=new Set,Fd={};function _l(ar,lr){Xl(ar,lr),Xl(ar+"Capture",lr)}function Xl(ar,lr){for(Fd[ar]=lr,ar=0;ar<lr.length;ar++)Ld.add(lr[ar])}var Ig=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hd={},Gd={};function Og(ar){return ea.call(Gd,ar)?!0:ea.call(Hd,ar)?!1:Ig.test(ar)?Gd[ar]=!0:(Hd[ar]=!0,!1)}function yu(ar,lr,or){if(Og(lr))if(or===null)ar.removeAttribute(lr);else{switch(typeof or){case"undefined":case"function":case"symbol":ar.removeAttribute(lr);return;case"boolean":var fr=lr.toLowerCase().slice(0,5);if(fr!=="data-"&&fr!=="aria-"){ar.removeAttribute(lr);return}}ar.setAttribute(lr,""+or)}}function bu(ar,lr,or){if(or===null)ar.removeAttribute(lr);else{switch(typeof or){case"undefined":case"function":case"symbol":case"boolean":ar.removeAttribute(lr);return}ar.setAttribute(lr,""+or)}}function Is(ar,lr,or,fr){if(fr===null)ar.removeAttribute(or);else{switch(typeof fr){case"undefined":case"function":case"symbol":case"boolean":ar.removeAttribute(or);return}ar.setAttributeNS(lr,or,""+fr)}}function us(ar){switch(typeof ar){case"bigint":case"boolean":case"number":case"string":case"undefined":return ar;case"object":return ar;default:return""}}function Vd(ar){var lr=ar.type;return(ar=ar.nodeName)&&ar.toLowerCase()==="input"&&(lr==="checkbox"||lr==="radio")}function qg(ar,lr,or){var fr=Object.getOwnPropertyDescriptor(ar.constructor.prototype,lr);if(!ar.hasOwnProperty(lr)&&typeof fr<"u"&&typeof fr.get=="function"&&typeof fr.set=="function"){var pr=fr.get,xr=fr.set;return Object.defineProperty(ar,lr,{configurable:!0,get:function(){return pr.call(this)},set:function(Ir){or=""+Ir,xr.call(this,Ir)}}),Object.defineProperty(ar,lr,{enumerable:fr.enumerable}),{getValue:function(){return or},setValue:function(Ir){or=""+Ir},stopTracking:function(){ar._valueTracker=null,delete ar[lr]}}}}function Cc(ar){if(!ar._valueTracker){var lr=Vd(ar)?"checked":"value";ar._valueTracker=qg(ar,lr,""+ar[lr])}}function Xd(ar){if(!ar)return!1;var lr=ar._valueTracker;if(!lr)return!0;var or=lr.getValue(),fr="";return ar&&(fr=Vd(ar)?ar.checked?"true":"false":ar.value),ar=fr,ar!==or?(lr.setValue(ar),!0):!1}function vu(ar){if(ar=ar||(typeof document<"u"?document:void 0),typeof ar>"u")return null;try{return ar.activeElement||ar.body}catch{return ar.body}}var Ng=/[\n"\\]/g;function cs(ar){return ar.replace(Ng,function(lr){return"\\"+lr.charCodeAt(0).toString(16)+" "})}function Dc(ar,lr,or,fr,pr,xr,Ir,zr){ar.name="",Ir!=null&&typeof Ir!="function"&&typeof Ir!="symbol"&&typeof Ir!="boolean"?ar.type=Ir:ar.removeAttribute("type"),lr!=null?Ir==="number"?(lr===0&&ar.value===""||ar.value!=lr)&&(ar.value=""+us(lr)):ar.value!==""+us(lr)&&(ar.value=""+us(lr)):Ir!=="submit"&&Ir!=="reset"||ar.removeAttribute("value"),lr!=null?Mc(ar,Ir,us(lr)):or!=null?Mc(ar,Ir,us(or)):fr!=null&&ar.removeAttribute("value"),pr==null&&xr!=null&&(ar.defaultChecked=!!xr),pr!=null&&(ar.checked=pr&&typeof pr!="function"&&typeof pr!="symbol"),zr!=null&&typeof zr!="function"&&typeof zr!="symbol"&&typeof zr!="boolean"?ar.name=""+us(zr):ar.removeAttribute("name")}function Yd(ar,lr,or,fr,pr,xr,Ir,zr){if(xr!=null&&typeof xr!="function"&&typeof xr!="symbol"&&typeof xr!="boolean"&&(ar.type=xr),lr!=null||or!=null){if(!(xr!=="submit"&&xr!=="reset"||lr!=null)){Cc(ar);return}or=or!=null?""+us(or):"",lr=lr!=null?""+us(lr):or,zr||lr===ar.value||(ar.value=lr),ar.defaultValue=lr}fr=fr??pr,fr=typeof fr!="function"&&typeof fr!="symbol"&&!!fr,ar.checked=zr?ar.checked:!!fr,ar.defaultChecked=!!fr,Ir!=null&&typeof Ir!="function"&&typeof Ir!="symbol"&&typeof Ir!="boolean"&&(ar.name=Ir),Cc(ar)}function Mc(ar,lr,or){lr==="number"&&vu(ar.ownerDocument)===ar||ar.defaultValue===""+or||(ar.defaultValue=""+or)}function Yl(ar,lr,or,fr){if(ar=ar.options,lr){lr={};for(var pr=0;pr<or.length;pr++)lr["$"+or[pr]]=!0;for(or=0;or<ar.length;or++)pr=lr.hasOwnProperty("$"+ar[or].value),ar[or].selected!==pr&&(ar[or].selected=pr),pr&&fr&&(ar[or].defaultSelected=!0)}else{for(or=""+us(or),lr=null,pr=0;pr<ar.length;pr++){if(ar[pr].value===or){ar[pr].selected=!0,fr&&(ar[pr].defaultSelected=!0);return}lr!==null||ar[pr].disabled||(lr=ar[pr])}lr!==null&&(lr.selected=!0)}}function Wd(ar,lr,or){if(lr!=null&&(lr=""+us(lr),lr!==ar.value&&(ar.value=lr),or==null)){ar.defaultValue!==lr&&(ar.defaultValue=lr);return}ar.defaultValue=or!=null?""+us(or):""}function Kd(ar,lr,or,fr){if(lr==null){if(fr!=null){if(or!=null)throw Error(dr(92));if(Ia(fr)){if(1<fr.length)throw Error(dr(93));fr=fr[0]}or=fr}or==null&&(or=""),lr=or}or=us(lr),ar.defaultValue=or,fr=ar.textContent,fr===or&&fr!==""&&fr!==null&&(ar.value=fr),Cc(ar)}function Wl(ar,lr){if(lr){var or=ar.firstChild;if(or&&or===ar.lastChild&&or.nodeType===3){or.nodeValue=lr;return}}ar.textContent=lr}var Pg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zd(ar,lr,or){var fr=lr.indexOf("--")===0;or==null||typeof or=="boolean"||or===""?fr?ar.setProperty(lr,""):lr==="float"?ar.cssFloat="":ar[lr]="":fr?ar.setProperty(lr,or):typeof or!="number"||or===0||Pg.has(lr)?lr==="float"?ar.cssFloat=or:ar[lr]=(""+or).trim():ar[lr]=or+"px"}function $d(ar,lr,or){if(lr!=null&&typeof lr!="object")throw Error(dr(62));if(ar=ar.style,or!=null){for(var fr in or)!or.hasOwnProperty(fr)||lr!=null&&lr.hasOwnProperty(fr)||(fr.indexOf("--")===0?ar.setProperty(fr,""):fr==="float"?ar.cssFloat="":ar[fr]="");for(var pr in lr)fr=lr[pr],lr.hasOwnProperty(pr)&&or[pr]!==fr&&Zd(ar,pr,fr)}else for(var xr in lr)lr.hasOwnProperty(xr)&&Zd(ar,xr,lr[xr])}function Bc(ar){if(ar.indexOf("-")===-1)return!1;switch(ar){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ug=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xu(ar){return zg.test(""+ar)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":ar}function Os(){}var Ic=null;function Oc(ar){return ar=ar.target||ar.srcElement||window,ar.correspondingUseElement&&(ar=ar.correspondingUseElement),ar.nodeType===3?ar.parentNode:ar}var Kl=null,Zl=null;function Qd(ar){var lr=Gl(ar);if(lr&&(ar=lr.stateNode)){var or=ar[ki]||null;e:switch(ar=lr.stateNode,lr.type){case"input":if(Dc(ar,or.value,or.defaultValue,or.defaultValue,or.checked,or.defaultChecked,or.type,or.name),lr=or.name,or.type==="radio"&&lr!=null){for(or=ar;or.parentNode;)or=or.parentNode;for(or=or.querySelectorAll('input[name="'+cs(""+lr)+'"][type="radio"]'),lr=0;lr<or.length;lr++){var fr=or[lr];if(fr!==ar&&fr.form===ar.form){var pr=fr[ki]||null;if(!pr)throw Error(dr(90));Dc(fr,pr.value,pr.defaultValue,pr.defaultValue,pr.checked,pr.defaultChecked,pr.type,pr.name)}}for(lr=0;lr<or.length;lr++)fr=or[lr],fr.form===ar.form&&Xd(fr)}break e;case"textarea":Wd(ar,or.value,or.defaultValue);break e;case"select":lr=or.value,lr!=null&&Yl(ar,!!or.multiple,lr,!1)}}}var qc=!1;function Jd(ar,lr,or){if(qc)return ar(lr,or);qc=!0;try{var fr=ar(lr);return fr}finally{if(qc=!1,(Kl!==null||Zl!==null)&&(lc(),Kl&&(lr=Kl,ar=Zl,Zl=Kl=null,Qd(lr),ar)))for(lr=0;lr<ar.length;lr++)Qd(ar[lr])}}function ko(ar,lr){var or=ar.stateNode;if(or===null)return null;var fr=or[ki]||null;if(fr===null)return null;or=fr[lr];e:switch(lr){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(fr=!fr.disabled)||(ar=ar.type,fr=!(ar==="button"||ar==="input"||ar==="select"||ar==="textarea")),ar=!fr;break e;default:ar=!1}if(ar)return null;if(or&&typeof or!="function")throw Error(dr(231,lr,typeof or));return or}var qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nc=!1;if(qs)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){Nc=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{Nc=!1}var el=null,Pc=null,Tu=null;function eh(){if(Tu)return Tu;var ar,lr=Pc,or=lr.length,fr,pr="value"in el?el.value:el.textContent,xr=pr.length;for(ar=0;ar<or&&lr[ar]===pr[ar];ar++);var Ir=or-ar;for(fr=1;fr<=Ir&&lr[or-fr]===pr[xr-fr];fr++);return Tu=pr.slice(ar,1<fr?1-fr:void 0)}function Su(ar){var lr=ar.keyCode;return"charCode"in ar?(ar=ar.charCode,ar===0&&lr===13&&(ar=13)):ar=lr,ar===10&&(ar=13),32<=ar||ar===13?ar:0}function wu(){return!0}function th(){return!1}function Wi(ar){function lr(or,fr,pr,xr,Ir){this._reactName=or,this._targetInst=pr,this.type=fr,this.nativeEvent=xr,this.target=Ir,this.currentTarget=null;for(var zr in ar)ar.hasOwnProperty(zr)&&(or=ar[zr],this[zr]=or?or(xr):xr[zr]);return this.isDefaultPrevented=(xr.defaultPrevented!=null?xr.defaultPrevented:xr.returnValue===!1)?wu:th,this.isPropagationStopped=th,this}return _r(lr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var or=this.nativeEvent;or&&(or.preventDefault?or.preventDefault():typeof or.returnValue!="unknown"&&(or.returnValue=!1),this.isDefaultPrevented=wu)},stopPropagation:function(){var or=this.nativeEvent;or&&(or.stopPropagation?or.stopPropagation():typeof or.cancelBubble!="unknown"&&(or.cancelBubble=!0),this.isPropagationStopped=wu)},persist:function(){},isPersistent:wu}),lr}var Al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(ar){return ar.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eu=Wi(Al),Do=_r({},Al,{view:0,detail:0}),jg=Wi(Do),Uc,zc,Mo,_u=_r({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lc,button:0,buttons:0,relatedTarget:function(ar){return ar.relatedTarget===void 0?ar.fromElement===ar.srcElement?ar.toElement:ar.fromElement:ar.relatedTarget},movementX:function(ar){return"movementX"in ar?ar.movementX:(ar!==Mo&&(Mo&&ar.type==="mousemove"?(Uc=ar.screenX-Mo.screenX,zc=ar.screenY-Mo.screenY):zc=Uc=0,Mo=ar),Uc)},movementY:function(ar){return"movementY"in ar?ar.movementY:zc}}),rh=Wi(_u),Lg=_r({},_u,{dataTransfer:0}),Fg=Wi(Lg),Hg=_r({},Do,{relatedTarget:0}),jc=Wi(Hg),Gg=_r({},Al,{animationName:0,elapsedTime:0,pseudoElement:0}),Vg=Wi(Gg),Xg=_r({},Al,{clipboardData:function(ar){return"clipboardData"in ar?ar.clipboardData:window.clipboardData}}),Yg=Wi(Xg),Wg=_r({},Al,{data:0}),nh=Wi(Wg),Kg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$g={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qg(ar){var lr=this.nativeEvent;return lr.getModifierState?lr.getModifierState(ar):(ar=$g[ar])?!!lr[ar]:!1}function Lc(){return Qg}var Jg=_r({},Do,{key:function(ar){if(ar.key){var lr=Kg[ar.key]||ar.key;if(lr!=="Unidentified")return lr}return ar.type==="keypress"?(ar=Su(ar),ar===13?"Enter":String.fromCharCode(ar)):ar.type==="keydown"||ar.type==="keyup"?Zg[ar.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lc,charCode:function(ar){return ar.type==="keypress"?Su(ar):0},keyCode:function(ar){return ar.type==="keydown"||ar.type==="keyup"?ar.keyCode:0},which:function(ar){return ar.type==="keypress"?Su(ar):ar.type==="keydown"||ar.type==="keyup"?ar.keyCode:0}}),e0=Wi(Jg),t0=_r({},_u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ah=Wi(t0),r0=_r({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lc}),n0=Wi(r0),a0=_r({},Al,{propertyName:0,elapsedTime:0,pseudoElement:0}),i0=Wi(a0),s0=_r({},_u,{deltaX:function(ar){return"deltaX"in ar?ar.deltaX:"wheelDeltaX"in ar?-ar.wheelDeltaX:0},deltaY:function(ar){return"deltaY"in ar?ar.deltaY:"wheelDeltaY"in ar?-ar.wheelDeltaY:"wheelDelta"in ar?-ar.wheelDelta:0},deltaZ:0,deltaMode:0}),l0=Wi(s0),o0=_r({},Al,{newState:0,oldState:0}),u0=Wi(o0),c0=[9,13,27,32],Fc=qs&&"CompositionEvent"in window,Bo=null;qs&&"documentMode"in document&&(Bo=document.documentMode);var f0=qs&&"TextEvent"in window&&!Bo,ih=qs&&(!Fc||Bo&&8<Bo&&11>=Bo),sh=" ",lh=!1;function oh(ar,lr){switch(ar){case"keyup":return c0.indexOf(lr.keyCode)!==-1;case"keydown":return lr.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uh(ar){return ar=ar.detail,typeof ar=="object"&&"data"in ar?ar.data:null}var $l=!1;function d0(ar,lr){switch(ar){case"compositionend":return uh(lr);case"keypress":return lr.which!==32?null:(lh=!0,sh);case"textInput":return ar=lr.data,ar===sh&&lh?null:ar;default:return null}}function h0(ar,lr){if($l)return ar==="compositionend"||!Fc&&oh(ar,lr)?(ar=eh(),Tu=Pc=el=null,$l=!1,ar):null;switch(ar){case"paste":return null;case"keypress":if(!(lr.ctrlKey||lr.altKey||lr.metaKey)||lr.ctrlKey&&lr.altKey){if(lr.char&&1<lr.char.length)return lr.char;if(lr.which)return String.fromCharCode(lr.which)}return null;case"compositionend":return ih&&lr.locale!=="ko"?null:lr.data;default:return null}}var m0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ch(ar){var lr=ar&&ar.nodeName&&ar.nodeName.toLowerCase();return lr==="input"?!!m0[ar.type]:lr==="textarea"}function fh(ar,lr,or,fr){Kl?Zl?Zl.push(fr):Zl=[fr]:Kl=fr,lr=mc(lr,"onChange"),0<lr.length&&(or=new Eu("onChange","change",null,or,fr),ar.push({event:or,listeners:lr}))}var Io=null,Oo=null;function p0(ar){Yp(ar,0)}function Au(ar){var lr=Ro(ar);if(Xd(lr))return ar}function dh(ar,lr){if(ar==="change")return lr}var hh=!1;if(qs){var Hc;if(qs){var Gc="oninput"in document;if(!Gc){var mh=document.createElement("div");mh.setAttribute("oninput","return;"),Gc=typeof mh.oninput=="function"}Hc=Gc}else Hc=!1;hh=Hc&&(!document.documentMode||9<document.documentMode)}function ph(){Io&&(Io.detachEvent("onpropertychange",gh),Oo=Io=null)}function gh(ar){if(ar.propertyName==="value"&&Au(Oo)){var lr=[];fh(lr,Oo,ar,Oc(ar)),Jd(p0,lr)}}function g0(ar,lr,or){ar==="focusin"?(ph(),Io=lr,Oo=or,Io.attachEvent("onpropertychange",gh)):ar==="focusout"&&ph()}function y0(ar){if(ar==="selectionchange"||ar==="keyup"||ar==="keydown")return Au(Oo)}function b0(ar,lr){if(ar==="click")return Au(lr)}function v0(ar,lr){if(ar==="input"||ar==="change")return Au(lr)}function x0(ar,lr){return ar===lr&&(ar!==0||1/ar===1/lr)||ar!==ar&&lr!==lr}var ts=typeof Object.is=="function"?Object.is:x0;function qo(ar,lr){if(ts(ar,lr))return!0;if(typeof ar!="object"||ar===null||typeof lr!="object"||lr===null)return!1;var or=Object.keys(ar),fr=Object.keys(lr);if(or.length!==fr.length)return!1;for(fr=0;fr<or.length;fr++){var pr=or[fr];if(!ea.call(lr,pr)||!ts(ar[pr],lr[pr]))return!1}return!0}function yh(ar){for(;ar&&ar.firstChild;)ar=ar.firstChild;return ar}function bh(ar,lr){var or=yh(ar);ar=0;for(var fr;or;){if(or.nodeType===3){if(fr=ar+or.textContent.length,ar<=lr&&fr>=lr)return{node:or,offset:lr-ar};ar=fr}e:{for(;or;){if(or.nextSibling){or=or.nextSibling;break e}or=or.parentNode}or=void 0}or=yh(or)}}function vh(ar,lr){return ar&&lr?ar===lr?!0:ar&&ar.nodeType===3?!1:lr&&lr.nodeType===3?vh(ar,lr.parentNode):"contains"in ar?ar.contains(lr):ar.compareDocumentPosition?!!(ar.compareDocumentPosition(lr)&16):!1:!1}function xh(ar){ar=ar!=null&&ar.ownerDocument!=null&&ar.ownerDocument.defaultView!=null?ar.ownerDocument.defaultView:window;for(var lr=vu(ar.document);lr instanceof ar.HTMLIFrameElement;){try{var or=typeof lr.contentWindow.location.href=="string"}catch{or=!1}if(or)ar=lr.contentWindow;else break;lr=vu(ar.document)}return lr}function Vc(ar){var lr=ar&&ar.nodeName&&ar.nodeName.toLowerCase();return lr&&(lr==="input"&&(ar.type==="text"||ar.type==="search"||ar.type==="tel"||ar.type==="url"||ar.type==="password")||lr==="textarea"||ar.contentEditable==="true")}var T0=qs&&"documentMode"in document&&11>=document.documentMode,Ql=null,Xc=null,No=null,Yc=!1;function Th(ar,lr,or){var fr=or.window===or?or.document:or.nodeType===9?or:or.ownerDocument;Yc||Ql==null||Ql!==vu(fr)||(fr=Ql,"selectionStart"in fr&&Vc(fr)?fr={start:fr.selectionStart,end:fr.selectionEnd}:(fr=(fr.ownerDocument&&fr.ownerDocument.defaultView||window).getSelection(),fr={anchorNode:fr.anchorNode,anchorOffset:fr.anchorOffset,focusNode:fr.focusNode,focusOffset:fr.focusOffset}),No&&qo(No,fr)||(No=fr,fr=mc(Xc,"onSelect"),0<fr.length&&(lr=new Eu("onSelect","select",null,lr,or),ar.push({event:lr,listeners:fr}),lr.target=Ql)))}function Rl(ar,lr){var or={};return or[ar.toLowerCase()]=lr.toLowerCase(),or["Webkit"+ar]="webkit"+lr,or["Moz"+ar]="moz"+lr,or}var Jl={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionrun:Rl("Transition","TransitionRun"),transitionstart:Rl("Transition","TransitionStart"),transitioncancel:Rl("Transition","TransitionCancel"),transitionend:Rl("Transition","TransitionEnd")},Wc={},Sh={};qs&&(Sh=document.createElement("div").style,"AnimationEvent"in window||(delete Jl.animationend.animation,delete Jl.animationiteration.animation,delete Jl.animationstart.animation),"TransitionEvent"in window||delete Jl.transitionend.transition);function kl(ar){if(Wc[ar])return Wc[ar];if(!Jl[ar])return ar;var lr=Jl[ar],or;for(or in lr)if(lr.hasOwnProperty(or)&&or in Sh)return Wc[ar]=lr[or];return ar}var wh=kl("animationend"),Eh=kl("animationiteration"),_h=kl("animationstart"),S0=kl("transitionrun"),w0=kl("transitionstart"),E0=kl("transitioncancel"),Ah=kl("transitionend"),Rh=new Map,Kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kc.push("scrollEnd");function Ss(ar,lr){Rh.set(ar,lr),_l(lr,[ar])}var Ru=typeof reportError=="function"?reportError:function(ar){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var lr=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ar=="object"&&ar!==null&&typeof ar.message=="string"?String(ar.message):String(ar),error:ar});if(!window.dispatchEvent(lr))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ar);return}console.error(ar)},fs=[],eo=0,Zc=0;function ku(){for(var ar=eo,lr=Zc=eo=0;lr<ar;){var or=fs[lr];fs[lr++]=null;var fr=fs[lr];fs[lr++]=null;var pr=fs[lr];fs[lr++]=null;var xr=fs[lr];if(fs[lr++]=null,fr!==null&&pr!==null){var Ir=fr.pending;Ir===null?pr.next=pr:(pr.next=Ir.next,Ir.next=pr),fr.pending=pr}xr!==0&&kh(or,pr,xr)}}function Cu(ar,lr,or,fr){fs[eo++]=ar,fs[eo++]=lr,fs[eo++]=or,fs[eo++]=fr,Zc|=fr,ar.lanes|=fr,ar=ar.alternate,ar!==null&&(ar.lanes|=fr)}function $c(ar,lr,or,fr){return Cu(ar,lr,or,fr),Du(ar)}function Cl(ar,lr){return Cu(ar,null,null,lr),Du(ar)}function kh(ar,lr,or){ar.lanes|=or;var fr=ar.alternate;fr!==null&&(fr.lanes|=or);for(var pr=!1,xr=ar.return;xr!==null;)xr.childLanes|=or,fr=xr.alternate,fr!==null&&(fr.childLanes|=or),xr.tag===22&&(ar=xr.stateNode,ar===null||ar._visibility&1||(pr=!0)),ar=xr,xr=xr.return;return ar.tag===3?(xr=ar.stateNode,pr&&lr!==null&&(pr=31-Ja(or),ar=xr.hiddenUpdates,fr=ar[pr],fr===null?ar[pr]=[lr]:fr.push(lr),lr.lane=or|536870912),xr):null}function Du(ar){if(50<au)throw au=0,ld=null,Error(dr(185));for(var lr=ar.return;lr!==null;)ar=lr,lr=ar.return;return ar.tag===3?ar.stateNode:null}var to={};function _0(ar,lr,or,fr){this.tag=ar,this.key=or,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=lr,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=fr,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(ar,lr,or,fr){return new _0(ar,lr,or,fr)}function Qc(ar){return ar=ar.prototype,!(!ar||!ar.isReactComponent)}function Ns(ar,lr){var or=ar.alternate;return or===null?(or=rs(ar.tag,lr,ar.key,ar.mode),or.elementType=ar.elementType,or.type=ar.type,or.stateNode=ar.stateNode,or.alternate=ar,ar.alternate=or):(or.pendingProps=lr,or.type=ar.type,or.flags=0,or.subtreeFlags=0,or.deletions=null),or.flags=ar.flags&65011712,or.childLanes=ar.childLanes,or.lanes=ar.lanes,or.child=ar.child,or.memoizedProps=ar.memoizedProps,or.memoizedState=ar.memoizedState,or.updateQueue=ar.updateQueue,lr=ar.dependencies,or.dependencies=lr===null?null:{lanes:lr.lanes,firstContext:lr.firstContext},or.sibling=ar.sibling,or.index=ar.index,or.ref=ar.ref,or.refCleanup=ar.refCleanup,or}function Ch(ar,lr){ar.flags&=65011714;var or=ar.alternate;return or===null?(ar.childLanes=0,ar.lanes=lr,ar.child=null,ar.subtreeFlags=0,ar.memoizedProps=null,ar.memoizedState=null,ar.updateQueue=null,ar.dependencies=null,ar.stateNode=null):(ar.childLanes=or.childLanes,ar.lanes=or.lanes,ar.child=or.child,ar.subtreeFlags=0,ar.deletions=null,ar.memoizedProps=or.memoizedProps,ar.memoizedState=or.memoizedState,ar.updateQueue=or.updateQueue,ar.type=or.type,lr=or.dependencies,ar.dependencies=lr===null?null:{lanes:lr.lanes,firstContext:lr.firstContext}),ar}function Mu(ar,lr,or,fr,pr,xr){var Ir=0;if(fr=ar,typeof ar=="function")Qc(ar)&&(Ir=1);else if(typeof ar=="string")Ir=Dy(ar,or,Ta.current)?26:ar==="html"||ar==="head"||ar==="body"?27:5;else e:switch(ar){case Kr:return ar=rs(31,or,lr,pr),ar.elementType=Kr,ar.lanes=xr,ar;case kr:return Dl(or.children,pr,xr,lr);case Dr:Ir=8,pr|=24;break;case Cr:return ar=rs(12,or,lr,pr|2),ar.elementType=Cr,ar.lanes=xr,ar;case Lr:return ar=rs(13,or,lr,pr),ar.elementType=Lr,ar.lanes=xr,ar;case jr:return ar=rs(19,or,lr,pr),ar.elementType=jr,ar.lanes=xr,ar;default:if(typeof ar=="object"&&ar!==null)switch(ar.$$typeof){case qr:Ir=10;break e;case Or:Ir=9;break e;case Hr:Ir=11;break e;case Br:Ir=14;break e;case Ur:Ir=16,fr=null;break e}Ir=29,or=Error(dr(130,ar===null?"null":typeof ar,"")),fr=null}return lr=rs(Ir,or,lr,pr),lr.elementType=ar,lr.type=fr,lr.lanes=xr,lr}function Dl(ar,lr,or,fr){return ar=rs(7,ar,fr,lr),ar.lanes=or,ar}function Jc(ar,lr,or){return ar=rs(6,ar,null,lr),ar.lanes=or,ar}function Dh(ar){var lr=rs(18,null,null,0);return lr.stateNode=ar,lr}function ef(ar,lr,or){return lr=rs(4,ar.children!==null?ar.children:[],ar.key,lr),lr.lanes=or,lr.stateNode={containerInfo:ar.containerInfo,pendingChildren:null,implementation:ar.implementation},lr}var Mh=new WeakMap;function ds(ar,lr){if(typeof ar=="object"&&ar!==null){var or=Mh.get(ar);return or!==void 0?or:(lr={value:ar,source:lr,stack:qa(lr)},Mh.set(ar,lr),lr)}return{value:ar,source:lr,stack:qa(lr)}}var ro=[],no=0,Bu=null,Po=0,hs=[],ps=0,tl=null,As=1,Rs="";function Ps(ar,lr){ro[no++]=Po,ro[no++]=Bu,Bu=ar,Po=lr}function Bh(ar,lr,or){hs[ps++]=As,hs[ps++]=Rs,hs[ps++]=tl,tl=ar;var fr=As;ar=Rs;var pr=32-Ja(fr)-1;fr&=~(1<<pr),or+=1;var xr=32-Ja(lr)+pr;if(30<xr){var Ir=pr-pr%5;xr=(fr&(1<<Ir)-1).toString(32),fr>>=Ir,pr-=Ir,As=1<<32-Ja(lr)+pr|or<<pr|fr,Rs=xr+ar}else As=1<<xr|or<<pr|fr,Rs=ar}function tf(ar){ar.return!==null&&(Ps(ar,1),Bh(ar,1,0))}function rf(ar){for(;ar===Bu;)Bu=ro[--no],ro[no]=null,Po=ro[--no],ro[no]=null;for(;ar===tl;)tl=hs[--ps],hs[ps]=null,Rs=hs[--ps],hs[ps]=null,As=hs[--ps],hs[ps]=null}function Ih(ar,lr){hs[ps++]=As,hs[ps++]=Rs,hs[ps++]=tl,As=lr.id,Rs=lr.overflow,tl=ar}var Fi=null,Ai=null,di=!1,rl=null,gs=!1,nf=Error(dr(519));function nl(ar){var lr=Error(dr(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(ds(lr,ar)),nf}function Oh(ar){var lr=ar.stateNode,or=ar.type,fr=ar.memoizedProps;switch(lr[Di]=ar,lr[ki]=fr,or){case"dialog":ui("cancel",lr),ui("close",lr);break;case"iframe":case"object":case"embed":ui("load",lr);break;case"video":case"audio":for(or=0;or<su.length;or++)ui(su[or],lr);break;case"source":ui("error",lr);break;case"img":case"image":case"link":ui("error",lr),ui("load",lr);break;case"details":ui("toggle",lr);break;case"input":ui("invalid",lr),Yd(lr,fr.value,fr.defaultValue,fr.checked,fr.defaultChecked,fr.type,fr.name,!0);break;case"select":ui("invalid",lr);break;case"textarea":ui("invalid",lr),Kd(lr,fr.value,fr.defaultValue,fr.children)}or=fr.children,typeof or!="string"&&typeof or!="number"&&typeof or!="bigint"||lr.textContent===""+or||fr.suppressHydrationWarning===!0||$p(lr.textContent,or)?(fr.popover!=null&&(ui("beforetoggle",lr),ui("toggle",lr)),fr.onScroll!=null&&ui("scroll",lr),fr.onScrollEnd!=null&&ui("scrollend",lr),fr.onClick!=null&&(lr.onclick=Os),lr=!0):lr=!1,lr||nl(ar,!0)}function qh(ar){for(Fi=ar.return;Fi;)switch(Fi.tag){case 5:case 31:case 13:gs=!1;return;case 27:case 3:gs=!0;return;default:Fi=Fi.return}}function ao(ar){if(ar!==Fi)return!1;if(!di)return qh(ar),di=!0,!1;var lr=ar.tag,or;if((or=lr!==3&&lr!==27)&&((or=lr===5)&&(or=ar.type,or=!(or!=="form"&&or!=="button")||Sd(ar.type,ar.memoizedProps)),or=!or),or&&Ai&&nl(ar),qh(ar),lr===13){if(ar=ar.memoizedState,ar=ar!==null?ar.dehydrated:null,!ar)throw Error(dr(317));Ai=sg(ar)}else if(lr===31){if(ar=ar.memoizedState,ar=ar!==null?ar.dehydrated:null,!ar)throw Error(dr(317));Ai=sg(ar)}else lr===27?(lr=Ai,yl(ar.type)?(ar=Rd,Rd=null,Ai=ar):Ai=lr):Ai=Fi?bs(ar.stateNode.nextSibling):null;return!0}function Ml(){Ai=Fi=null,di=!1}function af(){var ar=rl;return ar!==null&&(Qi===null?Qi=ar:Qi.push.apply(Qi,ar),rl=null),ar}function Uo(ar){rl===null?rl=[ar]:rl.push(ar)}var sf=Fr(null),Bl=null,Us=null;function al(ar,lr,or){ra(sf,lr._currentValue),lr._currentValue=or}function zs(ar){ar._currentValue=sf.current,Qr(sf)}function lf(ar,lr,or){for(;ar!==null;){var fr=ar.alternate;if((ar.childLanes&lr)!==lr?(ar.childLanes|=lr,fr!==null&&(fr.childLanes|=lr)):fr!==null&&(fr.childLanes&lr)!==lr&&(fr.childLanes|=lr),ar===or)break;ar=ar.return}}function of(ar,lr,or,fr){var pr=ar.child;for(pr!==null&&(pr.return=ar);pr!==null;){var xr=pr.dependencies;if(xr!==null){var Ir=pr.child;xr=xr.firstContext;e:for(;xr!==null;){var zr=xr;xr=pr;for(var Zr=0;Zr<lr.length;Zr++)if(zr.context===lr[Zr]){xr.lanes|=or,zr=xr.alternate,zr!==null&&(zr.lanes|=or),lf(xr.return,or,ar),fr||(Ir=null);break e}xr=zr.next}}else if(pr.tag===18){if(Ir=pr.return,Ir===null)throw Error(dr(341));Ir.lanes|=or,xr=Ir.alternate,xr!==null&&(xr.lanes|=or),lf(Ir,or,ar),Ir=null}else Ir=pr.child;if(Ir!==null)Ir.return=pr;else for(Ir=pr;Ir!==null;){if(Ir===ar){Ir=null;break}if(pr=Ir.sibling,pr!==null){pr.return=Ir.return,Ir=pr;break}Ir=Ir.return}pr=Ir}}function io(ar,lr,or,fr){ar=null;for(var pr=lr,xr=!1;pr!==null;){if(!xr){if((pr.flags&524288)!==0)xr=!0;else if((pr.flags&262144)!==0)break}if(pr.tag===10){var Ir=pr.alternate;if(Ir===null)throw Error(dr(387));if(Ir=Ir.memoizedProps,Ir!==null){var zr=pr.type;ts(pr.pendingProps.value,Ir.value)||(ar!==null?ar.push(zr):ar=[zr])}}else if(pr===za.current){if(Ir=pr.alternate,Ir===null)throw Error(dr(387));Ir.memoizedState.memoizedState!==pr.memoizedState.memoizedState&&(ar!==null?ar.push(fu):ar=[fu])}pr=pr.return}ar!==null&&of(lr,ar,or,fr),lr.flags|=262144}function Iu(ar){for(ar=ar.firstContext;ar!==null;){if(!ts(ar.context._currentValue,ar.memoizedValue))return!0;ar=ar.next}return!1}function Il(ar){Bl=ar,Us=null,ar=ar.dependencies,ar!==null&&(ar.firstContext=null)}function Hi(ar){return Nh(Bl,ar)}function Ou(ar,lr){return Bl===null&&Il(ar),Nh(ar,lr)}function Nh(ar,lr){var or=lr._currentValue;if(lr={context:lr,memoizedValue:or,next:null},Us===null){if(ar===null)throw Error(dr(308));Us=lr,ar.dependencies={lanes:0,firstContext:lr},ar.flags|=524288}else Us=Us.next=lr;return or}var A0=typeof AbortController<"u"?AbortController:function(){var ar=[],lr=this.signal={aborted:!1,addEventListener:function(or,fr){ar.push(fr)}};this.abort=function(){lr.aborted=!0,ar.forEach(function(or){return or()})}},R0=ur.unstable_scheduleCallback,k0=ur.unstable_NormalPriority,qi={$$typeof:qr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new A0,data:new Map,refCount:0}}function zo(ar){ar.refCount--,ar.refCount===0&&R0(k0,function(){ar.controller.abort()})}var jo=null,cf=0,so=0,lo=null;function C0(ar,lr){if(jo===null){var or=jo=[];cf=0,so=hd(),lo={status:"pending",value:void 0,then:function(fr){or.push(fr)}}}return cf++,lr.then(Ph,Ph),lr}function Ph(){if(--cf===0&&jo!==null){lo!==null&&(lo.status="fulfilled");var ar=jo;jo=null,so=0,lo=null;for(var lr=0;lr<ar.length;lr++)(0,ar[lr])()}}function D0(ar,lr){var or=[],fr={status:"pending",value:null,reason:null,then:function(pr){or.push(pr)}};return ar.then(function(){fr.status="fulfilled",fr.value=lr;for(var pr=0;pr<or.length;pr++)(0,or[pr])(lr)},function(pr){for(fr.status="rejected",fr.reason=pr,pr=0;pr<or.length;pr++)(0,or[pr])(void 0)}),fr}var Uh=$r.S;$r.S=function(ar,lr){Tp=ni(),typeof lr=="object"&&lr!==null&&typeof lr.then=="function"&&C0(ar,lr),Uh!==null&&Uh(ar,lr)};var Ol=Fr(null);function ff(){var ar=Ol.current;return ar!==null?ar:Ei.pooledCache}function qu(ar,lr){lr===null?ra(Ol,Ol.current):ra(Ol,lr.pool)}function zh(){var ar=ff();return ar===null?null:{parent:qi._currentValue,pool:ar}}var oo=Error(dr(460)),df=Error(dr(474)),Nu=Error(dr(542)),Pu={then:function(){}};function jh(ar){return ar=ar.status,ar==="fulfilled"||ar==="rejected"}function Lh(ar,lr,or){switch(or=ar[or],or===void 0?ar.push(lr):or!==lr&&(lr.then(Os,Os),lr=or),lr.status){case"fulfilled":return lr.value;case"rejected":throw ar=lr.reason,Hh(ar),ar;default:if(typeof lr.status=="string")lr.then(Os,Os);else{if(ar=Ei,ar!==null&&100<ar.shellSuspendCounter)throw Error(dr(482));ar=lr,ar.status="pending",ar.then(function(fr){if(lr.status==="pending"){var pr=lr;pr.status="fulfilled",pr.value=fr}},function(fr){if(lr.status==="pending"){var pr=lr;pr.status="rejected",pr.reason=fr}})}switch(lr.status){case"fulfilled":return lr.value;case"rejected":throw ar=lr.reason,Hh(ar),ar}throw Nl=lr,oo}}function ql(ar){try{var lr=ar._init;return lr(ar._payload)}catch(or){throw or!==null&&typeof or=="object"&&typeof or.then=="function"?(Nl=or,oo):or}}var Nl=null;function Fh(){if(Nl===null)throw Error(dr(459));var ar=Nl;return Nl=null,ar}function Hh(ar){if(ar===oo||ar===Nu)throw Error(dr(483))}var uo=null,Lo=0;function Uu(ar){var lr=Lo;return Lo+=1,uo===null&&(uo=[]),Lh(uo,ar,lr)}function Fo(ar,lr){lr=lr.props.ref,ar.ref=lr!==void 0?lr:null}function zu(ar,lr){throw lr.$$typeof===wr?Error(dr(525)):(ar=Object.prototype.toString.call(lr),Error(dr(31,ar==="[object Object]"?"object with keys {"+Object.keys(lr).join(", ")+"}":ar)))}function Gh(ar){function lr(la,Jr){if(ar){var da=la.deletions;da===null?(la.deletions=[Jr],la.flags|=16):da.push(Jr)}}function or(la,Jr){if(!ar)return null;for(;Jr!==null;)lr(la,Jr),Jr=Jr.sibling;return null}function fr(la){for(var Jr=new Map;la!==null;)la.key!==null?Jr.set(la.key,la):Jr.set(la.index,la),la=la.sibling;return Jr}function pr(la,Jr){return la=Ns(la,Jr),la.index=0,la.sibling=null,la}function xr(la,Jr,da){return la.index=da,ar?(da=la.alternate,da!==null?(da=da.index,da<Jr?(la.flags|=67108866,Jr):da):(la.flags|=67108866,Jr)):(la.flags|=1048576,Jr)}function Ir(la){return ar&&la.alternate===null&&(la.flags|=67108866),la}function zr(la,Jr,da,Ra){return Jr===null||Jr.tag!==6?(Jr=Jc(da,la.mode,Ra),Jr.return=la,Jr):(Jr=pr(Jr,da),Jr.return=la,Jr)}function Zr(la,Jr,da,Ra){var Za=da.type;return Za===kr?_a(la,Jr,da.props.children,Ra,da.key):Jr!==null&&(Jr.elementType===Za||typeof Za=="object"&&Za!==null&&Za.$$typeof===Ur&&ql(Za)===Jr.type)?(Jr=pr(Jr,da.props),Fo(Jr,da),Jr.return=la,Jr):(Jr=Mu(da.type,da.key,da.props,null,la.mode,Ra),Fo(Jr,da),Jr.return=la,Jr)}function ha(la,Jr,da,Ra){return Jr===null||Jr.tag!==4||Jr.stateNode.containerInfo!==da.containerInfo||Jr.stateNode.implementation!==da.implementation?(Jr=ef(da,la.mode,Ra),Jr.return=la,Jr):(Jr=pr(Jr,da.children||[]),Jr.return=la,Jr)}function _a(la,Jr,da,Ra,Za){return Jr===null||Jr.tag!==7?(Jr=Dl(da,la.mode,Ra,Za),Jr.return=la,Jr):(Jr=pr(Jr,da),Jr.return=la,Jr)}function Ca(la,Jr,da){if(typeof Jr=="string"&&Jr!==""||typeof Jr=="number"||typeof Jr=="bigint")return Jr=Jc(""+Jr,la.mode,da),Jr.return=la,Jr;if(typeof Jr=="object"&&Jr!==null){switch(Jr.$$typeof){case Er:return da=Mu(Jr.type,Jr.key,Jr.props,null,la.mode,da),Fo(da,Jr),da.return=la,da;case Ar:return Jr=ef(Jr,la.mode,da),Jr.return=la,Jr;case Ur:return Jr=ql(Jr),Ca(la,Jr,da)}if(Ia(Jr)||sa(Jr))return Jr=Dl(Jr,la.mode,da,null),Jr.return=la,Jr;if(typeof Jr.then=="function")return Ca(la,Uu(Jr),da);if(Jr.$$typeof===qr)return Ca(la,Ou(la,Jr),da);zu(la,Jr)}return null}function ma(la,Jr,da,Ra){var Za=Jr!==null?Jr.key:null;if(typeof da=="string"&&da!==""||typeof da=="number"||typeof da=="bigint")return Za!==null?null:zr(la,Jr,""+da,Ra);if(typeof da=="object"&&da!==null){switch(da.$$typeof){case Er:return da.key===Za?Zr(la,Jr,da,Ra):null;case Ar:return da.key===Za?ha(la,Jr,da,Ra):null;case Ur:return da=ql(da),ma(la,Jr,da,Ra)}if(Ia(da)||sa(da))return Za!==null?null:_a(la,Jr,da,Ra,null);if(typeof da.then=="function")return ma(la,Jr,Uu(da),Ra);if(da.$$typeof===qr)return ma(la,Jr,Ou(la,da),Ra);zu(la,da)}return null}function va(la,Jr,da,Ra,Za){if(typeof Ra=="string"&&Ra!==""||typeof Ra=="number"||typeof Ra=="bigint")return la=la.get(da)||null,zr(Jr,la,""+Ra,Za);if(typeof Ra=="object"&&Ra!==null){switch(Ra.$$typeof){case Er:return la=la.get(Ra.key===null?da:Ra.key)||null,Zr(Jr,la,Ra,Za);case Ar:return la=la.get(Ra.key===null?da:Ra.key)||null,ha(Jr,la,Ra,Za);case Ur:return Ra=ql(Ra),va(la,Jr,da,Ra,Za)}if(Ia(Ra)||sa(Ra))return la=la.get(da)||null,_a(Jr,la,Ra,Za,null);if(typeof Ra.then=="function")return va(la,Jr,da,Uu(Ra),Za);if(Ra.$$typeof===qr)return va(la,Jr,da,Ou(Jr,Ra),Za);zu(Jr,Ra)}return null}function Ga(la,Jr,da,Ra){for(var Za=null,mi=null,Ya=Jr,ai=Jr=0,fi=null;Ya!==null&&ai<da.length;ai++){Ya.index>ai?(fi=Ya,Ya=null):fi=Ya.sibling;var pi=ma(la,Ya,da[ai],Ra);if(pi===null){Ya===null&&(Ya=fi);break}ar&&Ya&&pi.alternate===null&&lr(la,Ya),Jr=xr(pi,Jr,ai),mi===null?Za=pi:mi.sibling=pi,mi=pi,Ya=fi}if(ai===da.length)return or(la,Ya),di&&Ps(la,ai),Za;if(Ya===null){for(;ai<da.length;ai++)Ya=Ca(la,da[ai],Ra),Ya!==null&&(Jr=xr(Ya,Jr,ai),mi===null?Za=Ya:mi.sibling=Ya,mi=Ya);return di&&Ps(la,ai),Za}for(Ya=fr(Ya);ai<da.length;ai++)fi=va(Ya,la,ai,da[ai],Ra),fi!==null&&(ar&&fi.alternate!==null&&Ya.delete(fi.key===null?ai:fi.key),Jr=xr(fi,Jr,ai),mi===null?Za=fi:mi.sibling=fi,mi=fi);return ar&&Ya.forEach(function(Sl){return lr(la,Sl)}),di&&Ps(la,ai),Za}function Qa(la,Jr,da,Ra){if(da==null)throw Error(dr(151));for(var Za=null,mi=null,Ya=Jr,ai=Jr=0,fi=null,pi=da.next();Ya!==null&&!pi.done;ai++,pi=da.next()){Ya.index>ai?(fi=Ya,Ya=null):fi=Ya.sibling;var Sl=ma(la,Ya,pi.value,Ra);if(Sl===null){Ya===null&&(Ya=fi);break}ar&&Ya&&Sl.alternate===null&&lr(la,Ya),Jr=xr(Sl,Jr,ai),mi===null?Za=Sl:mi.sibling=Sl,mi=Sl,Ya=fi}if(pi.done)return or(la,Ya),di&&Ps(la,ai),Za;if(Ya===null){for(;!pi.done;ai++,pi=da.next())pi=Ca(la,pi.value,Ra),pi!==null&&(Jr=xr(pi,Jr,ai),mi===null?Za=pi:mi.sibling=pi,mi=pi);return di&&Ps(la,ai),Za}for(Ya=fr(Ya);!pi.done;ai++,pi=da.next())pi=va(Ya,la,ai,pi.value,Ra),pi!==null&&(ar&&pi.alternate!==null&&Ya.delete(pi.key===null?ai:pi.key),Jr=xr(pi,Jr,ai),mi===null?Za=pi:mi.sibling=pi,mi=pi);return ar&&Ya.forEach(function(Ly){return lr(la,Ly)}),di&&Ps(la,ai),Za}function wi(la,Jr,da,Ra){if(typeof da=="object"&&da!==null&&da.type===kr&&da.key===null&&(da=da.props.children),typeof da=="object"&&da!==null){switch(da.$$typeof){case Er:e:{for(var Za=da.key;Jr!==null;){if(Jr.key===Za){if(Za=da.type,Za===kr){if(Jr.tag===7){or(la,Jr.sibling),Ra=pr(Jr,da.props.children),Ra.return=la,la=Ra;break e}}else if(Jr.elementType===Za||typeof Za=="object"&&Za!==null&&Za.$$typeof===Ur&&ql(Za)===Jr.type){or(la,Jr.sibling),Ra=pr(Jr,da.props),Fo(Ra,da),Ra.return=la,la=Ra;break e}or(la,Jr);break}else lr(la,Jr);Jr=Jr.sibling}da.type===kr?(Ra=Dl(da.props.children,la.mode,Ra,da.key),Ra.return=la,la=Ra):(Ra=Mu(da.type,da.key,da.props,null,la.mode,Ra),Fo(Ra,da),Ra.return=la,la=Ra)}return Ir(la);case Ar:e:{for(Za=da.key;Jr!==null;){if(Jr.key===Za)if(Jr.tag===4&&Jr.stateNode.containerInfo===da.containerInfo&&Jr.stateNode.implementation===da.implementation){or(la,Jr.sibling),Ra=pr(Jr,da.children||[]),Ra.return=la,la=Ra;break e}else{or(la,Jr);break}else lr(la,Jr);Jr=Jr.sibling}Ra=ef(da,la.mode,Ra),Ra.return=la,la=Ra}return Ir(la);case Ur:return da=ql(da),wi(la,Jr,da,Ra)}if(Ia(da))return Ga(la,Jr,da,Ra);if(sa(da)){if(Za=sa(da),typeof Za!="function")throw Error(dr(150));return da=Za.call(da),Qa(la,Jr,da,Ra)}if(typeof da.then=="function")return wi(la,Jr,Uu(da),Ra);if(da.$$typeof===qr)return wi(la,Jr,Ou(la,da),Ra);zu(la,da)}return typeof da=="string"&&da!==""||typeof da=="number"||typeof da=="bigint"?(da=""+da,Jr!==null&&Jr.tag===6?(or(la,Jr.sibling),Ra=pr(Jr,da),Ra.return=la,la=Ra):(or(la,Jr),Ra=Jc(da,la.mode,Ra),Ra.return=la,la=Ra),Ir(la)):or(la,Jr)}return function(la,Jr,da,Ra){try{Lo=0;var Za=wi(la,Jr,da,Ra);return uo=null,Za}catch(Ya){if(Ya===oo||Ya===Nu)throw Ya;var mi=rs(29,Ya,null,la.mode);return mi.lanes=Ra,mi.return=la,mi}finally{}}}var Pl=Gh(!0),Vh=Gh(!1),il=!1;function hf(ar){ar.updateQueue={baseState:ar.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(ar,lr){ar=ar.updateQueue,lr.updateQueue===ar&&(lr.updateQueue={baseState:ar.baseState,firstBaseUpdate:ar.firstBaseUpdate,lastBaseUpdate:ar.lastBaseUpdate,shared:ar.shared,callbacks:null})}function sl(ar){return{lane:ar,tag:0,payload:null,callback:null,next:null}}function ll(ar,lr,or){var fr=ar.updateQueue;if(fr===null)return null;if(fr=fr.shared,(gi&2)!==0){var pr=fr.pending;return pr===null?lr.next=lr:(lr.next=pr.next,pr.next=lr),fr.pending=lr,lr=Du(ar),kh(ar,null,or),lr}return Cu(ar,fr,lr,or),Du(ar)}function Ho(ar,lr,or){if(lr=lr.updateQueue,lr!==null&&(lr=lr.shared,(or&4194048)!==0)){var fr=lr.lanes;fr&=ar.pendingLanes,or|=fr,lr.lanes=or,Ka(ar,or)}}function pf(ar,lr){var or=ar.updateQueue,fr=ar.alternate;if(fr!==null&&(fr=fr.updateQueue,or===fr)){var pr=null,xr=null;if(or=or.firstBaseUpdate,or!==null){do{var Ir={lane:or.lane,tag:or.tag,payload:or.payload,callback:null,next:null};xr===null?pr=xr=Ir:xr=xr.next=Ir,or=or.next}while(or!==null);xr===null?pr=xr=lr:xr=xr.next=lr}else pr=xr=lr;or={baseState:fr.baseState,firstBaseUpdate:pr,lastBaseUpdate:xr,shared:fr.shared,callbacks:fr.callbacks},ar.updateQueue=or;return}ar=or.lastBaseUpdate,ar===null?or.firstBaseUpdate=lr:ar.next=lr,or.lastBaseUpdate=lr}var gf=!1;function Go(){if(gf){var ar=lo;if(ar!==null)throw ar}}function Vo(ar,lr,or,fr){gf=!1;var pr=ar.updateQueue;il=!1;var xr=pr.firstBaseUpdate,Ir=pr.lastBaseUpdate,zr=pr.shared.pending;if(zr!==null){pr.shared.pending=null;var Zr=zr,ha=Zr.next;Zr.next=null,Ir===null?xr=ha:Ir.next=ha,Ir=Zr;var _a=ar.alternate;_a!==null&&(_a=_a.updateQueue,zr=_a.lastBaseUpdate,zr!==Ir&&(zr===null?_a.firstBaseUpdate=ha:zr.next=ha,_a.lastBaseUpdate=Zr))}if(xr!==null){var Ca=pr.baseState;Ir=0,_a=ha=Zr=null,zr=xr;do{var ma=zr.lane&-536870913,va=ma!==zr.lane;if(va?(ci&ma)===ma:(fr&ma)===ma){ma!==0&&ma===so&&(gf=!0),_a!==null&&(_a=_a.next={lane:0,tag:zr.tag,payload:zr.payload,callback:null,next:null});e:{var Ga=ar,Qa=zr;ma=lr;var wi=or;switch(Qa.tag){case 1:if(Ga=Qa.payload,typeof Ga=="function"){Ca=Ga.call(wi,Ca,ma);break e}Ca=Ga;break e;case 3:Ga.flags=Ga.flags&-65537|128;case 0:if(Ga=Qa.payload,ma=typeof Ga=="function"?Ga.call(wi,Ca,ma):Ga,ma==null)break e;Ca=_r({},Ca,ma);break e;case 2:il=!0}}ma=zr.callback,ma!==null&&(ar.flags|=64,va&&(ar.flags|=8192),va=pr.callbacks,va===null?pr.callbacks=[ma]:va.push(ma))}else va={lane:ma,tag:zr.tag,payload:zr.payload,callback:zr.callback,next:null},_a===null?(ha=_a=va,Zr=Ca):_a=_a.next=va,Ir|=ma;if(zr=zr.next,zr===null){if(zr=pr.shared.pending,zr===null)break;va=zr,zr=va.next,va.next=null,pr.lastBaseUpdate=va,pr.shared.pending=null}}while(!0);_a===null&&(Zr=Ca),pr.baseState=Zr,pr.firstBaseUpdate=ha,pr.lastBaseUpdate=_a,xr===null&&(pr.shared.lanes=0),dl|=Ir,ar.lanes=Ir,ar.memoizedState=Ca}}function Xh(ar,lr){if(typeof ar!="function")throw Error(dr(191,ar));ar.call(lr)}function Yh(ar,lr){var or=ar.callbacks;if(or!==null)for(ar.callbacks=null,ar=0;ar<or.length;ar++)Xh(or[ar],lr)}var co=Fr(null),ju=Fr(0);function Wh(ar,lr){ar=Ws,ra(ju,ar),ra(co,lr),Ws=ar|lr.baseLanes}function yf(){ra(ju,Ws),ra(co,co.current)}function bf(){Ws=ju.current,Qr(co),Qr(ju)}var ns=Fr(null),ys=null;function ol(ar){var lr=ar.alternate;ra(Ii,Ii.current&1),ra(ns,ar),ys===null&&(lr===null||co.current!==null||lr.memoizedState!==null)&&(ys=ar)}function vf(ar){ra(Ii,Ii.current),ra(ns,ar),ys===null&&(ys=ar)}function Kh(ar){ar.tag===22?(ra(Ii,Ii.current),ra(ns,ar),ys===null&&(ys=ar)):ul()}function ul(){ra(Ii,Ii.current),ra(ns,ns.current)}function as(ar){Qr(ns),ys===ar&&(ys=null),Qr(Ii)}var Ii=Fr(0);function Lu(ar){for(var lr=ar;lr!==null;){if(lr.tag===13){var or=lr.memoizedState;if(or!==null&&(or=or.dehydrated,or===null||_d(or)||Ad(or)))return lr}else if(lr.tag===19&&(lr.memoizedProps.revealOrder==="forwards"||lr.memoizedProps.revealOrder==="backwards"||lr.memoizedProps.revealOrder==="unstable_legacy-backwards"||lr.memoizedProps.revealOrder==="together")){if((lr.flags&128)!==0)return lr}else if(lr.child!==null){lr.child.return=lr,lr=lr.child;continue}if(lr===ar)break;for(;lr.sibling===null;){if(lr.return===null||lr.return===ar)return null;lr=lr.return}lr.sibling.return=lr.return,lr=lr.sibling}return null}var js=0,ri=null,Ti=null,Ni=null,Fu=!1,fo=!1,Ul=!1,Hu=0,Xo=0,ho=null,M0=0;function Mi(){throw Error(dr(321))}function xf(ar,lr){if(lr===null)return!1;for(var or=0;or<lr.length&&or<ar.length;or++)if(!ts(ar[or],lr[or]))return!1;return!0}function Tf(ar,lr,or,fr,pr,xr){return js=xr,ri=lr,lr.memoizedState=null,lr.updateQueue=null,lr.lanes=0,$r.H=ar===null||ar.memoizedState===null?Bm:Nf,Ul=!1,xr=or(fr,pr),Ul=!1,fo&&(xr=$h(lr,or,fr,pr)),Zh(ar),xr}function Zh(ar){$r.H=Ko;var lr=Ti!==null&&Ti.next!==null;if(js=0,Ni=Ti=ri=null,Fu=!1,Xo=0,ho=null,lr)throw Error(dr(300));ar===null||Pi||(ar=ar.dependencies,ar!==null&&Iu(ar)&&(Pi=!0))}function $h(ar,lr,or,fr){ri=ar;var pr=0;do{if(fo&&(ho=null),Xo=0,fo=!1,25<=pr)throw Error(dr(301));if(pr+=1,Ni=Ti=null,ar.updateQueue!=null){var xr=ar.updateQueue;xr.lastEffect=null,xr.events=null,xr.stores=null,xr.memoCache!=null&&(xr.memoCache.index=0)}$r.H=Im,xr=lr(or,fr)}while(fo);return xr}function B0(){var ar=$r.H,lr=ar.useState()[0];return lr=typeof lr.then=="function"?Yo(lr):lr,ar=ar.useState()[0],(Ti!==null?Ti.memoizedState:null)!==ar&&(ri.flags|=1024),lr}function Sf(){var ar=Hu!==0;return Hu=0,ar}function wf(ar,lr,or){lr.updateQueue=ar.updateQueue,lr.flags&=-2053,ar.lanes&=~or}function Ef(ar){if(Fu){for(ar=ar.memoizedState;ar!==null;){var lr=ar.queue;lr!==null&&(lr.pending=null),ar=ar.next}Fu=!1}js=0,Ni=Ti=ri=null,fo=!1,Xo=Hu=0,ho=null}function Xi(){var ar={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ni===null?ri.memoizedState=Ni=ar:Ni=Ni.next=ar,Ni}function Oi(){if(Ti===null){var ar=ri.alternate;ar=ar!==null?ar.memoizedState:null}else ar=Ti.next;var lr=Ni===null?ri.memoizedState:Ni.next;if(lr!==null)Ni=lr,Ti=ar;else{if(ar===null)throw ri.alternate===null?Error(dr(467)):Error(dr(310));Ti=ar,ar={memoizedState:Ti.memoizedState,baseState:Ti.baseState,baseQueue:Ti.baseQueue,queue:Ti.queue,next:null},Ni===null?ri.memoizedState=Ni=ar:Ni=Ni.next=ar}return Ni}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(ar){var lr=Xo;return Xo+=1,ho===null&&(ho=[]),ar=Lh(ho,ar,lr),lr=ri,(Ni===null?lr.memoizedState:Ni.next)===null&&(lr=lr.alternate,$r.H=lr===null||lr.memoizedState===null?Bm:Nf),ar}function Vu(ar){if(ar!==null&&typeof ar=="object"){if(typeof ar.then=="function")return Yo(ar);if(ar.$$typeof===qr)return Hi(ar)}throw Error(dr(438,String(ar)))}function _f(ar){var lr=null,or=ri.updateQueue;if(or!==null&&(lr=or.memoCache),lr==null){var fr=ri.alternate;fr!==null&&(fr=fr.updateQueue,fr!==null&&(fr=fr.memoCache,fr!=null&&(lr={data:fr.data.map(function(pr){return pr.slice()}),index:0})))}if(lr==null&&(lr={data:[],index:0}),or===null&&(or=Gu(),ri.updateQueue=or),or.memoCache=lr,or=lr.data[lr.index],or===void 0)for(or=lr.data[lr.index]=Array(ar),fr=0;fr<ar;fr++)or[fr]=Yr;return lr.index++,or}function Ls(ar,lr){return typeof lr=="function"?lr(ar):lr}function Xu(ar){var lr=Oi();return Af(lr,Ti,ar)}function Af(ar,lr,or){var fr=ar.queue;if(fr===null)throw Error(dr(311));fr.lastRenderedReducer=or;var pr=ar.baseQueue,xr=fr.pending;if(xr!==null){if(pr!==null){var Ir=pr.next;pr.next=xr.next,xr.next=Ir}lr.baseQueue=pr=xr,fr.pending=null}if(xr=ar.baseState,pr===null)ar.memoizedState=xr;else{lr=pr.next;var zr=Ir=null,Zr=null,ha=lr,_a=!1;do{var Ca=ha.lane&-536870913;if(Ca!==ha.lane?(ci&Ca)===Ca:(js&Ca)===Ca){var ma=ha.revertLane;if(ma===0)Zr!==null&&(Zr=Zr.next={lane:0,revertLane:0,gesture:null,action:ha.action,hasEagerState:ha.hasEagerState,eagerState:ha.eagerState,next:null}),Ca===so&&(_a=!0);else if((js&ma)===ma){ha=ha.next,ma===so&&(_a=!0);continue}else Ca={lane:0,revertLane:ha.revertLane,gesture:null,action:ha.action,hasEagerState:ha.hasEagerState,eagerState:ha.eagerState,next:null},Zr===null?(zr=Zr=Ca,Ir=xr):Zr=Zr.next=Ca,ri.lanes|=ma,dl|=ma;Ca=ha.action,Ul&&or(xr,Ca),xr=ha.hasEagerState?ha.eagerState:or(xr,Ca)}else ma={lane:Ca,revertLane:ha.revertLane,gesture:ha.gesture,action:ha.action,hasEagerState:ha.hasEagerState,eagerState:ha.eagerState,next:null},Zr===null?(zr=Zr=ma,Ir=xr):Zr=Zr.next=ma,ri.lanes|=Ca,dl|=Ca;ha=ha.next}while(ha!==null&&ha!==lr);if(Zr===null?Ir=xr:Zr.next=zr,!ts(xr,ar.memoizedState)&&(Pi=!0,_a&&(or=lo,or!==null)))throw or;ar.memoizedState=xr,ar.baseState=Ir,ar.baseQueue=Zr,fr.lastRenderedState=xr}return pr===null&&(fr.lanes=0),[ar.memoizedState,fr.dispatch]}function Rf(ar){var lr=Oi(),or=lr.queue;if(or===null)throw Error(dr(311));or.lastRenderedReducer=ar;var fr=or.dispatch,pr=or.pending,xr=lr.memoizedState;if(pr!==null){or.pending=null;var Ir=pr=pr.next;do xr=ar(xr,Ir.action),Ir=Ir.next;while(Ir!==pr);ts(xr,lr.memoizedState)||(Pi=!0),lr.memoizedState=xr,lr.baseQueue===null&&(lr.baseState=xr),or.lastRenderedState=xr}return[xr,fr]}function Qh(ar,lr,or){var fr=ri,pr=Oi(),xr=di;if(xr){if(or===void 0)throw Error(dr(407));or=or()}else or=lr();var Ir=!ts((Ti||pr).memoizedState,or);if(Ir&&(pr.memoizedState=or,Pi=!0),pr=pr.queue,Df(tm.bind(null,fr,pr,ar),[ar]),pr.getSnapshot!==lr||Ir||Ni!==null&&Ni.memoizedState.tag&1){if(fr.flags|=2048,mo(9,{destroy:void 0},em.bind(null,fr,pr,or,lr),null),Ei===null)throw Error(dr(349));xr||(js&127)!==0||Jh(fr,lr,or)}return or}function Jh(ar,lr,or){ar.flags|=16384,ar={getSnapshot:lr,value:or},lr=ri.updateQueue,lr===null?(lr=Gu(),ri.updateQueue=lr,lr.stores=[ar]):(or=lr.stores,or===null?lr.stores=[ar]:or.push(ar))}function em(ar,lr,or,fr){lr.value=or,lr.getSnapshot=fr,rm(lr)&&nm(ar)}function tm(ar,lr,or){return or(function(){rm(lr)&&nm(ar)})}function rm(ar){var lr=ar.getSnapshot;ar=ar.value;try{var or=lr();return!ts(ar,or)}catch{return!0}}function nm(ar){var lr=Cl(ar,2);lr!==null&&Ji(lr,ar,2)}function kf(ar){var lr=Xi();if(typeof ar=="function"){var or=ar;if(ar=or(),Ul){ei(!0);try{or()}finally{ei(!1)}}}return lr.memoizedState=lr.baseState=ar,lr.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:ar},lr}function am(ar,lr,or,fr){return ar.baseState=or,Af(ar,Ti,typeof fr=="function"?fr:Ls)}function I0(ar,lr,or,fr,pr){if(Ku(ar))throw Error(dr(485));if(ar=lr.action,ar!==null){var xr={payload:pr,action:ar,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ir){xr.listeners.push(Ir)}};$r.T!==null?or(!0):xr.isTransition=!1,fr(xr),or=lr.pending,or===null?(xr.next=lr.pending=xr,im(lr,xr)):(xr.next=or.next,lr.pending=or.next=xr)}}function im(ar,lr){var or=lr.action,fr=lr.payload,pr=ar.state;if(lr.isTransition){var xr=$r.T,Ir={};$r.T=Ir;try{var zr=or(pr,fr),Zr=$r.S;Zr!==null&&Zr(Ir,zr),sm(ar,lr,zr)}catch(ha){Cf(ar,lr,ha)}finally{xr!==null&&Ir.types!==null&&(xr.types=Ir.types),$r.T=xr}}else try{xr=or(pr,fr),sm(ar,lr,xr)}catch(ha){Cf(ar,lr,ha)}}function sm(ar,lr,or){or!==null&&typeof or=="object"&&typeof or.then=="function"?or.then(function(fr){lm(ar,lr,fr)},function(fr){return Cf(ar,lr,fr)}):lm(ar,lr,or)}function lm(ar,lr,or){lr.status="fulfilled",lr.value=or,om(lr),ar.state=or,lr=ar.pending,lr!==null&&(or=lr.next,or===lr?ar.pending=null:(or=or.next,lr.next=or,im(ar,or)))}function Cf(ar,lr,or){var fr=ar.pending;if(ar.pending=null,fr!==null){fr=fr.next;do lr.status="rejected",lr.reason=or,om(lr),lr=lr.next;while(lr!==fr)}ar.action=null}function om(ar){ar=ar.listeners;for(var lr=0;lr<ar.length;lr++)(0,ar[lr])()}function um(ar,lr){return lr}function cm(ar,lr){if(di){var or=Ei.formState;if(or!==null){e:{var fr=ri;if(di){if(Ai){t:{for(var pr=Ai,xr=gs;pr.nodeType!==8;){if(!xr){pr=null;break t}if(pr=bs(pr.nextSibling),pr===null){pr=null;break t}}xr=pr.data,pr=xr==="F!"||xr==="F"?pr:null}if(pr){Ai=bs(pr.nextSibling),fr=pr.data==="F!";break e}}nl(fr)}fr=!1}fr&&(lr=or[0])}}return or=Xi(),or.memoizedState=or.baseState=lr,fr={pending:null,lanes:0,dispatch:null,lastRenderedReducer:um,lastRenderedState:lr},or.queue=fr,or=Cm.bind(null,ri,fr),fr.dispatch=or,fr=kf(!1),xr=qf.bind(null,ri,!1,fr.queue),fr=Xi(),pr={state:lr,dispatch:null,action:ar,pending:null},fr.queue=pr,or=I0.bind(null,ri,pr,xr,or),pr.dispatch=or,fr.memoizedState=ar,[lr,or,!1]}function fm(ar){var lr=Oi();return dm(lr,Ti,ar)}function dm(ar,lr,or){if(lr=Af(ar,lr,um)[0],ar=Xu(Ls)[0],typeof lr=="object"&&lr!==null&&typeof lr.then=="function")try{var fr=Yo(lr)}catch(Ir){throw Ir===oo?Nu:Ir}else fr=lr;lr=Oi();var pr=lr.queue,xr=pr.dispatch;return or!==lr.memoizedState&&(ri.flags|=2048,mo(9,{destroy:void 0},O0.bind(null,pr,or),null)),[fr,xr,ar]}function O0(ar,lr){ar.action=lr}function hm(ar){var lr=Oi(),or=Ti;if(or!==null)return dm(lr,or,ar);Oi(),lr=lr.memoizedState,or=Oi();var fr=or.queue.dispatch;return or.memoizedState=ar,[lr,fr,!1]}function mo(ar,lr,or,fr){return ar={tag:ar,create:or,deps:fr,inst:lr,next:null},lr=ri.updateQueue,lr===null&&(lr=Gu(),ri.updateQueue=lr),or=lr.lastEffect,or===null?lr.lastEffect=ar.next=ar:(fr=or.next,or.next=ar,ar.next=fr,lr.lastEffect=ar),ar}function mm(){return Oi().memoizedState}function Yu(ar,lr,or,fr){var pr=Xi();ri.flags|=ar,pr.memoizedState=mo(1|lr,{destroy:void 0},or,fr===void 0?null:fr)}function Wu(ar,lr,or,fr){var pr=Oi();fr=fr===void 0?null:fr;var xr=pr.memoizedState.inst;Ti!==null&&fr!==null&&xf(fr,Ti.memoizedState.deps)?pr.memoizedState=mo(lr,xr,or,fr):(ri.flags|=ar,pr.memoizedState=mo(1|lr,xr,or,fr))}function pm(ar,lr){Yu(8390656,8,ar,lr)}function Df(ar,lr){Wu(2048,8,ar,lr)}function q0(ar){ri.flags|=4;var lr=ri.updateQueue;if(lr===null)lr=Gu(),ri.updateQueue=lr,lr.events=[ar];else{var or=lr.events;or===null?lr.events=[ar]:or.push(ar)}}function gm(ar){var lr=Oi().memoizedState;return q0({ref:lr,nextImpl:ar}),function(){if((gi&2)!==0)throw Error(dr(440));return lr.impl.apply(void 0,arguments)}}function ym(ar,lr){return Wu(4,2,ar,lr)}function bm(ar,lr){return Wu(4,4,ar,lr)}function vm(ar,lr){if(typeof lr=="function"){ar=ar();var or=lr(ar);return function(){typeof or=="function"?or():lr(null)}}if(lr!=null)return ar=ar(),lr.current=ar,function(){lr.current=null}}function xm(ar,lr,or){or=or!=null?or.concat([ar]):null,Wu(4,4,vm.bind(null,lr,ar),or)}function Mf(){}function Tm(ar,lr){var or=Oi();lr=lr===void 0?null:lr;var fr=or.memoizedState;return lr!==null&&xf(lr,fr[1])?fr[0]:(or.memoizedState=[ar,lr],ar)}function Sm(ar,lr){var or=Oi();lr=lr===void 0?null:lr;var fr=or.memoizedState;if(lr!==null&&xf(lr,fr[1]))return fr[0];if(fr=ar(),Ul){ei(!0);try{ar()}finally{ei(!1)}}return or.memoizedState=[fr,lr],fr}function Bf(ar,lr,or){return or===void 0||(js&1073741824)!==0&&(ci&261930)===0?ar.memoizedState=lr:(ar.memoizedState=or,ar=wp(),ri.lanes|=ar,dl|=ar,or)}function wm(ar,lr,or,fr){return ts(or,lr)?or:co.current!==null?(ar=Bf(ar,or,fr),ts(ar,lr)||(Pi=!0),ar):(js&42)===0||(js&1073741824)!==0&&(ci&261930)===0?(Pi=!0,ar.memoizedState=or):(ar=wp(),ri.lanes|=ar,dl|=ar,lr)}function Em(ar,lr,or,fr,pr){var xr=xa.p;xa.p=xr!==0&&8>xr?xr:8;var Ir=$r.T,zr={};$r.T=zr,qf(ar,!1,lr,or);try{var Zr=pr(),ha=$r.S;if(ha!==null&&ha(zr,Zr),Zr!==null&&typeof Zr=="object"&&typeof Zr.then=="function"){var _a=D0(Zr,fr);Wo(ar,lr,_a,ls(ar))}else Wo(ar,lr,fr,ls(ar))}catch(Ca){Wo(ar,lr,{then:function(){},status:"rejected",reason:Ca},ls())}finally{xa.p=xr,Ir!==null&&zr.types!==null&&(Ir.types=zr.types),$r.T=Ir}}function N0(){}function If(ar,lr,or,fr){if(ar.tag!==5)throw Error(dr(476));var pr=_m(ar).queue;Em(ar,pr,lr,ua,or===null?N0:function(){return Am(ar),or(fr)})}function _m(ar){var lr=ar.memoizedState;if(lr!==null)return lr;lr={memoizedState:ua,baseState:ua,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:ua},next:null};var or={};return lr.next={memoizedState:or,baseState:or,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:or},next:null},ar.memoizedState=lr,ar=ar.alternate,ar!==null&&(ar.memoizedState=lr),lr}function Am(ar){var lr=_m(ar);lr.next===null&&(lr=ar.alternate.memoizedState),Wo(ar,lr.next.queue,{},ls())}function Of(){return Hi(fu)}function Rm(){return Oi().memoizedState}function km(){return Oi().memoizedState}function P0(ar){for(var lr=ar.return;lr!==null;){switch(lr.tag){case 24:case 3:var or=ls();ar=sl(or);var fr=ll(lr,ar,or);fr!==null&&(Ji(fr,lr,or),Ho(fr,lr,or)),lr={cache:uf()},ar.payload=lr;return}lr=lr.return}}function U0(ar,lr,or){var fr=ls();or={lane:fr,revertLane:0,gesture:null,action:or,hasEagerState:!1,eagerState:null,next:null},Ku(ar)?Dm(lr,or):(or=$c(ar,lr,or,fr),or!==null&&(Ji(or,ar,fr),Mm(or,lr,fr)))}function Cm(ar,lr,or){var fr=ls();Wo(ar,lr,or,fr)}function Wo(ar,lr,or,fr){var pr={lane:fr,revertLane:0,gesture:null,action:or,hasEagerState:!1,eagerState:null,next:null};if(Ku(ar))Dm(lr,pr);else{var xr=ar.alternate;if(ar.lanes===0&&(xr===null||xr.lanes===0)&&(xr=lr.lastRenderedReducer,xr!==null))try{var Ir=lr.lastRenderedState,zr=xr(Ir,or);if(pr.hasEagerState=!0,pr.eagerState=zr,ts(zr,Ir))return Cu(ar,lr,pr,0),Ei===null&&ku(),!1}catch{}finally{}if(or=$c(ar,lr,pr,fr),or!==null)return Ji(or,ar,fr),Mm(or,lr,fr),!0}return!1}function qf(ar,lr,or,fr){if(fr={lane:2,revertLane:hd(),gesture:null,action:fr,hasEagerState:!1,eagerState:null,next:null},Ku(ar)){if(lr)throw Error(dr(479))}else lr=$c(ar,or,fr,2),lr!==null&&Ji(lr,ar,2)}function Ku(ar){var lr=ar.alternate;return ar===ri||lr!==null&&lr===ri}function Dm(ar,lr){fo=Fu=!0;var or=ar.pending;or===null?lr.next=lr:(lr.next=or.next,or.next=lr),ar.pending=lr}function Mm(ar,lr,or){if((or&4194048)!==0){var fr=lr.lanes;fr&=ar.pendingLanes,or|=fr,lr.lanes=or,Ka(ar,or)}}var Ko={readContext:Hi,use:Vu,useCallback:Mi,useContext:Mi,useEffect:Mi,useImperativeHandle:Mi,useLayoutEffect:Mi,useInsertionEffect:Mi,useMemo:Mi,useReducer:Mi,useRef:Mi,useState:Mi,useDebugValue:Mi,useDeferredValue:Mi,useTransition:Mi,useSyncExternalStore:Mi,useId:Mi,useHostTransitionStatus:Mi,useFormState:Mi,useActionState:Mi,useOptimistic:Mi,useMemoCache:Mi,useCacheRefresh:Mi};Ko.useEffectEvent=Mi;var Bm={readContext:Hi,use:Vu,useCallback:function(ar,lr){return Xi().memoizedState=[ar,lr===void 0?null:lr],ar},useContext:Hi,useEffect:pm,useImperativeHandle:function(ar,lr,or){or=or!=null?or.concat([ar]):null,Yu(4194308,4,vm.bind(null,lr,ar),or)},useLayoutEffect:function(ar,lr){return Yu(4194308,4,ar,lr)},useInsertionEffect:function(ar,lr){Yu(4,2,ar,lr)},useMemo:function(ar,lr){var or=Xi();lr=lr===void 0?null:lr;var fr=ar();if(Ul){ei(!0);try{ar()}finally{ei(!1)}}return or.memoizedState=[fr,lr],fr},useReducer:function(ar,lr,or){var fr=Xi();if(or!==void 0){var pr=or(lr);if(Ul){ei(!0);try{or(lr)}finally{ei(!1)}}}else pr=lr;return fr.memoizedState=fr.baseState=pr,ar={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:pr},fr.queue=ar,ar=ar.dispatch=U0.bind(null,ri,ar),[fr.memoizedState,ar]},useRef:function(ar){var lr=Xi();return ar={current:ar},lr.memoizedState=ar},useState:function(ar){ar=kf(ar);var lr=ar.queue,or=Cm.bind(null,ri,lr);return lr.dispatch=or,[ar.memoizedState,or]},useDebugValue:Mf,useDeferredValue:function(ar,lr){var or=Xi();return Bf(or,ar,lr)},useTransition:function(){var ar=kf(!1);return ar=Em.bind(null,ri,ar.queue,!0,!1),Xi().memoizedState=ar,[!1,ar]},useSyncExternalStore:function(ar,lr,or){var fr=ri,pr=Xi();if(di){if(or===void 0)throw Error(dr(407));or=or()}else{if(or=lr(),Ei===null)throw Error(dr(349));(ci&127)!==0||Jh(fr,lr,or)}pr.memoizedState=or;var xr={value:or,getSnapshot:lr};return pr.queue=xr,pm(tm.bind(null,fr,xr,ar),[ar]),fr.flags|=2048,mo(9,{destroy:void 0},em.bind(null,fr,xr,or,lr),null),or},useId:function(){var ar=Xi(),lr=Ei.identifierPrefix;if(di){var or=Rs,fr=As;or=(fr&~(1<<32-Ja(fr)-1)).toString(32)+or,lr="_"+lr+"R_"+or,or=Hu++,0<or&&(lr+="H"+or.toString(32)),lr+="_"}else or=M0++,lr="_"+lr+"r_"+or.toString(32)+"_";return ar.memoizedState=lr},useHostTransitionStatus:Of,useFormState:cm,useActionState:cm,useOptimistic:function(ar){var lr=Xi();lr.memoizedState=lr.baseState=ar;var or={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return lr.queue=or,lr=qf.bind(null,ri,!0,or),or.dispatch=lr,[ar,lr]},useMemoCache:_f,useCacheRefresh:function(){return Xi().memoizedState=P0.bind(null,ri)},useEffectEvent:function(ar){var lr=Xi(),or={impl:ar};return lr.memoizedState=or,function(){if((gi&2)!==0)throw Error(dr(440));return or.impl.apply(void 0,arguments)}}},Nf={readContext:Hi,use:Vu,useCallback:Tm,useContext:Hi,useEffect:Df,useImperativeHandle:xm,useInsertionEffect:ym,useLayoutEffect:bm,useMemo:Sm,useReducer:Xu,useRef:mm,useState:function(){return Xu(Ls)},useDebugValue:Mf,useDeferredValue:function(ar,lr){var or=Oi();return wm(or,Ti.memoizedState,ar,lr)},useTransition:function(){var ar=Xu(Ls)[0],lr=Oi().memoizedState;return[typeof ar=="boolean"?ar:Yo(ar),lr]},useSyncExternalStore:Qh,useId:Rm,useHostTransitionStatus:Of,useFormState:fm,useActionState:fm,useOptimistic:function(ar,lr){var or=Oi();return am(or,Ti,ar,lr)},useMemoCache:_f,useCacheRefresh:km};Nf.useEffectEvent=gm;var Im={readContext:Hi,use:Vu,useCallback:Tm,useContext:Hi,useEffect:Df,useImperativeHandle:xm,useInsertionEffect:ym,useLayoutEffect:bm,useMemo:Sm,useReducer:Rf,useRef:mm,useState:function(){return Rf(Ls)},useDebugValue:Mf,useDeferredValue:function(ar,lr){var or=Oi();return Ti===null?Bf(or,ar,lr):wm(or,Ti.memoizedState,ar,lr)},useTransition:function(){var ar=Rf(Ls)[0],lr=Oi().memoizedState;return[typeof ar=="boolean"?ar:Yo(ar),lr]},useSyncExternalStore:Qh,useId:Rm,useHostTransitionStatus:Of,useFormState:hm,useActionState:hm,useOptimistic:function(ar,lr){var or=Oi();return Ti!==null?am(or,Ti,ar,lr):(or.baseState=ar,[ar,or.queue.dispatch])},useMemoCache:_f,useCacheRefresh:km};Im.useEffectEvent=gm;function Pf(ar,lr,or,fr){lr=ar.memoizedState,or=or(fr,lr),or=or==null?lr:_r({},lr,or),ar.memoizedState=or,ar.lanes===0&&(ar.updateQueue.baseState=or)}var Uf={enqueueSetState:function(ar,lr,or){ar=ar._reactInternals;var fr=ls(),pr=sl(fr);pr.payload=lr,or!=null&&(pr.callback=or),lr=ll(ar,pr,fr),lr!==null&&(Ji(lr,ar,fr),Ho(lr,ar,fr))},enqueueReplaceState:function(ar,lr,or){ar=ar._reactInternals;var fr=ls(),pr=sl(fr);pr.tag=1,pr.payload=lr,or!=null&&(pr.callback=or),lr=ll(ar,pr,fr),lr!==null&&(Ji(lr,ar,fr),Ho(lr,ar,fr))},enqueueForceUpdate:function(ar,lr){ar=ar._reactInternals;var or=ls(),fr=sl(or);fr.tag=2,lr!=null&&(fr.callback=lr),lr=ll(ar,fr,or),lr!==null&&(Ji(lr,ar,or),Ho(lr,ar,or))}};function Om(ar,lr,or,fr,pr,xr,Ir){return ar=ar.stateNode,typeof ar.shouldComponentUpdate=="function"?ar.shouldComponentUpdate(fr,xr,Ir):lr.prototype&&lr.prototype.isPureReactComponent?!qo(or,fr)||!qo(pr,xr):!0}function qm(ar,lr,or,fr){ar=lr.state,typeof lr.componentWillReceiveProps=="function"&&lr.componentWillReceiveProps(or,fr),typeof lr.UNSAFE_componentWillReceiveProps=="function"&&lr.UNSAFE_componentWillReceiveProps(or,fr),lr.state!==ar&&Uf.enqueueReplaceState(lr,lr.state,null)}function zl(ar,lr){var or=lr;if("ref"in lr){or={};for(var fr in lr)fr!=="ref"&&(or[fr]=lr[fr])}if(ar=ar.defaultProps){or===lr&&(or=_r({},or));for(var pr in ar)or[pr]===void 0&&(or[pr]=ar[pr])}return or}function Nm(ar){Ru(ar)}function Pm(ar){console.error(ar)}function Um(ar){Ru(ar)}function Zu(ar,lr){try{var or=ar.onUncaughtError;or(lr.value,{componentStack:lr.stack})}catch(fr){setTimeout(function(){throw fr})}}function zm(ar,lr,or){try{var fr=ar.onCaughtError;fr(or.value,{componentStack:or.stack,errorBoundary:lr.tag===1?lr.stateNode:null})}catch(pr){setTimeout(function(){throw pr})}}function zf(ar,lr,or){return or=sl(or),or.tag=3,or.payload={element:null},or.callback=function(){Zu(ar,lr)},or}function jm(ar){return ar=sl(ar),ar.tag=3,ar}function Lm(ar,lr,or,fr){var pr=or.type.getDerivedStateFromError;if(typeof pr=="function"){var xr=fr.value;ar.payload=function(){return pr(xr)},ar.callback=function(){zm(lr,or,fr)}}var Ir=or.stateNode;Ir!==null&&typeof Ir.componentDidCatch=="function"&&(ar.callback=function(){zm(lr,or,fr),typeof pr!="function"&&(hl===null?hl=new Set([this]):hl.add(this));var zr=fr.stack;this.componentDidCatch(fr.value,{componentStack:zr!==null?zr:""})})}function z0(ar,lr,or,fr,pr){if(or.flags|=32768,fr!==null&&typeof fr=="object"&&typeof fr.then=="function"){if(lr=or.alternate,lr!==null&&io(lr,or,pr,!0),or=ns.current,or!==null){switch(or.tag){case 31:case 13:return ys===null?oc():or.alternate===null&&Bi===0&&(Bi=3),or.flags&=-257,or.flags|=65536,or.lanes=pr,fr===Pu?or.flags|=16384:(lr=or.updateQueue,lr===null?or.updateQueue=new Set([fr]):lr.add(fr),cd(ar,fr,pr)),!1;case 22:return or.flags|=65536,fr===Pu?or.flags|=16384:(lr=or.updateQueue,lr===null?(lr={transitions:null,markerInstances:null,retryQueue:new Set([fr])},or.updateQueue=lr):(or=lr.retryQueue,or===null?lr.retryQueue=new Set([fr]):or.add(fr)),cd(ar,fr,pr)),!1}throw Error(dr(435,or.tag))}return cd(ar,fr,pr),oc(),!1}if(di)return lr=ns.current,lr!==null?((lr.flags&65536)===0&&(lr.flags|=256),lr.flags|=65536,lr.lanes=pr,fr!==nf&&(ar=Error(dr(422),{cause:fr}),Uo(ds(ar,or)))):(fr!==nf&&(lr=Error(dr(423),{cause:fr}),Uo(ds(lr,or))),ar=ar.current.alternate,ar.flags|=65536,pr&=-pr,ar.lanes|=pr,fr=ds(fr,or),pr=zf(ar.stateNode,fr,pr),pf(ar,pr),Bi!==4&&(Bi=2)),!1;var xr=Error(dr(520),{cause:fr});if(xr=ds(xr,or),nu===null?nu=[xr]:nu.push(xr),Bi!==4&&(Bi=2),lr===null)return!0;fr=ds(fr,or),or=lr;do{switch(or.tag){case 3:return or.flags|=65536,ar=pr&-pr,or.lanes|=ar,ar=zf(or.stateNode,fr,ar),pf(or,ar),!1;case 1:if(lr=or.type,xr=or.stateNode,(or.flags&128)===0&&(typeof lr.getDerivedStateFromError=="function"||xr!==null&&typeof xr.componentDidCatch=="function"&&(hl===null||!hl.has(xr))))return or.flags|=65536,pr&=-pr,or.lanes|=pr,pr=jm(pr),Lm(pr,ar,or,fr),pf(or,pr),!1}or=or.return}while(or!==null);return!1}var jf=Error(dr(461)),Pi=!1;function Gi(ar,lr,or,fr){lr.child=ar===null?Vh(lr,null,or,fr):Pl(lr,ar.child,or,fr)}function Fm(ar,lr,or,fr,pr){or=or.render;var xr=lr.ref;if("ref"in fr){var Ir={};for(var zr in fr)zr!=="ref"&&(Ir[zr]=fr[zr])}else Ir=fr;return Il(lr),fr=Tf(ar,lr,or,Ir,xr,pr),zr=Sf(),ar!==null&&!Pi?(wf(ar,lr,pr),Fs(ar,lr,pr)):(di&&zr&&tf(lr),lr.flags|=1,Gi(ar,lr,fr,pr),lr.child)}function Hm(ar,lr,or,fr,pr){if(ar===null){var xr=or.type;return typeof xr=="function"&&!Qc(xr)&&xr.defaultProps===void 0&&or.compare===null?(lr.tag=15,lr.type=xr,Gm(ar,lr,xr,fr,pr)):(ar=Mu(or.type,null,fr,lr,lr.mode,pr),ar.ref=lr.ref,ar.return=lr,lr.child=ar)}if(xr=ar.child,!Wf(ar,pr)){var Ir=xr.memoizedProps;if(or=or.compare,or=or!==null?or:qo,or(Ir,fr)&&ar.ref===lr.ref)return Fs(ar,lr,pr)}return lr.flags|=1,ar=Ns(xr,fr),ar.ref=lr.ref,ar.return=lr,lr.child=ar}function Gm(ar,lr,or,fr,pr){if(ar!==null){var xr=ar.memoizedProps;if(qo(xr,fr)&&ar.ref===lr.ref)if(Pi=!1,lr.pendingProps=fr=xr,Wf(ar,pr))(ar.flags&131072)!==0&&(Pi=!0);else return lr.lanes=ar.lanes,Fs(ar,lr,pr)}return Lf(ar,lr,or,fr,pr)}function Vm(ar,lr,or,fr){var pr=fr.children,xr=ar!==null?ar.memoizedState:null;if(ar===null&&lr.stateNode===null&&(lr.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),fr.mode==="hidden"){if((lr.flags&128)!==0){if(xr=xr!==null?xr.baseLanes|or:or,ar!==null){for(fr=lr.child=ar.child,pr=0;fr!==null;)pr=pr|fr.lanes|fr.childLanes,fr=fr.sibling;fr=pr&~xr}else fr=0,lr.child=null;return Xm(ar,lr,xr,or,fr)}if((or&536870912)!==0)lr.memoizedState={baseLanes:0,cachePool:null},ar!==null&&qu(lr,xr!==null?xr.cachePool:null),xr!==null?Wh(lr,xr):yf(),Kh(lr);else return fr=lr.lanes=536870912,Xm(ar,lr,xr!==null?xr.baseLanes|or:or,or,fr)}else xr!==null?(qu(lr,xr.cachePool),Wh(lr,xr),ul(),lr.memoizedState=null):(ar!==null&&qu(lr,null),yf(),ul());return Gi(ar,lr,pr,or),lr.child}function Zo(ar,lr){return ar!==null&&ar.tag===22||lr.stateNode!==null||(lr.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),lr.sibling}function Xm(ar,lr,or,fr,pr){var xr=ff();return xr=xr===null?null:{parent:qi._currentValue,pool:xr},lr.memoizedState={baseLanes:or,cachePool:xr},ar!==null&&qu(lr,null),yf(),Kh(lr),ar!==null&&io(ar,lr,fr,!0),lr.childLanes=pr,null}function $u(ar,lr){return lr=Ju({mode:lr.mode,children:lr.children},ar.mode),lr.ref=ar.ref,ar.child=lr,lr.return=ar,lr}function Ym(ar,lr,or){return Pl(lr,ar.child,null,or),ar=$u(lr,lr.pendingProps),ar.flags|=2,as(lr),lr.memoizedState=null,ar}function j0(ar,lr,or){var fr=lr.pendingProps,pr=(lr.flags&128)!==0;if(lr.flags&=-129,ar===null){if(di){if(fr.mode==="hidden")return ar=$u(lr,fr),lr.lanes=536870912,Zo(null,ar);if(vf(lr),(ar=Ai)?(ar=ig(ar,gs),ar=ar!==null&&ar.data==="&"?ar:null,ar!==null&&(lr.memoizedState={dehydrated:ar,treeContext:tl!==null?{id:As,overflow:Rs}:null,retryLane:536870912,hydrationErrors:null},or=Dh(ar),or.return=lr,lr.child=or,Fi=lr,Ai=null)):ar=null,ar===null)throw nl(lr);return lr.lanes=536870912,null}return $u(lr,fr)}var xr=ar.memoizedState;if(xr!==null){var Ir=xr.dehydrated;if(vf(lr),pr)if(lr.flags&256)lr.flags&=-257,lr=Ym(ar,lr,or);else if(lr.memoizedState!==null)lr.child=ar.child,lr.flags|=128,lr=null;else throw Error(dr(558));else if(Pi||io(ar,lr,or,!1),pr=(or&ar.childLanes)!==0,Pi||pr){if(fr=Ei,fr!==null&&(Ir=si(fr,or),Ir!==0&&Ir!==xr.retryLane))throw xr.retryLane=Ir,Cl(ar,Ir),Ji(fr,ar,Ir),jf;oc(),lr=Ym(ar,lr,or)}else ar=xr.treeContext,Ai=bs(Ir.nextSibling),Fi=lr,di=!0,rl=null,gs=!1,ar!==null&&Ih(lr,ar),lr=$u(lr,fr),lr.flags|=4096;return lr}return ar=Ns(ar.child,{mode:fr.mode,children:fr.children}),ar.ref=lr.ref,lr.child=ar,ar.return=lr,ar}function Qu(ar,lr){var or=lr.ref;if(or===null)ar!==null&&ar.ref!==null&&(lr.flags|=4194816);else{if(typeof or!="function"&&typeof or!="object")throw Error(dr(284));(ar===null||ar.ref!==or)&&(lr.flags|=4194816)}}function Lf(ar,lr,or,fr,pr){return Il(lr),or=Tf(ar,lr,or,fr,void 0,pr),fr=Sf(),ar!==null&&!Pi?(wf(ar,lr,pr),Fs(ar,lr,pr)):(di&&fr&&tf(lr),lr.flags|=1,Gi(ar,lr,or,pr),lr.child)}function Wm(ar,lr,or,fr,pr,xr){return Il(lr),lr.updateQueue=null,or=$h(lr,fr,or,pr),Zh(ar),fr=Sf(),ar!==null&&!Pi?(wf(ar,lr,xr),Fs(ar,lr,xr)):(di&&fr&&tf(lr),lr.flags|=1,Gi(ar,lr,or,xr),lr.child)}function Km(ar,lr,or,fr,pr){if(Il(lr),lr.stateNode===null){var xr=to,Ir=or.contextType;typeof Ir=="object"&&Ir!==null&&(xr=Hi(Ir)),xr=new or(fr,xr),lr.memoizedState=xr.state!==null&&xr.state!==void 0?xr.state:null,xr.updater=Uf,lr.stateNode=xr,xr._reactInternals=lr,xr=lr.stateNode,xr.props=fr,xr.state=lr.memoizedState,xr.refs={},hf(lr),Ir=or.contextType,xr.context=typeof Ir=="object"&&Ir!==null?Hi(Ir):to,xr.state=lr.memoizedState,Ir=or.getDerivedStateFromProps,typeof Ir=="function"&&(Pf(lr,or,Ir,fr),xr.state=lr.memoizedState),typeof or.getDerivedStateFromProps=="function"||typeof xr.getSnapshotBeforeUpdate=="function"||typeof xr.UNSAFE_componentWillMount!="function"&&typeof xr.componentWillMount!="function"||(Ir=xr.state,typeof xr.componentWillMount=="function"&&xr.componentWillMount(),typeof xr.UNSAFE_componentWillMount=="function"&&xr.UNSAFE_componentWillMount(),Ir!==xr.state&&Uf.enqueueReplaceState(xr,xr.state,null),Vo(lr,fr,xr,pr),Go(),xr.state=lr.memoizedState),typeof xr.componentDidMount=="function"&&(lr.flags|=4194308),fr=!0}else if(ar===null){xr=lr.stateNode;var zr=lr.memoizedProps,Zr=zl(or,zr);xr.props=Zr;var ha=xr.context,_a=or.contextType;Ir=to,typeof _a=="object"&&_a!==null&&(Ir=Hi(_a));var Ca=or.getDerivedStateFromProps;_a=typeof Ca=="function"||typeof xr.getSnapshotBeforeUpdate=="function",zr=lr.pendingProps!==zr,_a||typeof xr.UNSAFE_componentWillReceiveProps!="function"&&typeof xr.componentWillReceiveProps!="function"||(zr||ha!==Ir)&&qm(lr,xr,fr,Ir),il=!1;var ma=lr.memoizedState;xr.state=ma,Vo(lr,fr,xr,pr),Go(),ha=lr.memoizedState,zr||ma!==ha||il?(typeof Ca=="function"&&(Pf(lr,or,Ca,fr),ha=lr.memoizedState),(Zr=il||Om(lr,or,Zr,fr,ma,ha,Ir))?(_a||typeof xr.UNSAFE_componentWillMount!="function"&&typeof xr.componentWillMount!="function"||(typeof xr.componentWillMount=="function"&&xr.componentWillMount(),typeof xr.UNSAFE_componentWillMount=="function"&&xr.UNSAFE_componentWillMount()),typeof xr.componentDidMount=="function"&&(lr.flags|=4194308)):(typeof xr.componentDidMount=="function"&&(lr.flags|=4194308),lr.memoizedProps=fr,lr.memoizedState=ha),xr.props=fr,xr.state=ha,xr.context=Ir,fr=Zr):(typeof xr.componentDidMount=="function"&&(lr.flags|=4194308),fr=!1)}else{xr=lr.stateNode,mf(ar,lr),Ir=lr.memoizedProps,_a=zl(or,Ir),xr.props=_a,Ca=lr.pendingProps,ma=xr.context,ha=or.contextType,Zr=to,typeof ha=="object"&&ha!==null&&(Zr=Hi(ha)),zr=or.getDerivedStateFromProps,(ha=typeof zr=="function"||typeof xr.getSnapshotBeforeUpdate=="function")||typeof xr.UNSAFE_componentWillReceiveProps!="function"&&typeof xr.componentWillReceiveProps!="function"||(Ir!==Ca||ma!==Zr)&&qm(lr,xr,fr,Zr),il=!1,ma=lr.memoizedState,xr.state=ma,Vo(lr,fr,xr,pr),Go();var va=lr.memoizedState;Ir!==Ca||ma!==va||il||ar!==null&&ar.dependencies!==null&&Iu(ar.dependencies)?(typeof zr=="function"&&(Pf(lr,or,zr,fr),va=lr.memoizedState),(_a=il||Om(lr,or,_a,fr,ma,va,Zr)||ar!==null&&ar.dependencies!==null&&Iu(ar.dependencies))?(ha||typeof xr.UNSAFE_componentWillUpdate!="function"&&typeof xr.componentWillUpdate!="function"||(typeof xr.componentWillUpdate=="function"&&xr.componentWillUpdate(fr,va,Zr),typeof xr.UNSAFE_componentWillUpdate=="function"&&xr.UNSAFE_componentWillUpdate(fr,va,Zr)),typeof xr.componentDidUpdate=="function"&&(lr.flags|=4),typeof xr.getSnapshotBeforeUpdate=="function"&&(lr.flags|=1024)):(typeof xr.componentDidUpdate!="function"||Ir===ar.memoizedProps&&ma===ar.memoizedState||(lr.flags|=4),typeof xr.getSnapshotBeforeUpdate!="function"||Ir===ar.memoizedProps&&ma===ar.memoizedState||(lr.flags|=1024),lr.memoizedProps=fr,lr.memoizedState=va),xr.props=fr,xr.state=va,xr.context=Zr,fr=_a):(typeof xr.componentDidUpdate!="function"||Ir===ar.memoizedProps&&ma===ar.memoizedState||(lr.flags|=4),typeof xr.getSnapshotBeforeUpdate!="function"||Ir===ar.memoizedProps&&ma===ar.memoizedState||(lr.flags|=1024),fr=!1)}return xr=fr,Qu(ar,lr),fr=(lr.flags&128)!==0,xr||fr?(xr=lr.stateNode,or=fr&&typeof or.getDerivedStateFromError!="function"?null:xr.render(),lr.flags|=1,ar!==null&&fr?(lr.child=Pl(lr,ar.child,null,pr),lr.child=Pl(lr,null,or,pr)):Gi(ar,lr,or,pr),lr.memoizedState=xr.state,ar=lr.child):ar=Fs(ar,lr,pr),ar}function Zm(ar,lr,or,fr){return Ml(),lr.flags|=256,Gi(ar,lr,or,fr),lr.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(ar){return{baseLanes:ar,cachePool:zh()}}function Gf(ar,lr,or){return ar=ar!==null?ar.childLanes&~or:0,lr&&(ar|=ss),ar}function $m(ar,lr,or){var fr=lr.pendingProps,pr=!1,xr=(lr.flags&128)!==0,Ir;if((Ir=xr)||(Ir=ar!==null&&ar.memoizedState===null?!1:(Ii.current&2)!==0),Ir&&(pr=!0,lr.flags&=-129),Ir=(lr.flags&32)!==0,lr.flags&=-33,ar===null){if(di){if(pr?ol(lr):ul(),(ar=Ai)?(ar=ig(ar,gs),ar=ar!==null&&ar.data!=="&"?ar:null,ar!==null&&(lr.memoizedState={dehydrated:ar,treeContext:tl!==null?{id:As,overflow:Rs}:null,retryLane:536870912,hydrationErrors:null},or=Dh(ar),or.return=lr,lr.child=or,Fi=lr,Ai=null)):ar=null,ar===null)throw nl(lr);return Ad(ar)?lr.lanes=32:lr.lanes=536870912,null}var zr=fr.children;return fr=fr.fallback,pr?(ul(),pr=lr.mode,zr=Ju({mode:"hidden",children:zr},pr),fr=Dl(fr,pr,or,null),zr.return=lr,fr.return=lr,zr.sibling=fr,lr.child=zr,fr=lr.child,fr.memoizedState=Hf(or),fr.childLanes=Gf(ar,Ir,or),lr.memoizedState=Ff,Zo(null,fr)):(ol(lr),Vf(lr,zr))}var Zr=ar.memoizedState;if(Zr!==null&&(zr=Zr.dehydrated,zr!==null)){if(xr)lr.flags&256?(ol(lr),lr.flags&=-257,lr=Xf(ar,lr,or)):lr.memoizedState!==null?(ul(),lr.child=ar.child,lr.flags|=128,lr=null):(ul(),zr=fr.fallback,pr=lr.mode,fr=Ju({mode:"visible",children:fr.children},pr),zr=Dl(zr,pr,or,null),zr.flags|=2,fr.return=lr,zr.return=lr,fr.sibling=zr,lr.child=fr,Pl(lr,ar.child,null,or),fr=lr.child,fr.memoizedState=Hf(or),fr.childLanes=Gf(ar,Ir,or),lr.memoizedState=Ff,lr=Zo(null,fr));else if(ol(lr),Ad(zr)){if(Ir=zr.nextSibling&&zr.nextSibling.dataset,Ir)var ha=Ir.dgst;Ir=ha,fr=Error(dr(419)),fr.stack="",fr.digest=Ir,Uo({value:fr,source:null,stack:null}),lr=Xf(ar,lr,or)}else if(Pi||io(ar,lr,or,!1),Ir=(or&ar.childLanes)!==0,Pi||Ir){if(Ir=Ei,Ir!==null&&(fr=si(Ir,or),fr!==0&&fr!==Zr.retryLane))throw Zr.retryLane=fr,Cl(ar,fr),Ji(Ir,ar,fr),jf;_d(zr)||oc(),lr=Xf(ar,lr,or)}else _d(zr)?(lr.flags|=192,lr.child=ar.child,lr=null):(ar=Zr.treeContext,Ai=bs(zr.nextSibling),Fi=lr,di=!0,rl=null,gs=!1,ar!==null&&Ih(lr,ar),lr=Vf(lr,fr.children),lr.flags|=4096);return lr}return pr?(ul(),zr=fr.fallback,pr=lr.mode,Zr=ar.child,ha=Zr.sibling,fr=Ns(Zr,{mode:"hidden",children:fr.children}),fr.subtreeFlags=Zr.subtreeFlags&65011712,ha!==null?zr=Ns(ha,zr):(zr=Dl(zr,pr,or,null),zr.flags|=2),zr.return=lr,fr.return=lr,fr.sibling=zr,lr.child=fr,Zo(null,fr),fr=lr.child,zr=ar.child.memoizedState,zr===null?zr=Hf(or):(pr=zr.cachePool,pr!==null?(Zr=qi._currentValue,pr=pr.parent!==Zr?{parent:Zr,pool:Zr}:pr):pr=zh(),zr={baseLanes:zr.baseLanes|or,cachePool:pr}),fr.memoizedState=zr,fr.childLanes=Gf(ar,Ir,or),lr.memoizedState=Ff,Zo(ar.child,fr)):(ol(lr),or=ar.child,ar=or.sibling,or=Ns(or,{mode:"visible",children:fr.children}),or.return=lr,or.sibling=null,ar!==null&&(Ir=lr.deletions,Ir===null?(lr.deletions=[ar],lr.flags|=16):Ir.push(ar)),lr.child=or,lr.memoizedState=null,or)}function Vf(ar,lr){return lr=Ju({mode:"visible",children:lr},ar.mode),lr.return=ar,ar.child=lr}function Ju(ar,lr){return ar=rs(22,ar,null,lr),ar.lanes=0,ar}function Xf(ar,lr,or){return Pl(lr,ar.child,null,or),ar=Vf(lr,lr.pendingProps.children),ar.flags|=2,lr.memoizedState=null,ar}function Qm(ar,lr,or){ar.lanes|=lr;var fr=ar.alternate;fr!==null&&(fr.lanes|=lr),lf(ar.return,lr,or)}function Yf(ar,lr,or,fr,pr,xr){var Ir=ar.memoizedState;Ir===null?ar.memoizedState={isBackwards:lr,rendering:null,renderingStartTime:0,last:fr,tail:or,tailMode:pr,treeForkCount:xr}:(Ir.isBackwards=lr,Ir.rendering=null,Ir.renderingStartTime=0,Ir.last=fr,Ir.tail=or,Ir.tailMode=pr,Ir.treeForkCount=xr)}function Jm(ar,lr,or){var fr=lr.pendingProps,pr=fr.revealOrder,xr=fr.tail;fr=fr.children;var Ir=Ii.current,zr=(Ir&2)!==0;if(zr?(Ir=Ir&1|2,lr.flags|=128):Ir&=1,ra(Ii,Ir),Gi(ar,lr,fr,or),fr=di?Po:0,!zr&&ar!==null&&(ar.flags&128)!==0)e:for(ar=lr.child;ar!==null;){if(ar.tag===13)ar.memoizedState!==null&&Qm(ar,or,lr);else if(ar.tag===19)Qm(ar,or,lr);else if(ar.child!==null){ar.child.return=ar,ar=ar.child;continue}if(ar===lr)break e;for(;ar.sibling===null;){if(ar.return===null||ar.return===lr)break e;ar=ar.return}ar.sibling.return=ar.return,ar=ar.sibling}switch(pr){case"forwards":for(or=lr.child,pr=null;or!==null;)ar=or.alternate,ar!==null&&Lu(ar)===null&&(pr=or),or=or.sibling;or=pr,or===null?(pr=lr.child,lr.child=null):(pr=or.sibling,or.sibling=null),Yf(lr,!1,pr,or,xr,fr);break;case"backwards":case"unstable_legacy-backwards":for(or=null,pr=lr.child,lr.child=null;pr!==null;){if(ar=pr.alternate,ar!==null&&Lu(ar)===null){lr.child=pr;break}ar=pr.sibling,pr.sibling=or,or=pr,pr=ar}Yf(lr,!0,or,null,xr,fr);break;case"together":Yf(lr,!1,null,null,void 0,fr);break;default:lr.memoizedState=null}return lr.child}function Fs(ar,lr,or){if(ar!==null&&(lr.dependencies=ar.dependencies),dl|=lr.lanes,(or&lr.childLanes)===0)if(ar!==null){if(io(ar,lr,or,!1),(or&lr.childLanes)===0)return null}else return null;if(ar!==null&&lr.child!==ar.child)throw Error(dr(153));if(lr.child!==null){for(ar=lr.child,or=Ns(ar,ar.pendingProps),lr.child=or,or.return=lr;ar.sibling!==null;)ar=ar.sibling,or=or.sibling=Ns(ar,ar.pendingProps),or.return=lr;or.sibling=null}return lr.child}function Wf(ar,lr){return(ar.lanes&lr)!==0?!0:(ar=ar.dependencies,!!(ar!==null&&Iu(ar)))}function L0(ar,lr,or){switch(lr.tag){case 3:ya(lr,lr.stateNode.containerInfo),al(lr,qi,ar.memoizedState.cache),Ml();break;case 27:case 5:Na(lr);break;case 4:ya(lr,lr.stateNode.containerInfo);break;case 10:al(lr,lr.type,lr.memoizedProps.value);break;case 31:if(lr.memoizedState!==null)return lr.flags|=128,vf(lr),null;break;case 13:var fr=lr.memoizedState;if(fr!==null)return fr.dehydrated!==null?(ol(lr),lr.flags|=128,null):(or&lr.child.childLanes)!==0?$m(ar,lr,or):(ol(lr),ar=Fs(ar,lr,or),ar!==null?ar.sibling:null);ol(lr);break;case 19:var pr=(ar.flags&128)!==0;if(fr=(or&lr.childLanes)!==0,fr||(io(ar,lr,or,!1),fr=(or&lr.childLanes)!==0),pr){if(fr)return Jm(ar,lr,or);lr.flags|=128}if(pr=lr.memoizedState,pr!==null&&(pr.rendering=null,pr.tail=null,pr.lastEffect=null),ra(Ii,Ii.current),fr)break;return null;case 22:return lr.lanes=0,Vm(ar,lr,or,lr.pendingProps);case 24:al(lr,qi,ar.memoizedState.cache)}return Fs(ar,lr,or)}function ep(ar,lr,or){if(ar!==null)if(ar.memoizedProps!==lr.pendingProps)Pi=!0;else{if(!Wf(ar,or)&&(lr.flags&128)===0)return Pi=!1,L0(ar,lr,or);Pi=(ar.flags&131072)!==0}else Pi=!1,di&&(lr.flags&1048576)!==0&&Bh(lr,Po,lr.index);switch(lr.lanes=0,lr.tag){case 16:e:{var fr=lr.pendingProps;if(ar=ql(lr.elementType),lr.type=ar,typeof ar=="function")Qc(ar)?(fr=zl(ar,fr),lr.tag=1,lr=Km(null,lr,ar,fr,or)):(lr.tag=0,lr=Lf(null,lr,ar,fr,or));else{if(ar!=null){var pr=ar.$$typeof;if(pr===Hr){lr.tag=11,lr=Fm(null,lr,ar,fr,or);break e}else if(pr===Br){lr.tag=14,lr=Hm(null,lr,ar,fr,or);break e}}throw lr=oa(ar)||ar,Error(dr(306,lr,""))}}return lr;case 0:return Lf(ar,lr,lr.type,lr.pendingProps,or);case 1:return fr=lr.type,pr=zl(fr,lr.pendingProps),Km(ar,lr,fr,pr,or);case 3:e:{if(ya(lr,lr.stateNode.containerInfo),ar===null)throw Error(dr(387));fr=lr.pendingProps;var xr=lr.memoizedState;pr=xr.element,mf(ar,lr),Vo(lr,fr,null,or);var Ir=lr.memoizedState;if(fr=Ir.cache,al(lr,qi,fr),fr!==xr.cache&&of(lr,[qi],or,!0),Go(),fr=Ir.element,xr.isDehydrated)if(xr={element:fr,isDehydrated:!1,cache:Ir.cache},lr.updateQueue.baseState=xr,lr.memoizedState=xr,lr.flags&256){lr=Zm(ar,lr,fr,or);break e}else if(fr!==pr){pr=ds(Error(dr(424)),lr),Uo(pr),lr=Zm(ar,lr,fr,or);break e}else{switch(ar=lr.stateNode.containerInfo,ar.nodeType){case 9:ar=ar.body;break;default:ar=ar.nodeName==="HTML"?ar.ownerDocument.body:ar}for(Ai=bs(ar.firstChild),Fi=lr,di=!0,rl=null,gs=!0,or=Vh(lr,null,fr,or),lr.child=or;or;)or.flags=or.flags&-3|4096,or=or.sibling}else{if(Ml(),fr===pr){lr=Fs(ar,lr,or);break e}Gi(ar,lr,fr,or)}lr=lr.child}return lr;case 26:return Qu(ar,lr),ar===null?(or=fg(lr.type,null,lr.pendingProps,null))?lr.memoizedState=or:di||(or=lr.type,ar=lr.pendingProps,fr=pc(La.current).createElement(or),fr[Di]=lr,fr[ki]=ar,Vi(fr,or,ar),ji(fr),lr.stateNode=fr):lr.memoizedState=fg(lr.type,ar.memoizedProps,lr.pendingProps,ar.memoizedState),null;case 27:return Na(lr),ar===null&&di&&(fr=lr.stateNode=og(lr.type,lr.pendingProps,La.current),Fi=lr,gs=!0,pr=Ai,yl(lr.type)?(Rd=pr,Ai=bs(fr.firstChild)):Ai=pr),Gi(ar,lr,lr.pendingProps.children,or),Qu(ar,lr),ar===null&&(lr.flags|=4194304),lr.child;case 5:return ar===null&&di&&((pr=fr=Ai)&&(fr=yy(fr,lr.type,lr.pendingProps,gs),fr!==null?(lr.stateNode=fr,Fi=lr,Ai=bs(fr.firstChild),gs=!1,pr=!0):pr=!1),pr||nl(lr)),Na(lr),pr=lr.type,xr=lr.pendingProps,Ir=ar!==null?ar.memoizedProps:null,fr=xr.children,Sd(pr,xr)?fr=null:Ir!==null&&Sd(pr,Ir)&&(lr.flags|=32),lr.memoizedState!==null&&(pr=Tf(ar,lr,B0,null,null,or),fu._currentValue=pr),Qu(ar,lr),Gi(ar,lr,fr,or),lr.child;case 6:return ar===null&&di&&((ar=or=Ai)&&(or=by(or,lr.pendingProps,gs),or!==null?(lr.stateNode=or,Fi=lr,Ai=null,ar=!0):ar=!1),ar||nl(lr)),null;case 13:return $m(ar,lr,or);case 4:return ya(lr,lr.stateNode.containerInfo),fr=lr.pendingProps,ar===null?lr.child=Pl(lr,null,fr,or):Gi(ar,lr,fr,or),lr.child;case 11:return Fm(ar,lr,lr.type,lr.pendingProps,or);case 7:return Gi(ar,lr,lr.pendingProps,or),lr.child;case 8:return Gi(ar,lr,lr.pendingProps.children,or),lr.child;case 12:return Gi(ar,lr,lr.pendingProps.children,or),lr.child;case 10:return fr=lr.pendingProps,al(lr,lr.type,fr.value),Gi(ar,lr,fr.children,or),lr.child;case 9:return pr=lr.type._context,fr=lr.pendingProps.children,Il(lr),pr=Hi(pr),fr=fr(pr),lr.flags|=1,Gi(ar,lr,fr,or),lr.child;case 14:return Hm(ar,lr,lr.type,lr.pendingProps,or);case 15:return Gm(ar,lr,lr.type,lr.pendingProps,or);case 19:return Jm(ar,lr,or);case 31:return j0(ar,lr,or);case 22:return Vm(ar,lr,or,lr.pendingProps);case 24:return Il(lr),fr=Hi(qi),ar===null?(pr=ff(),pr===null&&(pr=Ei,xr=uf(),pr.pooledCache=xr,xr.refCount++,xr!==null&&(pr.pooledCacheLanes|=or),pr=xr),lr.memoizedState={parent:fr,cache:pr},hf(lr),al(lr,qi,pr)):((ar.lanes&or)!==0&&(mf(ar,lr),Vo(lr,null,null,or),Go()),pr=ar.memoizedState,xr=lr.memoizedState,pr.parent!==fr?(pr={parent:fr,cache:fr},lr.memoizedState=pr,lr.lanes===0&&(lr.memoizedState=lr.updateQueue.baseState=pr),al(lr,qi,fr)):(fr=xr.cache,al(lr,qi,fr),fr!==pr.cache&&of(lr,[qi],or,!0))),Gi(ar,lr,lr.pendingProps.children,or),lr.child;case 29:throw lr.pendingProps}throw Error(dr(156,lr.tag))}function Hs(ar){ar.flags|=4}function Kf(ar,lr,or,fr,pr){if((lr=(ar.mode&32)!==0)&&(lr=!1),lr){if(ar.flags|=16777216,(pr&335544128)===pr)if(ar.stateNode.complete)ar.flags|=8192;else if(Rp())ar.flags|=8192;else throw Nl=Pu,df}else ar.flags&=-16777217}function tp(ar,lr){if(lr.type!=="stylesheet"||(lr.state.loading&4)!==0)ar.flags&=-16777217;else if(ar.flags|=16777216,!gg(lr))if(Rp())ar.flags|=8192;else throw Nl=Pu,df}function ec(ar,lr){lr!==null&&(ar.flags|=4),ar.flags&16384&&(lr=ar.tag!==22?Nr():536870912,ar.lanes|=lr,bo|=lr)}function $o(ar,lr){if(!di)switch(ar.tailMode){case"hidden":lr=ar.tail;for(var or=null;lr!==null;)lr.alternate!==null&&(or=lr),lr=lr.sibling;or===null?ar.tail=null:or.sibling=null;break;case"collapsed":or=ar.tail;for(var fr=null;or!==null;)or.alternate!==null&&(fr=or),or=or.sibling;fr===null?lr||ar.tail===null?ar.tail=null:ar.tail.sibling=null:fr.sibling=null}}function Ri(ar){var lr=ar.alternate!==null&&ar.alternate.child===ar.child,or=0,fr=0;if(lr)for(var pr=ar.child;pr!==null;)or|=pr.lanes|pr.childLanes,fr|=pr.subtreeFlags&65011712,fr|=pr.flags&65011712,pr.return=ar,pr=pr.sibling;else for(pr=ar.child;pr!==null;)or|=pr.lanes|pr.childLanes,fr|=pr.subtreeFlags,fr|=pr.flags,pr.return=ar,pr=pr.sibling;return ar.subtreeFlags|=fr,ar.childLanes=or,lr}function F0(ar,lr,or){var fr=lr.pendingProps;switch(rf(lr),lr.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ri(lr),null;case 1:return Ri(lr),null;case 3:return or=lr.stateNode,fr=null,ar!==null&&(fr=ar.memoizedState.cache),lr.memoizedState.cache!==fr&&(lr.flags|=2048),zs(qi),pa(),or.pendingContext&&(or.context=or.pendingContext,or.pendingContext=null),(ar===null||ar.child===null)&&(ao(lr)?Hs(lr):ar===null||ar.memoizedState.isDehydrated&&(lr.flags&256)===0||(lr.flags|=1024,af())),Ri(lr),null;case 26:var pr=lr.type,xr=lr.memoizedState;return ar===null?(Hs(lr),xr!==null?(Ri(lr),tp(lr,xr)):(Ri(lr),Kf(lr,pr,null,fr,or))):xr?xr!==ar.memoizedState?(Hs(lr),Ri(lr),tp(lr,xr)):(Ri(lr),lr.flags&=-16777217):(ar=ar.memoizedProps,ar!==fr&&Hs(lr),Ri(lr),Kf(lr,pr,ar,fr,or)),null;case 27:if(Ha(lr),or=La.current,pr=lr.type,ar!==null&&lr.stateNode!=null)ar.memoizedProps!==fr&&Hs(lr);else{if(!fr){if(lr.stateNode===null)throw Error(dr(166));return Ri(lr),null}ar=Ta.current,ao(lr)?Oh(lr):(ar=og(pr,fr,or),lr.stateNode=ar,Hs(lr))}return Ri(lr),null;case 5:if(Ha(lr),pr=lr.type,ar!==null&&lr.stateNode!=null)ar.memoizedProps!==fr&&Hs(lr);else{if(!fr){if(lr.stateNode===null)throw Error(dr(166));return Ri(lr),null}if(xr=Ta.current,ao(lr))Oh(lr);else{var Ir=pc(La.current);switch(xr){case 1:xr=Ir.createElementNS("http://www.w3.org/2000/svg",pr);break;case 2:xr=Ir.createElementNS("http://www.w3.org/1998/Math/MathML",pr);break;default:switch(pr){case"svg":xr=Ir.createElementNS("http://www.w3.org/2000/svg",pr);break;case"math":xr=Ir.createElementNS("http://www.w3.org/1998/Math/MathML",pr);break;case"script":xr=Ir.createElement("div"),xr.innerHTML="<script><\/script>",xr=xr.removeChild(xr.firstChild);break;case"select":xr=typeof fr.is=="string"?Ir.createElement("select",{is:fr.is}):Ir.createElement("select"),fr.multiple?xr.multiple=!0:fr.size&&(xr.size=fr.size);break;default:xr=typeof fr.is=="string"?Ir.createElement(pr,{is:fr.is}):Ir.createElement(pr)}}xr[Di]=lr,xr[ki]=fr;e:for(Ir=lr.child;Ir!==null;){if(Ir.tag===5||Ir.tag===6)xr.appendChild(Ir.stateNode);else if(Ir.tag!==4&&Ir.tag!==27&&Ir.child!==null){Ir.child.return=Ir,Ir=Ir.child;continue}if(Ir===lr)break e;for(;Ir.sibling===null;){if(Ir.return===null||Ir.return===lr)break e;Ir=Ir.return}Ir.sibling.return=Ir.return,Ir=Ir.sibling}lr.stateNode=xr;e:switch(Vi(xr,pr,fr),pr){case"button":case"input":case"select":case"textarea":fr=!!fr.autoFocus;break e;case"img":fr=!0;break e;default:fr=!1}fr&&Hs(lr)}}return Ri(lr),Kf(lr,lr.type,ar===null?null:ar.memoizedProps,lr.pendingProps,or),null;case 6:if(ar&&lr.stateNode!=null)ar.memoizedProps!==fr&&Hs(lr);else{if(typeof fr!="string"&&lr.stateNode===null)throw Error(dr(166));if(ar=La.current,ao(lr)){if(ar=lr.stateNode,or=lr.memoizedProps,fr=null,pr=Fi,pr!==null)switch(pr.tag){case 27:case 5:fr=pr.memoizedProps}ar[Di]=lr,ar=!!(ar.nodeValue===or||fr!==null&&fr.suppressHydrationWarning===!0||$p(ar.nodeValue,or)),ar||nl(lr,!0)}else ar=pc(ar).createTextNode(fr),ar[Di]=lr,lr.stateNode=ar}return Ri(lr),null;case 31:if(or=lr.memoizedState,ar===null||ar.memoizedState!==null){if(fr=ao(lr),or!==null){if(ar===null){if(!fr)throw Error(dr(318));if(ar=lr.memoizedState,ar=ar!==null?ar.dehydrated:null,!ar)throw Error(dr(557));ar[Di]=lr}else Ml(),(lr.flags&128)===0&&(lr.memoizedState=null),lr.flags|=4;Ri(lr),ar=!1}else or=af(),ar!==null&&ar.memoizedState!==null&&(ar.memoizedState.hydrationErrors=or),ar=!0;if(!ar)return lr.flags&256?(as(lr),lr):(as(lr),null);if((lr.flags&128)!==0)throw Error(dr(558))}return Ri(lr),null;case 13:if(fr=lr.memoizedState,ar===null||ar.memoizedState!==null&&ar.memoizedState.dehydrated!==null){if(pr=ao(lr),fr!==null&&fr.dehydrated!==null){if(ar===null){if(!pr)throw Error(dr(318));if(pr=lr.memoizedState,pr=pr!==null?pr.dehydrated:null,!pr)throw Error(dr(317));pr[Di]=lr}else Ml(),(lr.flags&128)===0&&(lr.memoizedState=null),lr.flags|=4;Ri(lr),pr=!1}else pr=af(),ar!==null&&ar.memoizedState!==null&&(ar.memoizedState.hydrationErrors=pr),pr=!0;if(!pr)return lr.flags&256?(as(lr),lr):(as(lr),null)}return as(lr),(lr.flags&128)!==0?(lr.lanes=or,lr):(or=fr!==null,ar=ar!==null&&ar.memoizedState!==null,or&&(fr=lr.child,pr=null,fr.alternate!==null&&fr.alternate.memoizedState!==null&&fr.alternate.memoizedState.cachePool!==null&&(pr=fr.alternate.memoizedState.cachePool.pool),xr=null,fr.memoizedState!==null&&fr.memoizedState.cachePool!==null&&(xr=fr.memoizedState.cachePool.pool),xr!==pr&&(fr.flags|=2048)),or!==ar&&or&&(lr.child.flags|=8192),ec(lr,lr.updateQueue),Ri(lr),null);case 4:return pa(),ar===null&&yd(lr.stateNode.containerInfo),Ri(lr),null;case 10:return zs(lr.type),Ri(lr),null;case 19:if(Qr(Ii),fr=lr.memoizedState,fr===null)return Ri(lr),null;if(pr=(lr.flags&128)!==0,xr=fr.rendering,xr===null)if(pr)$o(fr,!1);else{if(Bi!==0||ar!==null&&(ar.flags&128)!==0)for(ar=lr.child;ar!==null;){if(xr=Lu(ar),xr!==null){for(lr.flags|=128,$o(fr,!1),ar=xr.updateQueue,lr.updateQueue=ar,ec(lr,ar),lr.subtreeFlags=0,ar=or,or=lr.child;or!==null;)Ch(or,ar),or=or.sibling;return ra(Ii,Ii.current&1|2),di&&Ps(lr,fr.treeForkCount),lr.child}ar=ar.sibling}fr.tail!==null&&ni()>ic&&(lr.flags|=128,pr=!0,$o(fr,!1),lr.lanes=4194304)}else{if(!pr)if(ar=Lu(xr),ar!==null){if(lr.flags|=128,pr=!0,ar=ar.updateQueue,lr.updateQueue=ar,ec(lr,ar),$o(fr,!0),fr.tail===null&&fr.tailMode==="hidden"&&!xr.alternate&&!di)return Ri(lr),null}else 2*ni()-fr.renderingStartTime>ic&&or!==536870912&&(lr.flags|=128,pr=!0,$o(fr,!1),lr.lanes=4194304);fr.isBackwards?(xr.sibling=lr.child,lr.child=xr):(ar=fr.last,ar!==null?ar.sibling=xr:lr.child=xr,fr.last=xr)}return fr.tail!==null?(ar=fr.tail,fr.rendering=ar,fr.tail=ar.sibling,fr.renderingStartTime=ni(),ar.sibling=null,or=Ii.current,ra(Ii,pr?or&1|2:or&1),di&&Ps(lr,fr.treeForkCount),ar):(Ri(lr),null);case 22:case 23:return as(lr),bf(),fr=lr.memoizedState!==null,ar!==null?ar.memoizedState!==null!==fr&&(lr.flags|=8192):fr&&(lr.flags|=8192),fr?(or&536870912)!==0&&(lr.flags&128)===0&&(Ri(lr),lr.subtreeFlags&6&&(lr.flags|=8192)):Ri(lr),or=lr.updateQueue,or!==null&&ec(lr,or.retryQueue),or=null,ar!==null&&ar.memoizedState!==null&&ar.memoizedState.cachePool!==null&&(or=ar.memoizedState.cachePool.pool),fr=null,lr.memoizedState!==null&&lr.memoizedState.cachePool!==null&&(fr=lr.memoizedState.cachePool.pool),fr!==or&&(lr.flags|=2048),ar!==null&&Qr(Ol),null;case 24:return or=null,ar!==null&&(or=ar.memoizedState.cache),lr.memoizedState.cache!==or&&(lr.flags|=2048),zs(qi),Ri(lr),null;case 25:return null;case 30:return null}throw Error(dr(156,lr.tag))}function H0(ar,lr){switch(rf(lr),lr.tag){case 1:return ar=lr.flags,ar&65536?(lr.flags=ar&-65537|128,lr):null;case 3:return zs(qi),pa(),ar=lr.flags,(ar&65536)!==0&&(ar&128)===0?(lr.flags=ar&-65537|128,lr):null;case 26:case 27:case 5:return Ha(lr),null;case 31:if(lr.memoizedState!==null){if(as(lr),lr.alternate===null)throw Error(dr(340));Ml()}return ar=lr.flags,ar&65536?(lr.flags=ar&-65537|128,lr):null;case 13:if(as(lr),ar=lr.memoizedState,ar!==null&&ar.dehydrated!==null){if(lr.alternate===null)throw Error(dr(340));Ml()}return ar=lr.flags,ar&65536?(lr.flags=ar&-65537|128,lr):null;case 19:return Qr(Ii),null;case 4:return pa(),null;case 10:return zs(lr.type),null;case 22:case 23:return as(lr),bf(),ar!==null&&Qr(Ol),ar=lr.flags,ar&65536?(lr.flags=ar&-65537|128,lr):null;case 24:return zs(qi),null;case 25:return null;default:return null}}function rp(ar,lr){switch(rf(lr),lr.tag){case 3:zs(qi),pa();break;case 26:case 27:case 5:Ha(lr);break;case 4:pa();break;case 31:lr.memoizedState!==null&&as(lr);break;case 13:as(lr);break;case 19:Qr(Ii);break;case 10:zs(lr.type);break;case 22:case 23:as(lr),bf(),ar!==null&&Qr(Ol);break;case 24:zs(qi)}}function Qo(ar,lr){try{var or=lr.updateQueue,fr=or!==null?or.lastEffect:null;if(fr!==null){var pr=fr.next;or=pr;do{if((or.tag&ar)===ar){fr=void 0;var xr=or.create,Ir=or.inst;fr=xr(),Ir.destroy=fr}or=or.next}while(or!==pr)}}catch(zr){vi(lr,lr.return,zr)}}function cl(ar,lr,or){try{var fr=lr.updateQueue,pr=fr!==null?fr.lastEffect:null;if(pr!==null){var xr=pr.next;fr=xr;do{if((fr.tag&ar)===ar){var Ir=fr.inst,zr=Ir.destroy;if(zr!==void 0){Ir.destroy=void 0,pr=lr;var Zr=or,ha=zr;try{ha()}catch(_a){vi(pr,Zr,_a)}}}fr=fr.next}while(fr!==xr)}}catch(_a){vi(lr,lr.return,_a)}}function np(ar){var lr=ar.updateQueue;if(lr!==null){var or=ar.stateNode;try{Yh(lr,or)}catch(fr){vi(ar,ar.return,fr)}}}function ap(ar,lr,or){or.props=zl(ar.type,ar.memoizedProps),or.state=ar.memoizedState;try{or.componentWillUnmount()}catch(fr){vi(ar,lr,fr)}}function Jo(ar,lr){try{var or=ar.ref;if(or!==null){switch(ar.tag){case 26:case 27:case 5:var fr=ar.stateNode;break;case 30:fr=ar.stateNode;break;default:fr=ar.stateNode}typeof or=="function"?ar.refCleanup=or(fr):or.current=fr}}catch(pr){vi(ar,lr,pr)}}function ks(ar,lr){var or=ar.ref,fr=ar.refCleanup;if(or!==null)if(typeof fr=="function")try{fr()}catch(pr){vi(ar,lr,pr)}finally{ar.refCleanup=null,ar=ar.alternate,ar!=null&&(ar.refCleanup=null)}else if(typeof or=="function")try{or(null)}catch(pr){vi(ar,lr,pr)}else or.current=null}function ip(ar){var lr=ar.type,or=ar.memoizedProps,fr=ar.stateNode;try{e:switch(lr){case"button":case"input":case"select":case"textarea":or.autoFocus&&fr.focus();break e;case"img":or.src?fr.src=or.src:or.srcSet&&(fr.srcset=or.srcSet)}}catch(pr){vi(ar,ar.return,pr)}}function Zf(ar,lr,or){try{var fr=ar.stateNode;fy(fr,ar.type,or,lr),fr[ki]=lr}catch(pr){vi(ar,ar.return,pr)}}function sp(ar){return ar.tag===5||ar.tag===3||ar.tag===26||ar.tag===27&&yl(ar.type)||ar.tag===4}function $f(ar){e:for(;;){for(;ar.sibling===null;){if(ar.return===null||sp(ar.return))return null;ar=ar.return}for(ar.sibling.return=ar.return,ar=ar.sibling;ar.tag!==5&&ar.tag!==6&&ar.tag!==18;){if(ar.tag===27&&yl(ar.type)||ar.flags&2||ar.child===null||ar.tag===4)continue e;ar.child.return=ar,ar=ar.child}if(!(ar.flags&2))return ar.stateNode}}function Qf(ar,lr,or){var fr=ar.tag;if(fr===5||fr===6)ar=ar.stateNode,lr?(or.nodeType===9?or.body:or.nodeName==="HTML"?or.ownerDocument.body:or).insertBefore(ar,lr):(lr=or.nodeType===9?or.body:or.nodeName==="HTML"?or.ownerDocument.body:or,lr.appendChild(ar),or=or._reactRootContainer,or!=null||lr.onclick!==null||(lr.onclick=Os));else if(fr!==4&&(fr===27&&yl(ar.type)&&(or=ar.stateNode,lr=null),ar=ar.child,ar!==null))for(Qf(ar,lr,or),ar=ar.sibling;ar!==null;)Qf(ar,lr,or),ar=ar.sibling}function tc(ar,lr,or){var fr=ar.tag;if(fr===5||fr===6)ar=ar.stateNode,lr?or.insertBefore(ar,lr):or.appendChild(ar);else if(fr!==4&&(fr===27&&yl(ar.type)&&(or=ar.stateNode),ar=ar.child,ar!==null))for(tc(ar,lr,or),ar=ar.sibling;ar!==null;)tc(ar,lr,or),ar=ar.sibling}function lp(ar){var lr=ar.stateNode,or=ar.memoizedProps;try{for(var fr=ar.type,pr=lr.attributes;pr.length;)lr.removeAttributeNode(pr[0]);Vi(lr,fr,or),lr[Di]=ar,lr[ki]=or}catch(xr){vi(ar,ar.return,xr)}}var Gs=!1,Ui=!1,Jf=!1,op=typeof WeakSet=="function"?WeakSet:Set,Li=null;function G0(ar,lr){if(ar=ar.containerInfo,xd=Sc,ar=xh(ar),Vc(ar)){if("selectionStart"in ar)var or={start:ar.selectionStart,end:ar.selectionEnd};else e:{or=(or=ar.ownerDocument)&&or.defaultView||window;var fr=or.getSelection&&or.getSelection();if(fr&&fr.rangeCount!==0){or=fr.anchorNode;var pr=fr.anchorOffset,xr=fr.focusNode;fr=fr.focusOffset;try{or.nodeType,xr.nodeType}catch{or=null;break e}var Ir=0,zr=-1,Zr=-1,ha=0,_a=0,Ca=ar,ma=null;t:for(;;){for(var va;Ca!==or||pr!==0&&Ca.nodeType!==3||(zr=Ir+pr),Ca!==xr||fr!==0&&Ca.nodeType!==3||(Zr=Ir+fr),Ca.nodeType===3&&(Ir+=Ca.nodeValue.length),(va=Ca.firstChild)!==null;)ma=Ca,Ca=va;for(;;){if(Ca===ar)break t;if(ma===or&&++ha===pr&&(zr=Ir),ma===xr&&++_a===fr&&(Zr=Ir),(va=Ca.nextSibling)!==null)break;Ca=ma,ma=Ca.parentNode}Ca=va}or=zr===-1||Zr===-1?null:{start:zr,end:Zr}}else or=null}or=or||{start:0,end:0}}else or=null;for(Td={focusedElem:ar,selectionRange:or},Sc=!1,Li=lr;Li!==null;)if(lr=Li,ar=lr.child,(lr.subtreeFlags&1028)!==0&&ar!==null)ar.return=lr,Li=ar;else for(;Li!==null;){switch(lr=Li,xr=lr.alternate,ar=lr.flags,lr.tag){case 0:if((ar&4)!==0&&(ar=lr.updateQueue,ar=ar!==null?ar.events:null,ar!==null))for(or=0;or<ar.length;or++)pr=ar[or],pr.ref.impl=pr.nextImpl;break;case 11:case 15:break;case 1:if((ar&1024)!==0&&xr!==null){ar=void 0,or=lr,pr=xr.memoizedProps,xr=xr.memoizedState,fr=or.stateNode;try{var Ga=zl(or.type,pr);ar=fr.getSnapshotBeforeUpdate(Ga,xr),fr.__reactInternalSnapshotBeforeUpdate=ar}catch(Qa){vi(or,or.return,Qa)}}break;case 3:if((ar&1024)!==0){if(ar=lr.stateNode.containerInfo,or=ar.nodeType,or===9)Ed(ar);else if(or===1)switch(ar.nodeName){case"HEAD":case"HTML":case"BODY":Ed(ar);break;default:ar.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((ar&1024)!==0)throw Error(dr(163))}if(ar=lr.sibling,ar!==null){ar.return=lr.return,Li=ar;break}Li=lr.return}}function up(ar,lr,or){var fr=or.flags;switch(or.tag){case 0:case 11:case 15:Xs(ar,or),fr&4&&Qo(5,or);break;case 1:if(Xs(ar,or),fr&4)if(ar=or.stateNode,lr===null)try{ar.componentDidMount()}catch(Ir){vi(or,or.return,Ir)}else{var pr=zl(or.type,lr.memoizedProps);lr=lr.memoizedState;try{ar.componentDidUpdate(pr,lr,ar.__reactInternalSnapshotBeforeUpdate)}catch(Ir){vi(or,or.return,Ir)}}fr&64&&np(or),fr&512&&Jo(or,or.return);break;case 3:if(Xs(ar,or),fr&64&&(ar=or.updateQueue,ar!==null)){if(lr=null,or.child!==null)switch(or.child.tag){case 27:case 5:lr=or.child.stateNode;break;case 1:lr=or.child.stateNode}try{Yh(ar,lr)}catch(Ir){vi(or,or.return,Ir)}}break;case 27:lr===null&&fr&4&&lp(or);case 26:case 5:Xs(ar,or),lr===null&&fr&4&&ip(or),fr&512&&Jo(or,or.return);break;case 12:Xs(ar,or);break;case 31:Xs(ar,or),fr&4&&dp(ar,or);break;case 13:Xs(ar,or),fr&4&&hp(ar,or),fr&64&&(ar=or.memoizedState,ar!==null&&(ar=ar.dehydrated,ar!==null&&(or=J0.bind(null,or),vy(ar,or))));break;case 22:if(fr=or.memoizedState!==null||Gs,!fr){lr=lr!==null&&lr.memoizedState!==null||Ui,pr=Gs;var xr=Ui;Gs=fr,(Ui=lr)&&!xr?Ys(ar,or,(or.subtreeFlags&8772)!==0):Xs(ar,or),Gs=pr,Ui=xr}break;case 30:break;default:Xs(ar,or)}}function cp(ar){var lr=ar.alternate;lr!==null&&(ar.alternate=null,cp(lr)),ar.child=null,ar.deletions=null,ar.sibling=null,ar.tag===5&&(lr=ar.stateNode,lr!==null&&Hl(lr)),ar.stateNode=null,ar.return=null,ar.dependencies=null,ar.memoizedProps=null,ar.memoizedState=null,ar.pendingProps=null,ar.stateNode=null,ar.updateQueue=null}var Ci=null,Ki=!1;function Vs(ar,lr,or){for(or=or.child;or!==null;)fp(ar,lr,or),or=or.sibling}function fp(ar,lr,or){if(Wa&&typeof Wa.onCommitFiberUnmount=="function")try{Wa.onCommitFiberUnmount(Aa,or)}catch{}switch(or.tag){case 26:Ui||ks(or,lr),Vs(ar,lr,or),or.memoizedState?or.memoizedState.count--:or.stateNode&&(or=or.stateNode,or.parentNode.removeChild(or));break;case 27:Ui||ks(or,lr);var fr=Ci,pr=Ki;yl(or.type)&&(Ci=or.stateNode,Ki=!1),Vs(ar,lr,or),ou(or.stateNode),Ci=fr,Ki=pr;break;case 5:Ui||ks(or,lr);case 6:if(fr=Ci,pr=Ki,Ci=null,Vs(ar,lr,or),Ci=fr,Ki=pr,Ci!==null)if(Ki)try{(Ci.nodeType===9?Ci.body:Ci.nodeName==="HTML"?Ci.ownerDocument.body:Ci).removeChild(or.stateNode)}catch(xr){vi(or,lr,xr)}else try{Ci.removeChild(or.stateNode)}catch(xr){vi(or,lr,xr)}break;case 18:Ci!==null&&(Ki?(ar=Ci,ng(ar.nodeType===9?ar.body:ar.nodeName==="HTML"?ar.ownerDocument.body:ar,or.stateNode),Ao(ar)):ng(Ci,or.stateNode));break;case 4:fr=Ci,pr=Ki,Ci=or.stateNode.containerInfo,Ki=!0,Vs(ar,lr,or),Ci=fr,Ki=pr;break;case 0:case 11:case 14:case 15:cl(2,or,lr),Ui||cl(4,or,lr),Vs(ar,lr,or);break;case 1:Ui||(ks(or,lr),fr=or.stateNode,typeof fr.componentWillUnmount=="function"&&ap(or,lr,fr)),Vs(ar,lr,or);break;case 21:Vs(ar,lr,or);break;case 22:Ui=(fr=Ui)||or.memoizedState!==null,Vs(ar,lr,or),Ui=fr;break;default:Vs(ar,lr,or)}}function dp(ar,lr){if(lr.memoizedState===null&&(ar=lr.alternate,ar!==null&&(ar=ar.memoizedState,ar!==null))){ar=ar.dehydrated;try{Ao(ar)}catch(or){vi(lr,lr.return,or)}}}function hp(ar,lr){if(lr.memoizedState===null&&(ar=lr.alternate,ar!==null&&(ar=ar.memoizedState,ar!==null&&(ar=ar.dehydrated,ar!==null))))try{Ao(ar)}catch(or){vi(lr,lr.return,or)}}function V0(ar){switch(ar.tag){case 31:case 13:case 19:var lr=ar.stateNode;return lr===null&&(lr=ar.stateNode=new op),lr;case 22:return ar=ar.stateNode,lr=ar._retryCache,lr===null&&(lr=ar._retryCache=new op),lr;default:throw Error(dr(435,ar.tag))}}function rc(ar,lr){var or=V0(ar);lr.forEach(function(fr){if(!or.has(fr)){or.add(fr);var pr=ey.bind(null,ar,fr);fr.then(pr,pr)}})}function Zi(ar,lr){var or=lr.deletions;if(or!==null)for(var fr=0;fr<or.length;fr++){var pr=or[fr],xr=ar,Ir=lr,zr=Ir;e:for(;zr!==null;){switch(zr.tag){case 27:if(yl(zr.type)){Ci=zr.stateNode,Ki=!1;break e}break;case 5:Ci=zr.stateNode,Ki=!1;break e;case 3:case 4:Ci=zr.stateNode.containerInfo,Ki=!0;break e}zr=zr.return}if(Ci===null)throw Error(dr(160));fp(xr,Ir,pr),Ci=null,Ki=!1,xr=pr.alternate,xr!==null&&(xr.return=null),pr.return=null}if(lr.subtreeFlags&13886)for(lr=lr.child;lr!==null;)mp(lr,ar),lr=lr.sibling}var ws=null;function mp(ar,lr){var or=ar.alternate,fr=ar.flags;switch(ar.tag){case 0:case 11:case 14:case 15:Zi(lr,ar),$i(ar),fr&4&&(cl(3,ar,ar.return),Qo(3,ar),cl(5,ar,ar.return));break;case 1:Zi(lr,ar),$i(ar),fr&512&&(Ui||or===null||ks(or,or.return)),fr&64&&Gs&&(ar=ar.updateQueue,ar!==null&&(fr=ar.callbacks,fr!==null&&(or=ar.shared.hiddenCallbacks,ar.shared.hiddenCallbacks=or===null?fr:or.concat(fr))));break;case 26:var pr=ws;if(Zi(lr,ar),$i(ar),fr&512&&(Ui||or===null||ks(or,or.return)),fr&4){var xr=or!==null?or.memoizedState:null;if(fr=ar.memoizedState,or===null)if(fr===null)if(ar.stateNode===null){e:{fr=ar.type,or=ar.memoizedProps,pr=pr.ownerDocument||pr;t:switch(fr){case"title":xr=pr.getElementsByTagName("title")[0],(!xr||xr[El]||xr[Di]||xr.namespaceURI==="http://www.w3.org/2000/svg"||xr.hasAttribute("itemprop"))&&(xr=pr.createElement(fr),pr.head.insertBefore(xr,pr.querySelector("head > title"))),Vi(xr,fr,or),xr[Di]=ar,ji(xr),fr=xr;break e;case"link":var Ir=mg("link","href",pr).get(fr+(or.href||""));if(Ir){for(var zr=0;zr<Ir.length;zr++)if(xr=Ir[zr],xr.getAttribute("href")===(or.href==null||or.href===""?null:or.href)&&xr.getAttribute("rel")===(or.rel==null?null:or.rel)&&xr.getAttribute("title")===(or.title==null?null:or.title)&&xr.getAttribute("crossorigin")===(or.crossOrigin==null?null:or.crossOrigin)){Ir.splice(zr,1);break t}}xr=pr.createElement(fr),Vi(xr,fr,or),pr.head.appendChild(xr);break;case"meta":if(Ir=mg("meta","content",pr).get(fr+(or.content||""))){for(zr=0;zr<Ir.length;zr++)if(xr=Ir[zr],xr.getAttribute("content")===(or.content==null?null:""+or.content)&&xr.getAttribute("name")===(or.name==null?null:or.name)&&xr.getAttribute("property")===(or.property==null?null:or.property)&&xr.getAttribute("http-equiv")===(or.httpEquiv==null?null:or.httpEquiv)&&xr.getAttribute("charset")===(or.charSet==null?null:or.charSet)){Ir.splice(zr,1);break t}}xr=pr.createElement(fr),Vi(xr,fr,or),pr.head.appendChild(xr);break;default:throw Error(dr(468,fr))}xr[Di]=ar,ji(xr),fr=xr}ar.stateNode=fr}else pg(pr,ar.type,ar.stateNode);else ar.stateNode=hg(pr,fr,ar.memoizedProps);else xr!==fr?(xr===null?or.stateNode!==null&&(or=or.stateNode,or.parentNode.removeChild(or)):xr.count--,fr===null?pg(pr,ar.type,ar.stateNode):hg(pr,fr,ar.memoizedProps)):fr===null&&ar.stateNode!==null&&Zf(ar,ar.memoizedProps,or.memoizedProps)}break;case 27:Zi(lr,ar),$i(ar),fr&512&&(Ui||or===null||ks(or,or.return)),or!==null&&fr&4&&Zf(ar,ar.memoizedProps,or.memoizedProps);break;case 5:if(Zi(lr,ar),$i(ar),fr&512&&(Ui||or===null||ks(or,or.return)),ar.flags&32){pr=ar.stateNode;try{Wl(pr,"")}catch(Ga){vi(ar,ar.return,Ga)}}fr&4&&ar.stateNode!=null&&(pr=ar.memoizedProps,Zf(ar,pr,or!==null?or.memoizedProps:pr)),fr&1024&&(Jf=!0);break;case 6:if(Zi(lr,ar),$i(ar),fr&4){if(ar.stateNode===null)throw Error(dr(162));fr=ar.memoizedProps,or=ar.stateNode;try{or.nodeValue=fr}catch(Ga){vi(ar,ar.return,Ga)}}break;case 3:if(bc=null,pr=ws,ws=gc(lr.containerInfo),Zi(lr,ar),ws=pr,$i(ar),fr&4&&or!==null&&or.memoizedState.isDehydrated)try{Ao(lr.containerInfo)}catch(Ga){vi(ar,ar.return,Ga)}Jf&&(Jf=!1,pp(ar));break;case 4:fr=ws,ws=gc(ar.stateNode.containerInfo),Zi(lr,ar),$i(ar),ws=fr;break;case 12:Zi(lr,ar),$i(ar);break;case 31:Zi(lr,ar),$i(ar),fr&4&&(fr=ar.updateQueue,fr!==null&&(ar.updateQueue=null,rc(ar,fr)));break;case 13:Zi(lr,ar),$i(ar),ar.child.flags&8192&&ar.memoizedState!==null!=(or!==null&&or.memoizedState!==null)&&(ac=ni()),fr&4&&(fr=ar.updateQueue,fr!==null&&(ar.updateQueue=null,rc(ar,fr)));break;case 22:pr=ar.memoizedState!==null;var Zr=or!==null&&or.memoizedState!==null,ha=Gs,_a=Ui;if(Gs=ha||pr,Ui=_a||Zr,Zi(lr,ar),Ui=_a,Gs=ha,$i(ar),fr&8192)e:for(lr=ar.stateNode,lr._visibility=pr?lr._visibility&-2:lr._visibility|1,pr&&(or===null||Zr||Gs||Ui||jl(ar)),or=null,lr=ar;;){if(lr.tag===5||lr.tag===26){if(or===null){Zr=or=lr;try{if(xr=Zr.stateNode,pr)Ir=xr.style,typeof Ir.setProperty=="function"?Ir.setProperty("display","none","important"):Ir.display="none";else{zr=Zr.stateNode;var Ca=Zr.memoizedProps.style,ma=Ca!=null&&Ca.hasOwnProperty("display")?Ca.display:null;zr.style.display=ma==null||typeof ma=="boolean"?"":(""+ma).trim()}}catch(Ga){vi(Zr,Zr.return,Ga)}}}else if(lr.tag===6){if(or===null){Zr=lr;try{Zr.stateNode.nodeValue=pr?"":Zr.memoizedProps}catch(Ga){vi(Zr,Zr.return,Ga)}}}else if(lr.tag===18){if(or===null){Zr=lr;try{var va=Zr.stateNode;pr?ag(va,!0):ag(Zr.stateNode,!1)}catch(Ga){vi(Zr,Zr.return,Ga)}}}else if((lr.tag!==22&&lr.tag!==23||lr.memoizedState===null||lr===ar)&&lr.child!==null){lr.child.return=lr,lr=lr.child;continue}if(lr===ar)break e;for(;lr.sibling===null;){if(lr.return===null||lr.return===ar)break e;or===lr&&(or=null),lr=lr.return}or===lr&&(or=null),lr.sibling.return=lr.return,lr=lr.sibling}fr&4&&(fr=ar.updateQueue,fr!==null&&(or=fr.retryQueue,or!==null&&(fr.retryQueue=null,rc(ar,or))));break;case 19:Zi(lr,ar),$i(ar),fr&4&&(fr=ar.updateQueue,fr!==null&&(ar.updateQueue=null,rc(ar,fr)));break;case 30:break;case 21:break;default:Zi(lr,ar),$i(ar)}}function $i(ar){var lr=ar.flags;if(lr&2){try{for(var or,fr=ar.return;fr!==null;){if(sp(fr)){or=fr;break}fr=fr.return}if(or==null)throw Error(dr(160));switch(or.tag){case 27:var pr=or.stateNode,xr=$f(ar);tc(ar,xr,pr);break;case 5:var Ir=or.stateNode;or.flags&32&&(Wl(Ir,""),or.flags&=-33);var zr=$f(ar);tc(ar,zr,Ir);break;case 3:case 4:var Zr=or.stateNode.containerInfo,ha=$f(ar);Qf(ar,ha,Zr);break;default:throw Error(dr(161))}}catch(_a){vi(ar,ar.return,_a)}ar.flags&=-3}lr&4096&&(ar.flags&=-4097)}function pp(ar){if(ar.subtreeFlags&1024)for(ar=ar.child;ar!==null;){var lr=ar;pp(lr),lr.tag===5&&lr.flags&1024&&lr.stateNode.reset(),ar=ar.sibling}}function Xs(ar,lr){if(lr.subtreeFlags&8772)for(lr=lr.child;lr!==null;)up(ar,lr.alternate,lr),lr=lr.sibling}function jl(ar){for(ar=ar.child;ar!==null;){var lr=ar;switch(lr.tag){case 0:case 11:case 14:case 15:cl(4,lr,lr.return),jl(lr);break;case 1:ks(lr,lr.return);var or=lr.stateNode;typeof or.componentWillUnmount=="function"&&ap(lr,lr.return,or),jl(lr);break;case 27:ou(lr.stateNode);case 26:case 5:ks(lr,lr.return),jl(lr);break;case 22:lr.memoizedState===null&&jl(lr);break;case 30:jl(lr);break;default:jl(lr)}ar=ar.sibling}}function Ys(ar,lr,or){for(or=or&&(lr.subtreeFlags&8772)!==0,lr=lr.child;lr!==null;){var fr=lr.alternate,pr=ar,xr=lr,Ir=xr.flags;switch(xr.tag){case 0:case 11:case 15:Ys(pr,xr,or),Qo(4,xr);break;case 1:if(Ys(pr,xr,or),fr=xr,pr=fr.stateNode,typeof pr.componentDidMount=="function")try{pr.componentDidMount()}catch(ha){vi(fr,fr.return,ha)}if(fr=xr,pr=fr.updateQueue,pr!==null){var zr=fr.stateNode;try{var Zr=pr.shared.hiddenCallbacks;if(Zr!==null)for(pr.shared.hiddenCallbacks=null,pr=0;pr<Zr.length;pr++)Xh(Zr[pr],zr)}catch(ha){vi(fr,fr.return,ha)}}or&&Ir&64&&np(xr),Jo(xr,xr.return);break;case 27:lp(xr);case 26:case 5:Ys(pr,xr,or),or&&fr===null&&Ir&4&&ip(xr),Jo(xr,xr.return);break;case 12:Ys(pr,xr,or);break;case 31:Ys(pr,xr,or),or&&Ir&4&&dp(pr,xr);break;case 13:Ys(pr,xr,or),or&&Ir&4&&hp(pr,xr);break;case 22:xr.memoizedState===null&&Ys(pr,xr,or),Jo(xr,xr.return);break;case 30:break;default:Ys(pr,xr,or)}lr=lr.sibling}}function ed(ar,lr){var or=null;ar!==null&&ar.memoizedState!==null&&ar.memoizedState.cachePool!==null&&(or=ar.memoizedState.cachePool.pool),ar=null,lr.memoizedState!==null&&lr.memoizedState.cachePool!==null&&(ar=lr.memoizedState.cachePool.pool),ar!==or&&(ar!=null&&ar.refCount++,or!=null&&zo(or))}function td(ar,lr){ar=null,lr.alternate!==null&&(ar=lr.alternate.memoizedState.cache),lr=lr.memoizedState.cache,lr!==ar&&(lr.refCount++,ar!=null&&zo(ar))}function Es(ar,lr,or,fr){if(lr.subtreeFlags&10256)for(lr=lr.child;lr!==null;)gp(ar,lr,or,fr),lr=lr.sibling}function gp(ar,lr,or,fr){var pr=lr.flags;switch(lr.tag){case 0:case 11:case 15:Es(ar,lr,or,fr),pr&2048&&Qo(9,lr);break;case 1:Es(ar,lr,or,fr);break;case 3:Es(ar,lr,or,fr),pr&2048&&(ar=null,lr.alternate!==null&&(ar=lr.alternate.memoizedState.cache),lr=lr.memoizedState.cache,lr!==ar&&(lr.refCount++,ar!=null&&zo(ar)));break;case 12:if(pr&2048){Es(ar,lr,or,fr),ar=lr.stateNode;try{var xr=lr.memoizedProps,Ir=xr.id,zr=xr.onPostCommit;typeof zr=="function"&&zr(Ir,lr.alternate===null?"mount":"update",ar.passiveEffectDuration,-0)}catch(Zr){vi(lr,lr.return,Zr)}}else Es(ar,lr,or,fr);break;case 31:Es(ar,lr,or,fr);break;case 13:Es(ar,lr,or,fr);break;case 23:break;case 22:xr=lr.stateNode,Ir=lr.alternate,lr.memoizedState!==null?xr._visibility&2?Es(ar,lr,or,fr):eu(ar,lr):xr._visibility&2?Es(ar,lr,or,fr):(xr._visibility|=2,po(ar,lr,or,fr,(lr.subtreeFlags&10256)!==0||!1)),pr&2048&&ed(Ir,lr);break;case 24:Es(ar,lr,or,fr),pr&2048&&td(lr.alternate,lr);break;default:Es(ar,lr,or,fr)}}function po(ar,lr,or,fr,pr){for(pr=pr&&((lr.subtreeFlags&10256)!==0||!1),lr=lr.child;lr!==null;){var xr=ar,Ir=lr,zr=or,Zr=fr,ha=Ir.flags;switch(Ir.tag){case 0:case 11:case 15:po(xr,Ir,zr,Zr,pr),Qo(8,Ir);break;case 23:break;case 22:var _a=Ir.stateNode;Ir.memoizedState!==null?_a._visibility&2?po(xr,Ir,zr,Zr,pr):eu(xr,Ir):(_a._visibility|=2,po(xr,Ir,zr,Zr,pr)),pr&&ha&2048&&ed(Ir.alternate,Ir);break;case 24:po(xr,Ir,zr,Zr,pr),pr&&ha&2048&&td(Ir.alternate,Ir);break;default:po(xr,Ir,zr,Zr,pr)}lr=lr.sibling}}function eu(ar,lr){if(lr.subtreeFlags&10256)for(lr=lr.child;lr!==null;){var or=ar,fr=lr,pr=fr.flags;switch(fr.tag){case 22:eu(or,fr),pr&2048&&ed(fr.alternate,fr);break;case 24:eu(or,fr),pr&2048&&td(fr.alternate,fr);break;default:eu(or,fr)}lr=lr.sibling}}var tu=8192;function go(ar,lr,or){if(ar.subtreeFlags&tu)for(ar=ar.child;ar!==null;)yp(ar,lr,or),ar=ar.sibling}function yp(ar,lr,or){switch(ar.tag){case 26:go(ar,lr,or),ar.flags&tu&&ar.memoizedState!==null&&My(or,ws,ar.memoizedState,ar.memoizedProps);break;case 5:go(ar,lr,or);break;case 3:case 4:var fr=ws;ws=gc(ar.stateNode.containerInfo),go(ar,lr,or),ws=fr;break;case 22:ar.memoizedState===null&&(fr=ar.alternate,fr!==null&&fr.memoizedState!==null?(fr=tu,tu=16777216,go(ar,lr,or),tu=fr):go(ar,lr,or));break;default:go(ar,lr,or)}}function bp(ar){var lr=ar.alternate;if(lr!==null&&(ar=lr.child,ar!==null)){lr.child=null;do lr=ar.sibling,ar.sibling=null,ar=lr;while(ar!==null)}}function ru(ar){var lr=ar.deletions;if((ar.flags&16)!==0){if(lr!==null)for(var or=0;or<lr.length;or++){var fr=lr[or];Li=fr,xp(fr,ar)}bp(ar)}if(ar.subtreeFlags&10256)for(ar=ar.child;ar!==null;)vp(ar),ar=ar.sibling}function vp(ar){switch(ar.tag){case 0:case 11:case 15:ru(ar),ar.flags&2048&&cl(9,ar,ar.return);break;case 3:ru(ar);break;case 12:ru(ar);break;case 22:var lr=ar.stateNode;ar.memoizedState!==null&&lr._visibility&2&&(ar.return===null||ar.return.tag!==13)?(lr._visibility&=-3,nc(ar)):ru(ar);break;default:ru(ar)}}function nc(ar){var lr=ar.deletions;if((ar.flags&16)!==0){if(lr!==null)for(var or=0;or<lr.length;or++){var fr=lr[or];Li=fr,xp(fr,ar)}bp(ar)}for(ar=ar.child;ar!==null;){switch(lr=ar,lr.tag){case 0:case 11:case 15:cl(8,lr,lr.return),nc(lr);break;case 22:or=lr.stateNode,or._visibility&2&&(or._visibility&=-3,nc(lr));break;default:nc(lr)}ar=ar.sibling}}function xp(ar,lr){for(;Li!==null;){var or=Li;switch(or.tag){case 0:case 11:case 15:cl(8,or,lr);break;case 23:case 22:if(or.memoizedState!==null&&or.memoizedState.cachePool!==null){var fr=or.memoizedState.cachePool.pool;fr!=null&&fr.refCount++}break;case 24:zo(or.memoizedState.cache)}if(fr=or.child,fr!==null)fr.return=or,Li=fr;else e:for(or=ar;Li!==null;){fr=Li;var pr=fr.sibling,xr=fr.return;if(cp(fr),fr===or){Li=null;break e}if(pr!==null){pr.return=xr,Li=pr;break e}Li=xr}}}var X0={getCacheForType:function(ar){var lr=Hi(qi),or=lr.data.get(ar);return or===void 0&&(or=ar(),lr.data.set(ar,or)),or},cacheSignal:function(){return Hi(qi).controller.signal}},Y0=typeof WeakMap=="function"?WeakMap:Map,gi=0,Ei=null,oi=null,ci=0,bi=0,is=null,fl=!1,yo=!1,rd=!1,Ws=0,Bi=0,dl=0,Ll=0,nd=0,ss=0,bo=0,nu=null,Qi=null,ad=!1,ac=0,Tp=0,ic=1/0,sc=null,hl=null,zi=0,ml=null,vo=null,Ks=0,id=0,sd=null,Sp=null,au=0,ld=null;function ls(){return(gi&2)!==0&&ci!==0?ci&-ci:$r.T!==null?hd():ti()}function wp(){if(ss===0)if((ci&536870912)===0||di){var ar=Ds;Ds<<=1,(Ds&3932160)===0&&(Ds=262144),ss=ar}else ss=536870912;return ar=ns.current,ar!==null&&(ar.flags|=32),ss}function Ji(ar,lr,or){(ar===Ei&&(bi===2||bi===9)||ar.cancelPendingCommit!==null)&&(xo(ar,0),pl(ar,ci,ss,!1)),Sa(ar,or),((gi&2)===0||ar!==Ei)&&(ar===Ei&&((gi&2)===0&&(Ll|=or),Bi===4&&pl(ar,ci,ss,!1)),Cs(ar))}function Ep(ar,lr,or){if((gi&6)!==0)throw Error(dr(327));var fr=!or&&(lr&127)===0&&(lr&ar.expiredLanes)===0||Ea(ar,lr),pr=fr?Z0(ar,lr):ud(ar,lr,!0),xr=fr;do{if(pr===0){yo&&!fr&&pl(ar,lr,0,!1);break}else{if(or=ar.current.alternate,xr&&!W0(or)){pr=ud(ar,lr,!1),xr=!1;continue}if(pr===2){if(xr=lr,ar.errorRecoveryDisabledLanes&xr)var Ir=0;else Ir=ar.pendingLanes&-536870913,Ir=Ir!==0?Ir:Ir&536870912?536870912:0;if(Ir!==0){lr=Ir;e:{var zr=ar;pr=nu;var Zr=zr.current.memoizedState.isDehydrated;if(Zr&&(xo(zr,Ir).flags|=256),Ir=ud(zr,Ir,!1),Ir!==2){if(rd&&!Zr){zr.errorRecoveryDisabledLanes|=xr,Ll|=xr,pr=4;break e}xr=Qi,Qi=pr,xr!==null&&(Qi===null?Qi=xr:Qi.push.apply(Qi,xr))}pr=Ir}if(xr=!1,pr!==2)continue}}if(pr===1){xo(ar,0),pl(ar,lr,0,!0);break}e:{switch(fr=ar,xr=pr,xr){case 0:case 1:throw Error(dr(345));case 4:if((lr&4194048)!==lr)break;case 6:pl(fr,lr,ss,!fl);break e;case 2:Qi=null;break;case 3:case 5:break;default:throw Error(dr(329))}if((lr&62914560)===lr&&(pr=ac+300-ni(),10<pr)){if(pl(fr,lr,ss,!fl),wa(fr,0,!0)!==0)break e;Ks=lr,fr.timeoutHandle=tg(_p.bind(null,fr,or,Qi,sc,ad,lr,ss,Ll,bo,fl,xr,"Throttled",-0,0),pr);break e}_p(fr,or,Qi,sc,ad,lr,ss,Ll,bo,fl,xr,null,-0,0)}}break}while(!0);Cs(ar)}function _p(ar,lr,or,fr,pr,xr,Ir,zr,Zr,ha,_a,Ca,ma,va){if(ar.timeoutHandle=-1,Ca=lr.subtreeFlags,Ca&8192||(Ca&16785408)===16785408){Ca={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Os},yp(lr,xr,Ca);var Ga=(xr&62914560)===xr?ac-ni():(xr&4194048)===xr?Tp-ni():0;if(Ga=By(Ca,Ga),Ga!==null){Ks=xr,ar.cancelPendingCommit=Ga(Ip.bind(null,ar,lr,xr,or,fr,pr,Ir,zr,Zr,_a,Ca,null,ma,va)),pl(ar,xr,Ir,!ha);return}}Ip(ar,lr,xr,or,fr,pr,Ir,zr,Zr)}function W0(ar){for(var lr=ar;;){var or=lr.tag;if((or===0||or===11||or===15)&&lr.flags&16384&&(or=lr.updateQueue,or!==null&&(or=or.stores,or!==null)))for(var fr=0;fr<or.length;fr++){var pr=or[fr],xr=pr.getSnapshot;pr=pr.value;try{if(!ts(xr(),pr))return!1}catch{return!1}}if(or=lr.child,lr.subtreeFlags&16384&&or!==null)or.return=lr,lr=or;else{if(lr===ar)break;for(;lr.sibling===null;){if(lr.return===null||lr.return===ar)return!0;lr=lr.return}lr.sibling.return=lr.return,lr=lr.sibling}}return!0}function pl(ar,lr,or,fr){lr&=~nd,lr&=~Ll,ar.suspendedLanes|=lr,ar.pingedLanes&=~lr,fr&&(ar.warmLanes|=lr),fr=ar.expirationTimes;for(var pr=lr;0<pr;){var xr=31-Ja(pr),Ir=1<<xr;fr[xr]=-1,pr&=~Ir}or!==0&&ja(ar,or,lr)}function lc(){return(gi&6)===0?(iu(0),!1):!0}function od(){if(oi!==null){if(bi===0)var ar=oi.return;else ar=oi,Us=Bl=null,Ef(ar),uo=null,Lo=0,ar=oi;for(;ar!==null;)rp(ar.alternate,ar),ar=ar.return;oi=null}}function xo(ar,lr){var or=ar.timeoutHandle;or!==-1&&(ar.timeoutHandle=-1,my(or)),or=ar.cancelPendingCommit,or!==null&&(ar.cancelPendingCommit=null,or()),Ks=0,od(),Ei=ar,oi=or=Ns(ar.current,null),ci=lr,bi=0,is=null,fl=!1,yo=Ea(ar,lr),rd=!1,bo=ss=nd=Ll=dl=Bi=0,Qi=nu=null,ad=!1,(lr&8)!==0&&(lr|=lr&32);var fr=ar.entangledLanes;if(fr!==0)for(ar=ar.entanglements,fr&=lr;0<fr;){var pr=31-Ja(fr),xr=1<<pr;lr|=ar[pr],fr&=~xr}return Ws=lr,ku(),or}function Ap(ar,lr){ri=null,$r.H=Ko,lr===oo||lr===Nu?(lr=Fh(),bi=3):lr===df?(lr=Fh(),bi=4):bi=lr===jf?8:lr!==null&&typeof lr=="object"&&typeof lr.then=="function"?6:1,is=lr,oi===null&&(Bi=1,Zu(ar,ds(lr,ar.current)))}function Rp(){var ar=ns.current;return ar===null?!0:(ci&4194048)===ci?ys===null:(ci&62914560)===ci||(ci&536870912)!==0?ar===ys:!1}function kp(){var ar=$r.H;return $r.H=Ko,ar===null?Ko:ar}function Cp(){var ar=$r.A;return $r.A=X0,ar}function oc(){Bi=4,fl||(ci&4194048)!==ci&&ns.current!==null||(yo=!0),(dl&134217727)===0&&(Ll&134217727)===0||Ei===null||pl(Ei,ci,ss,!1)}function ud(ar,lr,or){var fr=gi;gi|=2;var pr=kp(),xr=Cp();(Ei!==ar||ci!==lr)&&(sc=null,xo(ar,lr)),lr=!1;var Ir=Bi;e:do try{if(bi!==0&&oi!==null){var zr=oi,Zr=is;switch(bi){case 8:od(),Ir=6;break e;case 3:case 2:case 9:case 6:ns.current===null&&(lr=!0);var ha=bi;if(bi=0,is=null,To(ar,zr,Zr,ha),or&&yo){Ir=0;break e}break;default:ha=bi,bi=0,is=null,To(ar,zr,Zr,ha)}}K0(),Ir=Bi;break}catch(_a){Ap(ar,_a)}while(!0);return lr&&ar.shellSuspendCounter++,Us=Bl=null,gi=fr,$r.H=pr,$r.A=xr,oi===null&&(Ei=null,ci=0,ku()),Ir}function K0(){for(;oi!==null;)Dp(oi)}function Z0(ar,lr){var or=gi;gi|=2;var fr=kp(),pr=Cp();Ei!==ar||ci!==lr?(sc=null,ic=ni()+500,xo(ar,lr)):yo=Ea(ar,lr);e:do try{if(bi!==0&&oi!==null){lr=oi;var xr=is;t:switch(bi){case 1:bi=0,is=null,To(ar,lr,xr,1);break;case 2:case 9:if(jh(xr)){bi=0,is=null,Mp(lr);break}lr=function(){bi!==2&&bi!==9||Ei!==ar||(bi=7),Cs(ar)},xr.then(lr,lr);break e;case 3:bi=7;break e;case 4:bi=5;break e;case 7:jh(xr)?(bi=0,is=null,Mp(lr)):(bi=0,is=null,To(ar,lr,xr,7));break;case 5:var Ir=null;switch(oi.tag){case 26:Ir=oi.memoizedState;case 5:case 27:var zr=oi;if(Ir?gg(Ir):zr.stateNode.complete){bi=0,is=null;var Zr=zr.sibling;if(Zr!==null)oi=Zr;else{var ha=zr.return;ha!==null?(oi=ha,uc(ha)):oi=null}break t}}bi=0,is=null,To(ar,lr,xr,5);break;case 6:bi=0,is=null,To(ar,lr,xr,6);break;case 8:od(),Bi=6;break e;default:throw Error(dr(462))}}$0();break}catch(_a){Ap(ar,_a)}while(!0);return Us=Bl=null,$r.H=fr,$r.A=pr,gi=or,oi!==null?0:(Ei=null,ci=0,ku(),Bi)}function $0(){for(;oi!==null&&!ca();)Dp(oi)}function Dp(ar){var lr=ep(ar.alternate,ar,Ws);ar.memoizedProps=ar.pendingProps,lr===null?uc(ar):oi=lr}function Mp(ar){var lr=ar,or=lr.alternate;switch(lr.tag){case 15:case 0:lr=Wm(or,lr,lr.pendingProps,lr.type,void 0,ci);break;case 11:lr=Wm(or,lr,lr.pendingProps,lr.type.render,lr.ref,ci);break;case 5:Ef(lr);default:rp(or,lr),lr=oi=Ch(lr,Ws),lr=ep(or,lr,Ws)}ar.memoizedProps=ar.pendingProps,lr===null?uc(ar):oi=lr}function To(ar,lr,or,fr){Us=Bl=null,Ef(lr),uo=null,Lo=0;var pr=lr.return;try{if(z0(ar,pr,lr,or,ci)){Bi=1,Zu(ar,ds(or,ar.current)),oi=null;return}}catch(xr){if(pr!==null)throw oi=pr,xr;Bi=1,Zu(ar,ds(or,ar.current)),oi=null;return}lr.flags&32768?(di||fr===1?ar=!0:yo||(ci&536870912)!==0?ar=!1:(fl=ar=!0,(fr===2||fr===9||fr===3||fr===6)&&(fr=ns.current,fr!==null&&fr.tag===13&&(fr.flags|=16384))),Bp(lr,ar)):uc(lr)}function uc(ar){var lr=ar;do{if((lr.flags&32768)!==0){Bp(lr,fl);return}ar=lr.return;var or=F0(lr.alternate,lr,Ws);if(or!==null){oi=or;return}if(lr=lr.sibling,lr!==null){oi=lr;return}oi=lr=ar}while(lr!==null);Bi===0&&(Bi=5)}function Bp(ar,lr){do{var or=H0(ar.alternate,ar);if(or!==null){or.flags&=32767,oi=or;return}if(or=ar.return,or!==null&&(or.flags|=32768,or.subtreeFlags=0,or.deletions=null),!lr&&(ar=ar.sibling,ar!==null)){oi=ar;return}oi=ar=or}while(ar!==null);Bi=6,oi=null}function Ip(ar,lr,or,fr,pr,xr,Ir,zr,Zr){ar.cancelPendingCommit=null;do cc();while(zi!==0);if((gi&6)!==0)throw Error(dr(327));if(lr!==null){if(lr===ar.current)throw Error(dr(177));if(xr=lr.lanes|lr.childLanes,xr|=Zc,Da(ar,or,xr,Ir,zr,Zr),ar===Ei&&(oi=Ei=null,ci=0),vo=lr,ml=ar,Ks=or,id=xr,sd=pr,Sp=fr,(lr.subtreeFlags&10256)!==0||(lr.flags&10256)!==0?(ar.callbackNode=null,ar.callbackPriority=0,ty(Rr,function(){return Up(),null})):(ar.callbackNode=null,ar.callbackPriority=0),fr=(lr.flags&13878)!==0,(lr.subtreeFlags&13878)!==0||fr){fr=$r.T,$r.T=null,pr=xa.p,xa.p=2,Ir=gi,gi|=4;try{G0(ar,lr,or)}finally{gi=Ir,xa.p=pr,$r.T=fr}}zi=1,Op(),qp(),Np()}}function Op(){if(zi===1){zi=0;var ar=ml,lr=vo,or=(lr.flags&13878)!==0;if((lr.subtreeFlags&13878)!==0||or){or=$r.T,$r.T=null;var fr=xa.p;xa.p=2;var pr=gi;gi|=4;try{mp(lr,ar);var xr=Td,Ir=xh(ar.containerInfo),zr=xr.focusedElem,Zr=xr.selectionRange;if(Ir!==zr&&zr&&zr.ownerDocument&&vh(zr.ownerDocument.documentElement,zr)){if(Zr!==null&&Vc(zr)){var ha=Zr.start,_a=Zr.end;if(_a===void 0&&(_a=ha),"selectionStart"in zr)zr.selectionStart=ha,zr.selectionEnd=Math.min(_a,zr.value.length);else{var Ca=zr.ownerDocument||document,ma=Ca&&Ca.defaultView||window;if(ma.getSelection){var va=ma.getSelection(),Ga=zr.textContent.length,Qa=Math.min(Zr.start,Ga),wi=Zr.end===void 0?Qa:Math.min(Zr.end,Ga);!va.extend&&Qa>wi&&(Ir=wi,wi=Qa,Qa=Ir);var la=bh(zr,Qa),Jr=bh(zr,wi);if(la&&Jr&&(va.rangeCount!==1||va.anchorNode!==la.node||va.anchorOffset!==la.offset||va.focusNode!==Jr.node||va.focusOffset!==Jr.offset)){var da=Ca.createRange();da.setStart(la.node,la.offset),va.removeAllRanges(),Qa>wi?(va.addRange(da),va.extend(Jr.node,Jr.offset)):(da.setEnd(Jr.node,Jr.offset),va.addRange(da))}}}}for(Ca=[],va=zr;va=va.parentNode;)va.nodeType===1&&Ca.push({element:va,left:va.scrollLeft,top:va.scrollTop});for(typeof zr.focus=="function"&&zr.focus(),zr=0;zr<Ca.length;zr++){var Ra=Ca[zr];Ra.element.scrollLeft=Ra.left,Ra.element.scrollTop=Ra.top}}Sc=!!xd,Td=xd=null}finally{gi=pr,xa.p=fr,$r.T=or}}ar.current=lr,zi=2}}function qp(){if(zi===2){zi=0;var ar=ml,lr=vo,or=(lr.flags&8772)!==0;if((lr.subtreeFlags&8772)!==0||or){or=$r.T,$r.T=null;var fr=xa.p;xa.p=2;var pr=gi;gi|=4;try{up(ar,lr.alternate,lr)}finally{gi=pr,xa.p=fr,$r.T=or}}zi=3}}function Np(){if(zi===4||zi===3){zi=0,Va();var ar=ml,lr=vo,or=Ks,fr=Sp;(lr.subtreeFlags&10256)!==0||(lr.flags&10256)!==0?zi=5:(zi=0,vo=ml=null,Pp(ar,ar.pendingLanes));var pr=ar.pendingLanes;if(pr===0&&(hl=null),$a(or),lr=lr.stateNode,Wa&&typeof Wa.onCommitFiberRoot=="function")try{Wa.onCommitFiberRoot(Aa,lr,void 0,(lr.current.flags&128)===128)}catch{}if(fr!==null){lr=$r.T,pr=xa.p,xa.p=2,$r.T=null;try{for(var xr=ar.onRecoverableError,Ir=0;Ir<fr.length;Ir++){var zr=fr[Ir];xr(zr.value,{componentStack:zr.stack})}}finally{$r.T=lr,xa.p=pr}}(Ks&3)!==0&&cc(),Cs(ar),pr=ar.pendingLanes,(or&261930)!==0&&(pr&42)!==0?ar===ld?au++:(au=0,ld=ar):au=0,iu(0)}}function Pp(ar,lr){(ar.pooledCacheLanes&=lr)===0&&(lr=ar.pooledCache,lr!=null&&(ar.pooledCache=null,zo(lr)))}function cc(){return Op(),qp(),Np(),Up()}function Up(){if(zi!==5)return!1;var ar=ml,lr=id;id=0;var or=$a(Ks),fr=$r.T,pr=xa.p;try{xa.p=32>or?32:or,$r.T=null,or=sd,sd=null;var xr=ml,Ir=Ks;if(zi=0,vo=ml=null,Ks=0,(gi&6)!==0)throw Error(dr(331));var zr=gi;if(gi|=4,vp(xr.current),gp(xr,xr.current,Ir,or),gi=zr,iu(0,!1),Wa&&typeof Wa.onPostCommitFiberRoot=="function")try{Wa.onPostCommitFiberRoot(Aa,xr)}catch{}return!0}finally{xa.p=pr,$r.T=fr,Pp(ar,lr)}}function zp(ar,lr,or){lr=ds(or,lr),lr=zf(ar.stateNode,lr,2),ar=ll(ar,lr,2),ar!==null&&(Sa(ar,2),Cs(ar))}function vi(ar,lr,or){if(ar.tag===3)zp(ar,ar,or);else for(;lr!==null;){if(lr.tag===3){zp(lr,ar,or);break}else if(lr.tag===1){var fr=lr.stateNode;if(typeof lr.type.getDerivedStateFromError=="function"||typeof fr.componentDidCatch=="function"&&(hl===null||!hl.has(fr))){ar=ds(or,ar),or=jm(2),fr=ll(lr,or,2),fr!==null&&(Lm(or,fr,lr,ar),Sa(fr,2),Cs(fr));break}}lr=lr.return}}function cd(ar,lr,or){var fr=ar.pingCache;if(fr===null){fr=ar.pingCache=new Y0;var pr=new Set;fr.set(lr,pr)}else pr=fr.get(lr),pr===void 0&&(pr=new Set,fr.set(lr,pr));pr.has(or)||(rd=!0,pr.add(or),ar=Q0.bind(null,ar,lr,or),lr.then(ar,ar))}function Q0(ar,lr,or){var fr=ar.pingCache;fr!==null&&fr.delete(lr),ar.pingedLanes|=ar.suspendedLanes&or,ar.warmLanes&=~or,Ei===ar&&(ci&or)===or&&(Bi===4||Bi===3&&(ci&62914560)===ci&&300>ni()-ac?(gi&2)===0&&xo(ar,0):nd|=or,bo===ci&&(bo=0)),Cs(ar)}function jp(ar,lr){lr===0&&(lr=Nr()),ar=Cl(ar,lr),ar!==null&&(Sa(ar,lr),Cs(ar))}function J0(ar){var lr=ar.memoizedState,or=0;lr!==null&&(or=lr.retryLane),jp(ar,or)}function ey(ar,lr){var or=0;switch(ar.tag){case 31:case 13:var fr=ar.stateNode,pr=ar.memoizedState;pr!==null&&(or=pr.retryLane);break;case 19:fr=ar.stateNode;break;case 22:fr=ar.stateNode._retryCache;break;default:throw Error(dr(314))}fr!==null&&fr.delete(lr),jp(ar,or)}function ty(ar,lr){return ka(ar,lr)}var fc=null,So=null,fd=!1,dc=!1,dd=!1,gl=0;function Cs(ar){ar!==So&&ar.next===null&&(So===null?fc=So=ar:So=So.next=ar),dc=!0,fd||(fd=!0,ny())}function iu(ar,lr){if(!dd&&dc){dd=!0;do for(var or=!1,fr=fc;fr!==null;){if(ar!==0){var pr=fr.pendingLanes;if(pr===0)var xr=0;else{var Ir=fr.suspendedLanes,zr=fr.pingedLanes;xr=(1<<31-Ja(42|ar)+1)-1,xr&=pr&~(Ir&~zr),xr=xr&201326741?xr&201326741|1:xr?xr|2:0}xr!==0&&(or=!0,Gp(fr,xr))}else xr=ci,xr=wa(fr,fr===Ei?xr:0,fr.cancelPendingCommit!==null||fr.timeoutHandle!==-1),(xr&3)===0||Ea(fr,xr)||(or=!0,Gp(fr,xr));fr=fr.next}while(or);dd=!1}}function ry(){Lp()}function Lp(){dc=fd=!1;var ar=0;gl!==0&&hy()&&(ar=gl);for(var lr=ni(),or=null,fr=fc;fr!==null;){var pr=fr.next,xr=Fp(fr,lr);xr===0?(fr.next=null,or===null?fc=pr:or.next=pr,pr===null&&(So=or)):(or=fr,(ar!==0||(xr&3)!==0)&&(dc=!0)),fr=pr}zi!==0&&zi!==5||iu(ar),gl!==0&&(gl=0)}function Fp(ar,lr){for(var or=ar.suspendedLanes,fr=ar.pingedLanes,pr=ar.expirationTimes,xr=ar.pendingLanes&-62914561;0<xr;){var Ir=31-Ja(xr),zr=1<<Ir,Zr=pr[Ir];Zr===-1?((zr&or)===0||(zr&fr)!==0)&&(pr[Ir]=Fa(zr,lr)):Zr<=lr&&(ar.expiredLanes|=zr),xr&=~zr}if(lr=Ei,or=ci,or=wa(ar,ar===lr?or:0,ar.cancelPendingCommit!==null||ar.timeoutHandle!==-1),fr=ar.callbackNode,or===0||ar===lr&&(bi===2||bi===9)||ar.cancelPendingCommit!==null)return fr!==null&&fr!==null&&Ua(fr),ar.callbackNode=null,ar.callbackPriority=0;if((or&3)===0||Ea(ar,or)){if(lr=or&-or,lr===ar.callbackPriority)return lr;switch(fr!==null&&Ua(fr),$a(or)){case 2:case 8:or=Pr;break;case 32:or=Rr;break;case 268435456:or=Vr;break;default:or=Rr}return fr=Hp.bind(null,ar),or=ka(or,fr),ar.callbackPriority=lr,ar.callbackNode=or,lr}return fr!==null&&fr!==null&&Ua(fr),ar.callbackPriority=2,ar.callbackNode=null,2}function Hp(ar,lr){if(zi!==0&&zi!==5)return ar.callbackNode=null,ar.callbackPriority=0,null;var or=ar.callbackNode;if(cc()&&ar.callbackNode!==or)return null;var fr=ci;return fr=wa(ar,ar===Ei?fr:0,ar.cancelPendingCommit!==null||ar.timeoutHandle!==-1),fr===0?null:(Ep(ar,fr,lr),Fp(ar,ni()),ar.callbackNode!=null&&ar.callbackNode===or?Hp.bind(null,ar):null)}function Gp(ar,lr){if(cc())return null;Ep(ar,lr,!0)}function ny(){py(function(){(gi&6)!==0?ka(yi,ry):Lp()})}function hd(){if(gl===0){var ar=so;ar===0&&(ar=Js,Js<<=1,(Js&261888)===0&&(Js=256)),gl=ar}return gl}function Vp(ar){return ar==null||typeof ar=="symbol"||typeof ar=="boolean"?null:typeof ar=="function"?ar:xu(""+ar)}function Xp(ar,lr){var or=lr.ownerDocument.createElement("input");return or.name=lr.name,or.value=lr.value,ar.id&&or.setAttribute("form",ar.id),lr.parentNode.insertBefore(or,lr),ar=new FormData(ar),or.parentNode.removeChild(or),ar}function ay(ar,lr,or,fr,pr){if(lr==="submit"&&or&&or.stateNode===pr){var xr=Vp((pr[ki]||null).action),Ir=fr.submitter;Ir&&(lr=(lr=Ir[ki]||null)?Vp(lr.formAction):Ir.getAttribute("formAction"),lr!==null&&(xr=lr,Ir=null));var zr=new Eu("action","action",null,fr,pr);ar.push({event:zr,listeners:[{instance:null,listener:function(){if(fr.defaultPrevented){if(gl!==0){var Zr=Ir?Xp(pr,Ir):new FormData(pr);If(or,{pending:!0,data:Zr,method:pr.method,action:xr},null,Zr)}}else typeof xr=="function"&&(zr.preventDefault(),Zr=Ir?Xp(pr,Ir):new FormData(pr),If(or,{pending:!0,data:Zr,method:pr.method,action:xr},xr,Zr))},currentTarget:pr}]})}}for(var md=0;md<Kc.length;md++){var pd=Kc[md],iy=pd.toLowerCase(),sy=pd[0].toUpperCase()+pd.slice(1);Ss(iy,"on"+sy)}Ss(wh,"onAnimationEnd"),Ss(Eh,"onAnimationIteration"),Ss(_h,"onAnimationStart"),Ss("dblclick","onDoubleClick"),Ss("focusin","onFocus"),Ss("focusout","onBlur"),Ss(S0,"onTransitionRun"),Ss(w0,"onTransitionStart"),Ss(E0,"onTransitionCancel"),Ss(Ah,"onTransitionEnd"),Xl("onMouseEnter",["mouseout","mouseover"]),Xl("onMouseLeave",["mouseout","mouseover"]),Xl("onPointerEnter",["pointerout","pointerover"]),Xl("onPointerLeave",["pointerout","pointerover"]),_l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_l("onBeforeInput",["compositionend","keypress","textInput","paste"]),_l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ly=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function Yp(ar,lr){lr=(lr&4)!==0;for(var or=0;or<ar.length;or++){var fr=ar[or],pr=fr.event;fr=fr.listeners;e:{var xr=void 0;if(lr)for(var Ir=fr.length-1;0<=Ir;Ir--){var zr=fr[Ir],Zr=zr.instance,ha=zr.currentTarget;if(zr=zr.listener,Zr!==xr&&pr.isPropagationStopped())break e;xr=zr,pr.currentTarget=ha;try{xr(pr)}catch(_a){Ru(_a)}pr.currentTarget=null,xr=Zr}else for(Ir=0;Ir<fr.length;Ir++){if(zr=fr[Ir],Zr=zr.instance,ha=zr.currentTarget,zr=zr.listener,Zr!==xr&&pr.isPropagationStopped())break e;xr=zr,pr.currentTarget=ha;try{xr(pr)}catch(_a){Ru(_a)}pr.currentTarget=null,xr=Zr}}}}function ui(ar,lr){var or=lr[es];or===void 0&&(or=lr[es]=new Set);var fr=ar+"__bubble";or.has(fr)||(Wp(lr,ar,2,!1),or.add(fr))}function gd(ar,lr,or){var fr=0;lr&&(fr|=4),Wp(or,ar,fr,lr)}var hc="_reactListening"+Math.random().toString(36).slice(2);function yd(ar){if(!ar[hc]){ar[hc]=!0,Ld.forEach(function(or){or!=="selectionchange"&&(ly.has(or)||gd(or,!1,ar),gd(or,!0,ar))});var lr=ar.nodeType===9?ar:ar.ownerDocument;lr===null||lr[hc]||(lr[hc]=!0,gd("selectionchange",!1,lr))}}function Wp(ar,lr,or,fr){switch(wg(lr)){case 2:var pr=qy;break;case 8:pr=Ny;break;default:pr=Bd}or=pr.bind(null,lr,or,ar),pr=void 0,!Nc||lr!=="touchstart"&&lr!=="touchmove"&&lr!=="wheel"||(pr=!0),fr?pr!==void 0?ar.addEventListener(lr,or,{capture:!0,passive:pr}):ar.addEventListener(lr,or,!0):pr!==void 0?ar.addEventListener(lr,or,{passive:pr}):ar.addEventListener(lr,or,!1)}function bd(ar,lr,or,fr,pr){var xr=fr;if((lr&1)===0&&(lr&2)===0&&fr!==null)e:for(;;){if(fr===null)return;var Ir=fr.tag;if(Ir===3||Ir===4){var zr=fr.stateNode.containerInfo;if(zr===pr)break;if(Ir===4)for(Ir=fr.return;Ir!==null;){var Zr=Ir.tag;if((Zr===3||Zr===4)&&Ir.stateNode.containerInfo===pr)return;Ir=Ir.return}for(;zr!==null;){if(Ir=Bs(zr),Ir===null)return;if(Zr=Ir.tag,Zr===5||Zr===6||Zr===26||Zr===27){fr=xr=Ir;continue e}zr=zr.parentNode}}fr=fr.return}Jd(function(){var ha=xr,_a=Oc(or),Ca=[];e:{var ma=Rh.get(ar);if(ma!==void 0){var va=Eu,Ga=ar;switch(ar){case"keypress":if(Su(or)===0)break e;case"keydown":case"keyup":va=e0;break;case"focusin":Ga="focus",va=jc;break;case"focusout":Ga="blur",va=jc;break;case"beforeblur":case"afterblur":va=jc;break;case"click":if(or.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":va=rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":va=Fg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":va=n0;break;case wh:case Eh:case _h:va=Vg;break;case Ah:va=i0;break;case"scroll":case"scrollend":va=jg;break;case"wheel":va=l0;break;case"copy":case"cut":case"paste":va=Yg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":va=ah;break;case"toggle":case"beforetoggle":va=u0}var Qa=(lr&4)!==0,wi=!Qa&&(ar==="scroll"||ar==="scrollend"),la=Qa?ma!==null?ma+"Capture":null:ma;Qa=[];for(var Jr=ha,da;Jr!==null;){var Ra=Jr;if(da=Ra.stateNode,Ra=Ra.tag,Ra!==5&&Ra!==26&&Ra!==27||da===null||la===null||(Ra=ko(Jr,la),Ra!=null&&Qa.push(lu(Jr,Ra,da))),wi)break;Jr=Jr.return}0<Qa.length&&(ma=new va(ma,Ga,null,or,_a),Ca.push({event:ma,listeners:Qa}))}}if((lr&7)===0){e:{if(ma=ar==="mouseover"||ar==="pointerover",va=ar==="mouseout"||ar==="pointerout",ma&&or!==Ic&&(Ga=or.relatedTarget||or.fromElement)&&(Bs(Ga)||Ga[os]))break e;if((va||ma)&&(ma=_a.window===_a?_a:(ma=_a.ownerDocument)?ma.defaultView||ma.parentWindow:window,va?(Ga=or.relatedTarget||or.toElement,va=ha,Ga=Ga?Bs(Ga):null,Ga!==null&&(wi=gr(Ga),Qa=Ga.tag,Ga!==wi||Qa!==5&&Qa!==27&&Qa!==6)&&(Ga=null)):(va=null,Ga=ha),va!==Ga)){if(Qa=rh,Ra="onMouseLeave",la="onMouseEnter",Jr="mouse",(ar==="pointerout"||ar==="pointerover")&&(Qa=ah,Ra="onPointerLeave",la="onPointerEnter",Jr="pointer"),wi=va==null?ma:Ro(va),da=Ga==null?ma:Ro(Ga),ma=new Qa(Ra,Jr+"leave",va,or,_a),ma.target=wi,ma.relatedTarget=da,Ra=null,Bs(_a)===ha&&(Qa=new Qa(la,Jr+"enter",Ga,or,_a),Qa.target=da,Qa.relatedTarget=wi,Ra=Qa),wi=Ra,va&&Ga)t:{for(Qa=oy,la=va,Jr=Ga,da=0,Ra=la;Ra;Ra=Qa(Ra))da++;Ra=0;for(var Za=Jr;Za;Za=Qa(Za))Ra++;for(;0<da-Ra;)la=Qa(la),da--;for(;0<Ra-da;)Jr=Qa(Jr),Ra--;for(;da--;){if(la===Jr||Jr!==null&&la===Jr.alternate){Qa=la;break t}la=Qa(la),Jr=Qa(Jr)}Qa=null}else Qa=null;va!==null&&Kp(Ca,ma,va,Qa,!1),Ga!==null&&wi!==null&&Kp(Ca,wi,Ga,Qa,!0)}}e:{if(ma=ha?Ro(ha):window,va=ma.nodeName&&ma.nodeName.toLowerCase(),va==="select"||va==="input"&&ma.type==="file")var mi=dh;else if(ch(ma))if(hh)mi=v0;else{mi=y0;var Ya=g0}else va=ma.nodeName,!va||va.toLowerCase()!=="input"||ma.type!=="checkbox"&&ma.type!=="radio"?ha&&Bc(ha.elementType)&&(mi=dh):mi=b0;if(mi&&(mi=mi(ar,ha))){fh(Ca,mi,or,_a);break e}Ya&&Ya(ar,ma,ha),ar==="focusout"&&ha&&ma.type==="number"&&ha.memoizedProps.value!=null&&Mc(ma,"number",ma.value)}switch(Ya=ha?Ro(ha):window,ar){case"focusin":(ch(Ya)||Ya.contentEditable==="true")&&(Ql=Ya,Xc=ha,No=null);break;case"focusout":No=Xc=Ql=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,Th(Ca,or,_a);break;case"selectionchange":if(T0)break;case"keydown":case"keyup":Th(Ca,or,_a)}var ai;if(Fc)e:{switch(ar){case"compositionstart":var fi="onCompositionStart";break e;case"compositionend":fi="onCompositionEnd";break e;case"compositionupdate":fi="onCompositionUpdate";break e}fi=void 0}else $l?oh(ar,or)&&(fi="onCompositionEnd"):ar==="keydown"&&or.keyCode===229&&(fi="onCompositionStart");fi&&(ih&&or.locale!=="ko"&&($l||fi!=="onCompositionStart"?fi==="onCompositionEnd"&&$l&&(ai=eh()):(el=_a,Pc="value"in el?el.value:el.textContent,$l=!0)),Ya=mc(ha,fi),0<Ya.length&&(fi=new nh(fi,ar,null,or,_a),Ca.push({event:fi,listeners:Ya}),ai?fi.data=ai:(ai=uh(or),ai!==null&&(fi.data=ai)))),(ai=f0?d0(ar,or):h0(ar,or))&&(fi=mc(ha,"onBeforeInput"),0<fi.length&&(Ya=new nh("onBeforeInput","beforeinput",null,or,_a),Ca.push({event:Ya,listeners:fi}),Ya.data=ai)),ay(Ca,ar,ha,or,_a)}Yp(Ca,lr)})}function lu(ar,lr,or){return{instance:ar,listener:lr,currentTarget:or}}function mc(ar,lr){for(var or=lr+"Capture",fr=[];ar!==null;){var pr=ar,xr=pr.stateNode;if(pr=pr.tag,pr!==5&&pr!==26&&pr!==27||xr===null||(pr=ko(ar,or),pr!=null&&fr.unshift(lu(ar,pr,xr)),pr=ko(ar,lr),pr!=null&&fr.push(lu(ar,pr,xr))),ar.tag===3)return fr;ar=ar.return}return[]}function oy(ar){if(ar===null)return null;do ar=ar.return;while(ar&&ar.tag!==5&&ar.tag!==27);return ar||null}function Kp(ar,lr,or,fr,pr){for(var xr=lr._reactName,Ir=[];or!==null&&or!==fr;){var zr=or,Zr=zr.alternate,ha=zr.stateNode;if(zr=zr.tag,Zr!==null&&Zr===fr)break;zr!==5&&zr!==26&&zr!==27||ha===null||(Zr=ha,pr?(ha=ko(or,xr),ha!=null&&Ir.unshift(lu(or,ha,Zr))):pr||(ha=ko(or,xr),ha!=null&&Ir.push(lu(or,ha,Zr)))),or=or.return}Ir.length!==0&&ar.push({event:lr,listeners:Ir})}var uy=/\r\n?/g,cy=/\u0000|\uFFFD/g;function Zp(ar){return(typeof ar=="string"?ar:""+ar).replace(uy,`
`).replace(cy,"")}function $p(ar,lr){return lr=Zp(lr),Zp(ar)===lr}function Si(ar,lr,or,fr,pr,xr){switch(or){case"children":typeof fr=="string"?lr==="body"||lr==="textarea"&&fr===""||Wl(ar,fr):(typeof fr=="number"||typeof fr=="bigint")&&lr!=="body"&&Wl(ar,""+fr);break;case"className":bu(ar,"class",fr);break;case"tabIndex":bu(ar,"tabindex",fr);break;case"dir":case"role":case"viewBox":case"width":case"height":bu(ar,or,fr);break;case"style":$d(ar,fr,xr);break;case"data":if(lr!=="object"){bu(ar,"data",fr);break}case"src":case"href":if(fr===""&&(lr!=="a"||or!=="href")){ar.removeAttribute(or);break}if(fr==null||typeof fr=="function"||typeof fr=="symbol"||typeof fr=="boolean"){ar.removeAttribute(or);break}fr=xu(""+fr),ar.setAttribute(or,fr);break;case"action":case"formAction":if(typeof fr=="function"){ar.setAttribute(or,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof xr=="function"&&(or==="formAction"?(lr!=="input"&&Si(ar,lr,"name",pr.name,pr,null),Si(ar,lr,"formEncType",pr.formEncType,pr,null),Si(ar,lr,"formMethod",pr.formMethod,pr,null),Si(ar,lr,"formTarget",pr.formTarget,pr,null)):(Si(ar,lr,"encType",pr.encType,pr,null),Si(ar,lr,"method",pr.method,pr,null),Si(ar,lr,"target",pr.target,pr,null)));if(fr==null||typeof fr=="symbol"||typeof fr=="boolean"){ar.removeAttribute(or);break}fr=xu(""+fr),ar.setAttribute(or,fr);break;case"onClick":fr!=null&&(ar.onclick=Os);break;case"onScroll":fr!=null&&ui("scroll",ar);break;case"onScrollEnd":fr!=null&&ui("scrollend",ar);break;case"dangerouslySetInnerHTML":if(fr!=null){if(typeof fr!="object"||!("__html"in fr))throw Error(dr(61));if(or=fr.__html,or!=null){if(pr.children!=null)throw Error(dr(60));ar.innerHTML=or}}break;case"multiple":ar.multiple=fr&&typeof fr!="function"&&typeof fr!="symbol";break;case"muted":ar.muted=fr&&typeof fr!="function"&&typeof fr!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(fr==null||typeof fr=="function"||typeof fr=="boolean"||typeof fr=="symbol"){ar.removeAttribute("xlink:href");break}or=xu(""+fr),ar.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",or);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":fr!=null&&typeof fr!="function"&&typeof fr!="symbol"?ar.setAttribute(or,""+fr):ar.removeAttribute(or);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":fr&&typeof fr!="function"&&typeof fr!="symbol"?ar.setAttribute(or,""):ar.removeAttribute(or);break;case"capture":case"download":fr===!0?ar.setAttribute(or,""):fr!==!1&&fr!=null&&typeof fr!="function"&&typeof fr!="symbol"?ar.setAttribute(or,fr):ar.removeAttribute(or);break;case"cols":case"rows":case"size":case"span":fr!=null&&typeof fr!="function"&&typeof fr!="symbol"&&!isNaN(fr)&&1<=fr?ar.setAttribute(or,fr):ar.removeAttribute(or);break;case"rowSpan":case"start":fr==null||typeof fr=="function"||typeof fr=="symbol"||isNaN(fr)?ar.removeAttribute(or):ar.setAttribute(or,fr);break;case"popover":ui("beforetoggle",ar),ui("toggle",ar),yu(ar,"popover",fr);break;case"xlinkActuate":Is(ar,"http://www.w3.org/1999/xlink","xlink:actuate",fr);break;case"xlinkArcrole":Is(ar,"http://www.w3.org/1999/xlink","xlink:arcrole",fr);break;case"xlinkRole":Is(ar,"http://www.w3.org/1999/xlink","xlink:role",fr);break;case"xlinkShow":Is(ar,"http://www.w3.org/1999/xlink","xlink:show",fr);break;case"xlinkTitle":Is(ar,"http://www.w3.org/1999/xlink","xlink:title",fr);break;case"xlinkType":Is(ar,"http://www.w3.org/1999/xlink","xlink:type",fr);break;case"xmlBase":Is(ar,"http://www.w3.org/XML/1998/namespace","xml:base",fr);break;case"xmlLang":Is(ar,"http://www.w3.org/XML/1998/namespace","xml:lang",fr);break;case"xmlSpace":Is(ar,"http://www.w3.org/XML/1998/namespace","xml:space",fr);break;case"is":yu(ar,"is",fr);break;case"innerText":case"textContent":break;default:(!(2<or.length)||or[0]!=="o"&&or[0]!=="O"||or[1]!=="n"&&or[1]!=="N")&&(or=Ug.get(or)||or,yu(ar,or,fr))}}function vd(ar,lr,or,fr,pr,xr){switch(or){case"style":$d(ar,fr,xr);break;case"dangerouslySetInnerHTML":if(fr!=null){if(typeof fr!="object"||!("__html"in fr))throw Error(dr(61));if(or=fr.__html,or!=null){if(pr.children!=null)throw Error(dr(60));ar.innerHTML=or}}break;case"children":typeof fr=="string"?Wl(ar,fr):(typeof fr=="number"||typeof fr=="bigint")&&Wl(ar,""+fr);break;case"onScroll":fr!=null&&ui("scroll",ar);break;case"onScrollEnd":fr!=null&&ui("scrollend",ar);break;case"onClick":fr!=null&&(ar.onclick=Os);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fd.hasOwnProperty(or))e:{if(or[0]==="o"&&or[1]==="n"&&(pr=or.endsWith("Capture"),lr=or.slice(2,pr?or.length-7:void 0),xr=ar[ki]||null,xr=xr!=null?xr[or]:null,typeof xr=="function"&&ar.removeEventListener(lr,xr,pr),typeof fr=="function")){typeof xr!="function"&&xr!==null&&(or in ar?ar[or]=null:ar.hasAttribute(or)&&ar.removeAttribute(or)),ar.addEventListener(lr,fr,pr);break e}or in ar?ar[or]=fr:fr===!0?ar.setAttribute(or,""):yu(ar,or,fr)}}}function Vi(ar,lr,or){switch(lr){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ui("error",ar),ui("load",ar);var fr=!1,pr=!1,xr;for(xr in or)if(or.hasOwnProperty(xr)){var Ir=or[xr];if(Ir!=null)switch(xr){case"src":fr=!0;break;case"srcSet":pr=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(dr(137,lr));default:Si(ar,lr,xr,Ir,or,null)}}pr&&Si(ar,lr,"srcSet",or.srcSet,or,null),fr&&Si(ar,lr,"src",or.src,or,null);return;case"input":ui("invalid",ar);var zr=xr=Ir=pr=null,Zr=null,ha=null;for(fr in or)if(or.hasOwnProperty(fr)){var _a=or[fr];if(_a!=null)switch(fr){case"name":pr=_a;break;case"type":Ir=_a;break;case"checked":Zr=_a;break;case"defaultChecked":ha=_a;break;case"value":xr=_a;break;case"defaultValue":zr=_a;break;case"children":case"dangerouslySetInnerHTML":if(_a!=null)throw Error(dr(137,lr));break;default:Si(ar,lr,fr,_a,or,null)}}Yd(ar,xr,zr,Zr,ha,Ir,pr,!1);return;case"select":ui("invalid",ar),fr=Ir=xr=null;for(pr in or)if(or.hasOwnProperty(pr)&&(zr=or[pr],zr!=null))switch(pr){case"value":xr=zr;break;case"defaultValue":Ir=zr;break;case"multiple":fr=zr;default:Si(ar,lr,pr,zr,or,null)}lr=xr,or=Ir,ar.multiple=!!fr,lr!=null?Yl(ar,!!fr,lr,!1):or!=null&&Yl(ar,!!fr,or,!0);return;case"textarea":ui("invalid",ar),xr=pr=fr=null;for(Ir in or)if(or.hasOwnProperty(Ir)&&(zr=or[Ir],zr!=null))switch(Ir){case"value":fr=zr;break;case"defaultValue":pr=zr;break;case"children":xr=zr;break;case"dangerouslySetInnerHTML":if(zr!=null)throw Error(dr(91));break;default:Si(ar,lr,Ir,zr,or,null)}Kd(ar,fr,pr,xr);return;case"option":for(Zr in or)if(or.hasOwnProperty(Zr)&&(fr=or[Zr],fr!=null))switch(Zr){case"selected":ar.selected=fr&&typeof fr!="function"&&typeof fr!="symbol";break;default:Si(ar,lr,Zr,fr,or,null)}return;case"dialog":ui("beforetoggle",ar),ui("toggle",ar),ui("cancel",ar),ui("close",ar);break;case"iframe":case"object":ui("load",ar);break;case"video":case"audio":for(fr=0;fr<su.length;fr++)ui(su[fr],ar);break;case"image":ui("error",ar),ui("load",ar);break;case"details":ui("toggle",ar);break;case"embed":case"source":case"link":ui("error",ar),ui("load",ar);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ha in or)if(or.hasOwnProperty(ha)&&(fr=or[ha],fr!=null))switch(ha){case"children":case"dangerouslySetInnerHTML":throw Error(dr(137,lr));default:Si(ar,lr,ha,fr,or,null)}return;default:if(Bc(lr)){for(_a in or)or.hasOwnProperty(_a)&&(fr=or[_a],fr!==void 0&&vd(ar,lr,_a,fr,or,void 0));return}}for(zr in or)or.hasOwnProperty(zr)&&(fr=or[zr],fr!=null&&Si(ar,lr,zr,fr,or,null))}function fy(ar,lr,or,fr){switch(lr){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var pr=null,xr=null,Ir=null,zr=null,Zr=null,ha=null,_a=null;for(va in or){var Ca=or[va];if(or.hasOwnProperty(va)&&Ca!=null)switch(va){case"checked":break;case"value":break;case"defaultValue":Zr=Ca;default:fr.hasOwnProperty(va)||Si(ar,lr,va,null,fr,Ca)}}for(var ma in fr){var va=fr[ma];if(Ca=or[ma],fr.hasOwnProperty(ma)&&(va!=null||Ca!=null))switch(ma){case"type":xr=va;break;case"name":pr=va;break;case"checked":ha=va;break;case"defaultChecked":_a=va;break;case"value":Ir=va;break;case"defaultValue":zr=va;break;case"children":case"dangerouslySetInnerHTML":if(va!=null)throw Error(dr(137,lr));break;default:va!==Ca&&Si(ar,lr,ma,va,fr,Ca)}}Dc(ar,Ir,zr,Zr,ha,_a,xr,pr);return;case"select":va=Ir=zr=ma=null;for(xr in or)if(Zr=or[xr],or.hasOwnProperty(xr)&&Zr!=null)switch(xr){case"value":break;case"multiple":va=Zr;default:fr.hasOwnProperty(xr)||Si(ar,lr,xr,null,fr,Zr)}for(pr in fr)if(xr=fr[pr],Zr=or[pr],fr.hasOwnProperty(pr)&&(xr!=null||Zr!=null))switch(pr){case"value":ma=xr;break;case"defaultValue":zr=xr;break;case"multiple":Ir=xr;default:xr!==Zr&&Si(ar,lr,pr,xr,fr,Zr)}lr=zr,or=Ir,fr=va,ma!=null?Yl(ar,!!or,ma,!1):!!fr!=!!or&&(lr!=null?Yl(ar,!!or,lr,!0):Yl(ar,!!or,or?[]:"",!1));return;case"textarea":va=ma=null;for(zr in or)if(pr=or[zr],or.hasOwnProperty(zr)&&pr!=null&&!fr.hasOwnProperty(zr))switch(zr){case"value":break;case"children":break;default:Si(ar,lr,zr,null,fr,pr)}for(Ir in fr)if(pr=fr[Ir],xr=or[Ir],fr.hasOwnProperty(Ir)&&(pr!=null||xr!=null))switch(Ir){case"value":ma=pr;break;case"defaultValue":va=pr;break;case"children":break;case"dangerouslySetInnerHTML":if(pr!=null)throw Error(dr(91));break;default:pr!==xr&&Si(ar,lr,Ir,pr,fr,xr)}Wd(ar,ma,va);return;case"option":for(var Ga in or)if(ma=or[Ga],or.hasOwnProperty(Ga)&&ma!=null&&!fr.hasOwnProperty(Ga))switch(Ga){case"selected":ar.selected=!1;break;default:Si(ar,lr,Ga,null,fr,ma)}for(Zr in fr)if(ma=fr[Zr],va=or[Zr],fr.hasOwnProperty(Zr)&&ma!==va&&(ma!=null||va!=null))switch(Zr){case"selected":ar.selected=ma&&typeof ma!="function"&&typeof ma!="symbol";break;default:Si(ar,lr,Zr,ma,fr,va)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qa in or)ma=or[Qa],or.hasOwnProperty(Qa)&&ma!=null&&!fr.hasOwnProperty(Qa)&&Si(ar,lr,Qa,null,fr,ma);for(ha in fr)if(ma=fr[ha],va=or[ha],fr.hasOwnProperty(ha)&&ma!==va&&(ma!=null||va!=null))switch(ha){case"children":case"dangerouslySetInnerHTML":if(ma!=null)throw Error(dr(137,lr));break;default:Si(ar,lr,ha,ma,fr,va)}return;default:if(Bc(lr)){for(var wi in or)ma=or[wi],or.hasOwnProperty(wi)&&ma!==void 0&&!fr.hasOwnProperty(wi)&&vd(ar,lr,wi,void 0,fr,ma);for(_a in fr)ma=fr[_a],va=or[_a],!fr.hasOwnProperty(_a)||ma===va||ma===void 0&&va===void 0||vd(ar,lr,_a,ma,fr,va);return}}for(var la in or)ma=or[la],or.hasOwnProperty(la)&&ma!=null&&!fr.hasOwnProperty(la)&&Si(ar,lr,la,null,fr,ma);for(Ca in fr)ma=fr[Ca],va=or[Ca],!fr.hasOwnProperty(Ca)||ma===va||ma==null&&va==null||Si(ar,lr,Ca,ma,fr,va)}function Qp(ar){switch(ar){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dy(){if(typeof performance.getEntriesByType=="function"){for(var ar=0,lr=0,or=performance.getEntriesByType("resource"),fr=0;fr<or.length;fr++){var pr=or[fr],xr=pr.transferSize,Ir=pr.initiatorType,zr=pr.duration;if(xr&&zr&&Qp(Ir)){for(Ir=0,zr=pr.responseEnd,fr+=1;fr<or.length;fr++){var Zr=or[fr],ha=Zr.startTime;if(ha>zr)break;var _a=Zr.transferSize,Ca=Zr.initiatorType;_a&&Qp(Ca)&&(Zr=Zr.responseEnd,Ir+=_a*(Zr<zr?1:(zr-ha)/(Zr-ha)))}if(--fr,lr+=8*(xr+Ir)/(pr.duration/1e3),ar++,10<ar)break}}if(0<ar)return lr/ar/1e6}return navigator.connection&&(ar=navigator.connection.downlink,typeof ar=="number")?ar:5}var xd=null,Td=null;function pc(ar){return ar.nodeType===9?ar:ar.ownerDocument}function Jp(ar){switch(ar){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eg(ar,lr){if(ar===0)switch(lr){case"svg":return 1;case"math":return 2;default:return 0}return ar===1&&lr==="foreignObject"?0:ar}function Sd(ar,lr){return ar==="textarea"||ar==="noscript"||typeof lr.children=="string"||typeof lr.children=="number"||typeof lr.children=="bigint"||typeof lr.dangerouslySetInnerHTML=="object"&&lr.dangerouslySetInnerHTML!==null&&lr.dangerouslySetInnerHTML.__html!=null}var wd=null;function hy(){var ar=window.event;return ar&&ar.type==="popstate"?ar===wd?!1:(wd=ar,!0):(wd=null,!1)}var tg=typeof setTimeout=="function"?setTimeout:void 0,my=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,py=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(ar){return rg.resolve(null).then(ar).catch(gy)}:tg;function gy(ar){setTimeout(function(){throw ar})}function yl(ar){return ar==="head"}function ng(ar,lr){var or=lr,fr=0;do{var pr=or.nextSibling;if(ar.removeChild(or),pr&&pr.nodeType===8)if(or=pr.data,or==="/$"||or==="/&"){if(fr===0){ar.removeChild(pr),Ao(lr);return}fr--}else if(or==="$"||or==="$?"||or==="$~"||or==="$!"||or==="&")fr++;else if(or==="html")ou(ar.ownerDocument.documentElement);else if(or==="head"){or=ar.ownerDocument.head,ou(or);for(var xr=or.firstChild;xr;){var Ir=xr.nextSibling,zr=xr.nodeName;xr[El]||zr==="SCRIPT"||zr==="STYLE"||zr==="LINK"&&xr.rel.toLowerCase()==="stylesheet"||or.removeChild(xr),xr=Ir}}else or==="body"&&ou(ar.ownerDocument.body);or=pr}while(or);Ao(lr)}function ag(ar,lr){var or=ar;ar=0;do{var fr=or.nextSibling;if(or.nodeType===1?lr?(or._stashedDisplay=or.style.display,or.style.display="none"):(or.style.display=or._stashedDisplay||"",or.getAttribute("style")===""&&or.removeAttribute("style")):or.nodeType===3&&(lr?(or._stashedText=or.nodeValue,or.nodeValue=""):or.nodeValue=or._stashedText||""),fr&&fr.nodeType===8)if(or=fr.data,or==="/$"){if(ar===0)break;ar--}else or!=="$"&&or!=="$?"&&or!=="$~"&&or!=="$!"||ar++;or=fr}while(or)}function Ed(ar){var lr=ar.firstChild;for(lr&&lr.nodeType===10&&(lr=lr.nextSibling);lr;){var or=lr;switch(lr=lr.nextSibling,or.nodeName){case"HTML":case"HEAD":case"BODY":Ed(or),Hl(or);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(or.rel.toLowerCase()==="stylesheet")continue}ar.removeChild(or)}}function yy(ar,lr,or,fr){for(;ar.nodeType===1;){var pr=or;if(ar.nodeName.toLowerCase()!==lr.toLowerCase()){if(!fr&&(ar.nodeName!=="INPUT"||ar.type!=="hidden"))break}else if(fr){if(!ar[El])switch(lr){case"meta":if(!ar.hasAttribute("itemprop"))break;return ar;case"link":if(xr=ar.getAttribute("rel"),xr==="stylesheet"&&ar.hasAttribute("data-precedence"))break;if(xr!==pr.rel||ar.getAttribute("href")!==(pr.href==null||pr.href===""?null:pr.href)||ar.getAttribute("crossorigin")!==(pr.crossOrigin==null?null:pr.crossOrigin)||ar.getAttribute("title")!==(pr.title==null?null:pr.title))break;return ar;case"style":if(ar.hasAttribute("data-precedence"))break;return ar;case"script":if(xr=ar.getAttribute("src"),(xr!==(pr.src==null?null:pr.src)||ar.getAttribute("type")!==(pr.type==null?null:pr.type)||ar.getAttribute("crossorigin")!==(pr.crossOrigin==null?null:pr.crossOrigin))&&xr&&ar.hasAttribute("async")&&!ar.hasAttribute("itemprop"))break;return ar;default:return ar}}else if(lr==="input"&&ar.type==="hidden"){var xr=pr.name==null?null:""+pr.name;if(pr.type==="hidden"&&ar.getAttribute("name")===xr)return ar}else return ar;if(ar=bs(ar.nextSibling),ar===null)break}return null}function by(ar,lr,or){if(lr==="")return null;for(;ar.nodeType!==3;)if((ar.nodeType!==1||ar.nodeName!=="INPUT"||ar.type!=="hidden")&&!or||(ar=bs(ar.nextSibling),ar===null))return null;return ar}function ig(ar,lr){for(;ar.nodeType!==8;)if((ar.nodeType!==1||ar.nodeName!=="INPUT"||ar.type!=="hidden")&&!lr||(ar=bs(ar.nextSibling),ar===null))return null;return ar}function _d(ar){return ar.data==="$?"||ar.data==="$~"}function Ad(ar){return ar.data==="$!"||ar.data==="$?"&&ar.ownerDocument.readyState!=="loading"}function vy(ar,lr){var or=ar.ownerDocument;if(ar.data==="$~")ar._reactRetry=lr;else if(ar.data!=="$?"||or.readyState!=="loading")lr();else{var fr=function(){lr(),or.removeEventListener("DOMContentLoaded",fr)};or.addEventListener("DOMContentLoaded",fr),ar._reactRetry=fr}}function bs(ar){for(;ar!=null;ar=ar.nextSibling){var lr=ar.nodeType;if(lr===1||lr===3)break;if(lr===8){if(lr=ar.data,lr==="$"||lr==="$!"||lr==="$?"||lr==="$~"||lr==="&"||lr==="F!"||lr==="F")break;if(lr==="/$"||lr==="/&")return null}}return ar}var Rd=null;function sg(ar){ar=ar.nextSibling;for(var lr=0;ar;){if(ar.nodeType===8){var or=ar.data;if(or==="/$"||or==="/&"){if(lr===0)return bs(ar.nextSibling);lr--}else or!=="$"&&or!=="$!"&&or!=="$?"&&or!=="$~"&&or!=="&"||lr++}ar=ar.nextSibling}return null}function lg(ar){ar=ar.previousSibling;for(var lr=0;ar;){if(ar.nodeType===8){var or=ar.data;if(or==="$"||or==="$!"||or==="$?"||or==="$~"||or==="&"){if(lr===0)return ar;lr--}else or!=="/$"&&or!=="/&"||lr++}ar=ar.previousSibling}return null}function og(ar,lr,or){switch(lr=pc(or),ar){case"html":if(ar=lr.documentElement,!ar)throw Error(dr(452));return ar;case"head":if(ar=lr.head,!ar)throw Error(dr(453));return ar;case"body":if(ar=lr.body,!ar)throw Error(dr(454));return ar;default:throw Error(dr(451))}}function ou(ar){for(var lr=ar.attributes;lr.length;)ar.removeAttributeNode(lr[0]);Hl(ar)}var vs=new Map,ug=new Set;function gc(ar){return typeof ar.getRootNode=="function"?ar.getRootNode():ar.nodeType===9?ar:ar.ownerDocument}var Zs=xa.d;xa.d={f:xy,r:Ty,D:Sy,C:wy,L:Ey,m:_y,X:Ry,S:Ay,M:ky};function xy(){var ar=Zs.f(),lr=lc();return ar||lr}function Ty(ar){var lr=Gl(ar);lr!==null&&lr.tag===5&&lr.type==="form"?Am(lr):Zs.r(ar)}var wo=typeof document>"u"?null:document;function cg(ar,lr,or){var fr=wo;if(fr&&typeof lr=="string"&&lr){var pr=cs(lr);pr='link[rel="'+ar+'"][href="'+pr+'"]',typeof or=="string"&&(pr+='[crossorigin="'+or+'"]'),ug.has(pr)||(ug.add(pr),ar={rel:ar,crossOrigin:or,href:lr},fr.querySelector(pr)===null&&(lr=fr.createElement("link"),Vi(lr,"link",ar),ji(lr),fr.head.appendChild(lr)))}}function Sy(ar){Zs.D(ar),cg("dns-prefetch",ar,null)}function wy(ar,lr){Zs.C(ar,lr),cg("preconnect",ar,lr)}function Ey(ar,lr,or){Zs.L(ar,lr,or);var fr=wo;if(fr&&ar&&lr){var pr='link[rel="preload"][as="'+cs(lr)+'"]';lr==="image"&&or&&or.imageSrcSet?(pr+='[imagesrcset="'+cs(or.imageSrcSet)+'"]',typeof or.imageSizes=="string"&&(pr+='[imagesizes="'+cs(or.imageSizes)+'"]')):pr+='[href="'+cs(ar)+'"]';var xr=pr;switch(lr){case"style":xr=Eo(ar);break;case"script":xr=_o(ar)}vs.has(xr)||(ar=_r({rel:"preload",href:lr==="image"&&or&&or.imageSrcSet?void 0:ar,as:lr},or),vs.set(xr,ar),fr.querySelector(pr)!==null||lr==="style"&&fr.querySelector(uu(xr))||lr==="script"&&fr.querySelector(cu(xr))||(lr=fr.createElement("link"),Vi(lr,"link",ar),ji(lr),fr.head.appendChild(lr)))}}function _y(ar,lr){Zs.m(ar,lr);var or=wo;if(or&&ar){var fr=lr&&typeof lr.as=="string"?lr.as:"script",pr='link[rel="modulepreload"][as="'+cs(fr)+'"][href="'+cs(ar)+'"]',xr=pr;switch(fr){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":xr=_o(ar)}if(!vs.has(xr)&&(ar=_r({rel:"modulepreload",href:ar},lr),vs.set(xr,ar),or.querySelector(pr)===null)){switch(fr){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(or.querySelector(cu(xr)))return}fr=or.createElement("link"),Vi(fr,"link",ar),ji(fr),or.head.appendChild(fr)}}}function Ay(ar,lr,or){Zs.S(ar,lr,or);var fr=wo;if(fr&&ar){var pr=Vl(fr).hoistableStyles,xr=Eo(ar);lr=lr||"default";var Ir=pr.get(xr);if(!Ir){var zr={loading:0,preload:null};if(Ir=fr.querySelector(uu(xr)))zr.loading=5;else{ar=_r({rel:"stylesheet",href:ar,"data-precedence":lr},or),(or=vs.get(xr))&&kd(ar,or);var Zr=Ir=fr.createElement("link");ji(Zr),Vi(Zr,"link",ar),Zr._p=new Promise(function(ha,_a){Zr.onload=ha,Zr.onerror=_a}),Zr.addEventListener("load",function(){zr.loading|=1}),Zr.addEventListener("error",function(){zr.loading|=2}),zr.loading|=4,yc(Ir,lr,fr)}Ir={type:"stylesheet",instance:Ir,count:1,state:zr},pr.set(xr,Ir)}}}function Ry(ar,lr){Zs.X(ar,lr);var or=wo;if(or&&ar){var fr=Vl(or).hoistableScripts,pr=_o(ar),xr=fr.get(pr);xr||(xr=or.querySelector(cu(pr)),xr||(ar=_r({src:ar,async:!0},lr),(lr=vs.get(pr))&&Cd(ar,lr),xr=or.createElement("script"),ji(xr),Vi(xr,"link",ar),or.head.appendChild(xr)),xr={type:"script",instance:xr,count:1,state:null},fr.set(pr,xr))}}function ky(ar,lr){Zs.M(ar,lr);var or=wo;if(or&&ar){var fr=Vl(or).hoistableScripts,pr=_o(ar),xr=fr.get(pr);xr||(xr=or.querySelector(cu(pr)),xr||(ar=_r({src:ar,async:!0,type:"module"},lr),(lr=vs.get(pr))&&Cd(ar,lr),xr=or.createElement("script"),ji(xr),Vi(xr,"link",ar),or.head.appendChild(xr)),xr={type:"script",instance:xr,count:1,state:null},fr.set(pr,xr))}}function fg(ar,lr,or,fr){var pr=(pr=La.current)?gc(pr):null;if(!pr)throw Error(dr(446));switch(ar){case"meta":case"title":return null;case"style":return typeof or.precedence=="string"&&typeof or.href=="string"?(lr=Eo(or.href),or=Vl(pr).hoistableStyles,fr=or.get(lr),fr||(fr={type:"style",instance:null,count:0,state:null},or.set(lr,fr)),fr):{type:"void",instance:null,count:0,state:null};case"link":if(or.rel==="stylesheet"&&typeof or.href=="string"&&typeof or.precedence=="string"){ar=Eo(or.href);var xr=Vl(pr).hoistableStyles,Ir=xr.get(ar);if(Ir||(pr=pr.ownerDocument||pr,Ir={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},xr.set(ar,Ir),(xr=pr.querySelector(uu(ar)))&&!xr._p&&(Ir.instance=xr,Ir.state.loading=5),vs.has(ar)||(or={rel:"preload",as:"style",href:or.href,crossOrigin:or.crossOrigin,integrity:or.integrity,media:or.media,hrefLang:or.hrefLang,referrerPolicy:or.referrerPolicy},vs.set(ar,or),xr||Cy(pr,ar,or,Ir.state))),lr&&fr===null)throw Error(dr(528,""));return Ir}if(lr&&fr!==null)throw Error(dr(529,""));return null;case"script":return lr=or.async,or=or.src,typeof or=="string"&&lr&&typeof lr!="function"&&typeof lr!="symbol"?(lr=_o(or),or=Vl(pr).hoistableScripts,fr=or.get(lr),fr||(fr={type:"script",instance:null,count:0,state:null},or.set(lr,fr)),fr):{type:"void",instance:null,count:0,state:null};default:throw Error(dr(444,ar))}}function Eo(ar){return'href="'+cs(ar)+'"'}function uu(ar){return'link[rel="stylesheet"]['+ar+"]"}function dg(ar){return _r({},ar,{"data-precedence":ar.precedence,precedence:null})}function Cy(ar,lr,or,fr){ar.querySelector('link[rel="preload"][as="style"]['+lr+"]")?fr.loading=1:(lr=ar.createElement("link"),fr.preload=lr,lr.addEventListener("load",function(){return fr.loading|=1}),lr.addEventListener("error",function(){return fr.loading|=2}),Vi(lr,"link",or),ji(lr),ar.head.appendChild(lr))}function _o(ar){return'[src="'+cs(ar)+'"]'}function cu(ar){return"script[async]"+ar}function hg(ar,lr,or){if(lr.count++,lr.instance===null)switch(lr.type){case"style":var fr=ar.querySelector('style[data-href~="'+cs(or.href)+'"]');if(fr)return lr.instance=fr,ji(fr),fr;var pr=_r({},or,{"data-href":or.href,"data-precedence":or.precedence,href:null,precedence:null});return fr=(ar.ownerDocument||ar).createElement("style"),ji(fr),Vi(fr,"style",pr),yc(fr,or.precedence,ar),lr.instance=fr;case"stylesheet":pr=Eo(or.href);var xr=ar.querySelector(uu(pr));if(xr)return lr.state.loading|=4,lr.instance=xr,ji(xr),xr;fr=dg(or),(pr=vs.get(pr))&&kd(fr,pr),xr=(ar.ownerDocument||ar).createElement("link"),ji(xr);var Ir=xr;return Ir._p=new Promise(function(zr,Zr){Ir.onload=zr,Ir.onerror=Zr}),Vi(xr,"link",fr),lr.state.loading|=4,yc(xr,or.precedence,ar),lr.instance=xr;case"script":return xr=_o(or.src),(pr=ar.querySelector(cu(xr)))?(lr.instance=pr,ji(pr),pr):(fr=or,(pr=vs.get(xr))&&(fr=_r({},or),Cd(fr,pr)),ar=ar.ownerDocument||ar,pr=ar.createElement("script"),ji(pr),Vi(pr,"link",fr),ar.head.appendChild(pr),lr.instance=pr);case"void":return null;default:throw Error(dr(443,lr.type))}else lr.type==="stylesheet"&&(lr.state.loading&4)===0&&(fr=lr.instance,lr.state.loading|=4,yc(fr,or.precedence,ar));return lr.instance}function yc(ar,lr,or){for(var fr=or.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),pr=fr.length?fr[fr.length-1]:null,xr=pr,Ir=0;Ir<fr.length;Ir++){var zr=fr[Ir];if(zr.dataset.precedence===lr)xr=zr;else if(xr!==pr)break}xr?xr.parentNode.insertBefore(ar,xr.nextSibling):(lr=or.nodeType===9?or.head:or,lr.insertBefore(ar,lr.firstChild))}function kd(ar,lr){ar.crossOrigin==null&&(ar.crossOrigin=lr.crossOrigin),ar.referrerPolicy==null&&(ar.referrerPolicy=lr.referrerPolicy),ar.title==null&&(ar.title=lr.title)}function Cd(ar,lr){ar.crossOrigin==null&&(ar.crossOrigin=lr.crossOrigin),ar.referrerPolicy==null&&(ar.referrerPolicy=lr.referrerPolicy),ar.integrity==null&&(ar.integrity=lr.integrity)}var bc=null;function mg(ar,lr,or){if(bc===null){var fr=new Map,pr=bc=new Map;pr.set(or,fr)}else pr=bc,fr=pr.get(or),fr||(fr=new Map,pr.set(or,fr));if(fr.has(ar))return fr;for(fr.set(ar,null),or=or.getElementsByTagName(ar),pr=0;pr<or.length;pr++){var xr=or[pr];if(!(xr[El]||xr[Di]||ar==="link"&&xr.getAttribute("rel")==="stylesheet")&&xr.namespaceURI!=="http://www.w3.org/2000/svg"){var Ir=xr.getAttribute(lr)||"";Ir=ar+Ir;var zr=fr.get(Ir);zr?zr.push(xr):fr.set(Ir,[xr])}}return fr}function pg(ar,lr,or){ar=ar.ownerDocument||ar,ar.head.insertBefore(or,lr==="title"?ar.querySelector("head > title"):null)}function Dy(ar,lr,or){if(or===1||lr.itemProp!=null)return!1;switch(ar){case"meta":case"title":return!0;case"style":if(typeof lr.precedence!="string"||typeof lr.href!="string"||lr.href==="")break;return!0;case"link":if(typeof lr.rel!="string"||typeof lr.href!="string"||lr.href===""||lr.onLoad||lr.onError)break;switch(lr.rel){case"stylesheet":return ar=lr.disabled,typeof lr.precedence=="string"&&ar==null;default:return!0}case"script":if(lr.async&&typeof lr.async!="function"&&typeof lr.async!="symbol"&&!lr.onLoad&&!lr.onError&&lr.src&&typeof lr.src=="string")return!0}return!1}function gg(ar){return!(ar.type==="stylesheet"&&(ar.state.loading&3)===0)}function My(ar,lr,or,fr){if(or.type==="stylesheet"&&(typeof fr.media!="string"||matchMedia(fr.media).matches!==!1)&&(or.state.loading&4)===0){if(or.instance===null){var pr=Eo(fr.href),xr=lr.querySelector(uu(pr));if(xr){lr=xr._p,lr!==null&&typeof lr=="object"&&typeof lr.then=="function"&&(ar.count++,ar=vc.bind(ar),lr.then(ar,ar)),or.state.loading|=4,or.instance=xr,ji(xr);return}xr=lr.ownerDocument||lr,fr=dg(fr),(pr=vs.get(pr))&&kd(fr,pr),xr=xr.createElement("link"),ji(xr);var Ir=xr;Ir._p=new Promise(function(zr,Zr){Ir.onload=zr,Ir.onerror=Zr}),Vi(xr,"link",fr),or.instance=xr}ar.stylesheets===null&&(ar.stylesheets=new Map),ar.stylesheets.set(or,lr),(lr=or.state.preload)&&(or.state.loading&3)===0&&(ar.count++,or=vc.bind(ar),lr.addEventListener("load",or),lr.addEventListener("error",or))}}var Dd=0;function By(ar,lr){return ar.stylesheets&&ar.count===0&&Tc(ar,ar.stylesheets),0<ar.count||0<ar.imgCount?function(or){var fr=setTimeout(function(){if(ar.stylesheets&&Tc(ar,ar.stylesheets),ar.unsuspend){var xr=ar.unsuspend;ar.unsuspend=null,xr()}},6e4+lr);0<ar.imgBytes&&Dd===0&&(Dd=62500*dy());var pr=setTimeout(function(){if(ar.waitingForImages=!1,ar.count===0&&(ar.stylesheets&&Tc(ar,ar.stylesheets),ar.unsuspend)){var xr=ar.unsuspend;ar.unsuspend=null,xr()}},(ar.imgBytes>Dd?50:800)+lr);return ar.unsuspend=or,function(){ar.unsuspend=null,clearTimeout(fr),clearTimeout(pr)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var ar=this.unsuspend;this.unsuspend=null,ar()}}}var xc=null;function Tc(ar,lr){ar.stylesheets=null,ar.unsuspend!==null&&(ar.count++,xc=new Map,lr.forEach(Iy,ar),xc=null,vc.call(ar))}function Iy(ar,lr){if(!(lr.state.loading&4)){var or=xc.get(ar);if(or)var fr=or.get(null);else{or=new Map,xc.set(ar,or);for(var pr=ar.querySelectorAll("link[data-precedence],style[data-precedence]"),xr=0;xr<pr.length;xr++){var Ir=pr[xr];(Ir.nodeName==="LINK"||Ir.getAttribute("media")!=="not all")&&(or.set(Ir.dataset.precedence,Ir),fr=Ir)}fr&&or.set(null,fr)}pr=lr.instance,Ir=pr.getAttribute("data-precedence"),xr=or.get(Ir)||fr,xr===fr&&or.set(null,pr),or.set(Ir,pr),this.count++,fr=vc.bind(this),pr.addEventListener("load",fr),pr.addEventListener("error",fr),xr?xr.parentNode.insertBefore(pr,xr.nextSibling):(ar=ar.nodeType===9?ar.head:ar,ar.insertBefore(pr,ar.firstChild)),lr.state.loading|=4}}var fu={$$typeof:qr,Provider:null,Consumer:null,_currentValue:ua,_currentValue2:ua,_threadCount:0};function Oy(ar,lr,or,fr,pr,xr,Ir,zr,Zr){this.tag=1,this.containerInfo=ar,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=fr,this.onUncaughtError=pr,this.onCaughtError=xr,this.onRecoverableError=Ir,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Zr,this.incompleteTransitions=new Map}function yg(ar,lr,or,fr,pr,xr,Ir,zr,Zr,ha,_a,Ca){return ar=new Oy(ar,lr,or,Ir,Zr,ha,_a,Ca,zr),lr=1,xr===!0&&(lr|=24),xr=rs(3,null,null,lr),ar.current=xr,xr.stateNode=ar,lr=uf(),lr.refCount++,ar.pooledCache=lr,lr.refCount++,xr.memoizedState={element:fr,isDehydrated:or,cache:lr},hf(xr),ar}function bg(ar){return ar?(ar=to,ar):to}function vg(ar,lr,or,fr,pr,xr){pr=bg(pr),fr.context===null?fr.context=pr:fr.pendingContext=pr,fr=sl(lr),fr.payload={element:or},xr=xr===void 0?null:xr,xr!==null&&(fr.callback=xr),or=ll(ar,fr,lr),or!==null&&(Ji(or,ar,lr),Ho(or,ar,lr))}function xg(ar,lr){if(ar=ar.memoizedState,ar!==null&&ar.dehydrated!==null){var or=ar.retryLane;ar.retryLane=or!==0&&or<lr?or:lr}}function Md(ar,lr){xg(ar,lr),(ar=ar.alternate)&&xg(ar,lr)}function Tg(ar){if(ar.tag===13||ar.tag===31){var lr=Cl(ar,67108864);lr!==null&&Ji(lr,ar,67108864),Md(ar,67108864)}}function Sg(ar){if(ar.tag===13||ar.tag===31){var lr=ls();lr=ga(lr);var or=Cl(ar,lr);or!==null&&Ji(or,ar,lr),Md(ar,lr)}}var Sc=!0;function qy(ar,lr,or,fr){var pr=$r.T;$r.T=null;var xr=xa.p;try{xa.p=2,Bd(ar,lr,or,fr)}finally{xa.p=xr,$r.T=pr}}function Ny(ar,lr,or,fr){var pr=$r.T;$r.T=null;var xr=xa.p;try{xa.p=8,Bd(ar,lr,or,fr)}finally{xa.p=xr,$r.T=pr}}function Bd(ar,lr,or,fr){if(Sc){var pr=Id(fr);if(pr===null)bd(ar,lr,fr,wc,or),Eg(ar,fr);else if(Uy(pr,ar,lr,or,fr))fr.stopPropagation();else if(Eg(ar,fr),lr&4&&-1<Py.indexOf(ar)){for(;pr!==null;){var xr=Gl(pr);if(xr!==null)switch(xr.tag){case 3:if(xr=xr.stateNode,xr.current.memoizedState.isDehydrated){var Ir=xs(xr.pendingLanes);if(Ir!==0){var zr=xr;for(zr.pendingLanes|=2,zr.entangledLanes|=2;Ir;){var Zr=1<<31-Ja(Ir);zr.entanglements[1]|=Zr,Ir&=~Zr}Cs(xr),(gi&6)===0&&(ic=ni()+500,iu(0))}}break;case 31:case 13:zr=Cl(xr,2),zr!==null&&Ji(zr,xr,2),lc(),Md(xr,2)}if(xr=Id(fr),xr===null&&bd(ar,lr,fr,wc,or),xr===pr)break;pr=xr}pr!==null&&fr.stopPropagation()}else bd(ar,lr,fr,null,or)}}function Id(ar){return ar=Oc(ar),Od(ar)}var wc=null;function Od(ar){if(wc=null,ar=Bs(ar),ar!==null){var lr=gr(ar);if(lr===null)ar=null;else{var or=lr.tag;if(or===13){if(ar=br(lr),ar!==null)return ar;ar=null}else if(or===31){if(ar=yr(lr),ar!==null)return ar;ar=null}else if(or===3){if(lr.stateNode.current.memoizedState.isDehydrated)return lr.tag===3?lr.stateNode.containerInfo:null;ar=null}else lr!==ar&&(ar=null)}}return wc=ar,null}function wg(ar){switch(ar){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ii()){case yi:return 2;case Pr:return 8;case Rr:case Mr:return 32;case Vr:return 268435456;default:return 32}default:return 32}}var qd=!1,bl=null,vl=null,xl=null,du=new Map,hu=new Map,Tl=[],Py="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Eg(ar,lr){switch(ar){case"focusin":case"focusout":bl=null;break;case"dragenter":case"dragleave":vl=null;break;case"mouseover":case"mouseout":xl=null;break;case"pointerover":case"pointerout":du.delete(lr.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(lr.pointerId)}}function mu(ar,lr,or,fr,pr,xr){return ar===null||ar.nativeEvent!==xr?(ar={blockedOn:lr,domEventName:or,eventSystemFlags:fr,nativeEvent:xr,targetContainers:[pr]},lr!==null&&(lr=Gl(lr),lr!==null&&Tg(lr)),ar):(ar.eventSystemFlags|=fr,lr=ar.targetContainers,pr!==null&&lr.indexOf(pr)===-1&&lr.push(pr),ar)}function Uy(ar,lr,or,fr,pr){switch(lr){case"focusin":return bl=mu(bl,ar,lr,or,fr,pr),!0;case"dragenter":return vl=mu(vl,ar,lr,or,fr,pr),!0;case"mouseover":return xl=mu(xl,ar,lr,or,fr,pr),!0;case"pointerover":var xr=pr.pointerId;return du.set(xr,mu(du.get(xr)||null,ar,lr,or,fr,pr)),!0;case"gotpointercapture":return xr=pr.pointerId,hu.set(xr,mu(hu.get(xr)||null,ar,lr,or,fr,pr)),!0}return!1}function _g(ar){var lr=Bs(ar.target);if(lr!==null){var or=gr(lr);if(or!==null){if(lr=or.tag,lr===13){if(lr=br(or),lr!==null){ar.blockedOn=lr,li(ar.priority,function(){Sg(or)});return}}else if(lr===31){if(lr=yr(or),lr!==null){ar.blockedOn=lr,li(ar.priority,function(){Sg(or)});return}}else if(lr===3&&or.stateNode.current.memoizedState.isDehydrated){ar.blockedOn=or.tag===3?or.stateNode.containerInfo:null;return}}}ar.blockedOn=null}function Ec(ar){if(ar.blockedOn!==null)return!1;for(var lr=ar.targetContainers;0<lr.length;){var or=Id(ar.nativeEvent);if(or===null){or=ar.nativeEvent;var fr=new or.constructor(or.type,or);Ic=fr,or.target.dispatchEvent(fr),Ic=null}else return lr=Gl(or),lr!==null&&Tg(lr),ar.blockedOn=or,!1;lr.shift()}return!0}function Ag(ar,lr,or){Ec(ar)&&or.delete(lr)}function zy(){qd=!1,bl!==null&&Ec(bl)&&(bl=null),vl!==null&&Ec(vl)&&(vl=null),xl!==null&&Ec(xl)&&(xl=null),du.forEach(Ag),hu.forEach(Ag)}function _c(ar,lr){ar.blockedOn===lr&&(ar.blockedOn=null,qd||(qd=!0,ur.unstable_scheduleCallback(ur.unstable_NormalPriority,zy)))}var Ac=null;function Rg(ar){Ac!==ar&&(Ac=ar,ur.unstable_scheduleCallback(ur.unstable_NormalPriority,function(){Ac===ar&&(Ac=null);for(var lr=0;lr<ar.length;lr+=3){var or=ar[lr],fr=ar[lr+1],pr=ar[lr+2];if(typeof fr!="function"){if(Od(fr||or)===null)continue;break}var xr=Gl(or);xr!==null&&(ar.splice(lr,3),lr-=3,If(xr,{pending:!0,data:pr,method:or.method,action:fr},fr,pr))}}))}function Ao(ar){function lr(Zr){return _c(Zr,ar)}bl!==null&&_c(bl,ar),vl!==null&&_c(vl,ar),xl!==null&&_c(xl,ar),du.forEach(lr),hu.forEach(lr);for(var or=0;or<Tl.length;or++){var fr=Tl[or];fr.blockedOn===ar&&(fr.blockedOn=null)}for(;0<Tl.length&&(or=Tl[0],or.blockedOn===null);)_g(or),or.blockedOn===null&&Tl.shift();if(or=(ar.ownerDocument||ar).$$reactFormReplay,or!=null)for(fr=0;fr<or.length;fr+=3){var pr=or[fr],xr=or[fr+1],Ir=pr[ki]||null;if(typeof xr=="function")Ir||Rg(or);else if(Ir){var zr=null;if(xr&&xr.hasAttribute("formAction")){if(pr=xr,Ir=xr[ki]||null)zr=Ir.formAction;else if(Od(pr)!==null)continue}else zr=Ir.action;typeof zr=="function"?or[fr+1]=zr:(or.splice(fr,3),fr-=3),Rg(or)}}}function kg(){function ar(xr){xr.canIntercept&&xr.info==="react-transition"&&xr.intercept({handler:function(){return new Promise(function(Ir){return pr=Ir})},focusReset:"manual",scroll:"manual"})}function lr(){pr!==null&&(pr(),pr=null),fr||setTimeout(or,20)}function or(){if(!fr&&!navigation.transition){var xr=navigation.currentEntry;xr&&xr.url!=null&&navigation.navigate(xr.url,{state:xr.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var fr=!1,pr=null;return navigation.addEventListener("navigate",ar),navigation.addEventListener("navigatesuccess",lr),navigation.addEventListener("navigateerror",lr),setTimeout(or,100),function(){fr=!0,navigation.removeEventListener("navigate",ar),navigation.removeEventListener("navigatesuccess",lr),navigation.removeEventListener("navigateerror",lr),pr!==null&&(pr(),pr=null)}}}function Nd(ar){this._internalRoot=ar}Rc.prototype.render=Nd.prototype.render=function(ar){var lr=this._internalRoot;if(lr===null)throw Error(dr(409));var or=lr.current,fr=ls();vg(or,fr,ar,lr,null,null)},Rc.prototype.unmount=Nd.prototype.unmount=function(){var ar=this._internalRoot;if(ar!==null){this._internalRoot=null;var lr=ar.containerInfo;vg(ar.current,2,null,ar,null,null),lc(),lr[os]=null}};function Rc(ar){this._internalRoot=ar}Rc.prototype.unstable_scheduleHydration=function(ar){if(ar){var lr=ti();ar={blockedOn:null,target:ar,priority:lr};for(var or=0;or<Tl.length&&lr!==0&&lr<Tl[or].priority;or++);Tl.splice(or,0,ar),or===0&&_g(ar)}};var Cg=cr.version;if(Cg!=="19.2.4")throw Error(dr(527,Cg,"19.2.4"));xa.findDOMNode=function(ar){var lr=ar._reactInternals;if(lr===void 0)throw typeof ar.render=="function"?Error(dr(188)):(ar=Object.keys(ar).join(","),Error(dr(268,ar)));return ar=vr(lr),ar=ar!==null?Sr(ar):null,ar=ar===null?null:ar.stateNode,ar};var jy={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$r,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{Aa=kc.inject(jy),Wa=kc}catch{}}return reactDomClient_production.createRoot=function(ar,lr){if(!mr(ar))throw Error(dr(299));var or=!1,fr="",pr=Nm,xr=Pm,Ir=Um;return lr!=null&&(lr.unstable_strictMode===!0&&(or=!0),lr.identifierPrefix!==void 0&&(fr=lr.identifierPrefix),lr.onUncaughtError!==void 0&&(pr=lr.onUncaughtError),lr.onCaughtError!==void 0&&(xr=lr.onCaughtError),lr.onRecoverableError!==void 0&&(Ir=lr.onRecoverableError)),lr=yg(ar,1,!1,null,null,or,fr,null,pr,xr,Ir,kg),ar[os]=lr.current,yd(ar),new Nd(lr)},reactDomClient_production.hydrateRoot=function(ar,lr,or){if(!mr(ar))throw Error(dr(299));var fr=!1,pr="",xr=Nm,Ir=Pm,zr=Um,Zr=null;return or!=null&&(or.unstable_strictMode===!0&&(fr=!0),or.identifierPrefix!==void 0&&(pr=or.identifierPrefix),or.onUncaughtError!==void 0&&(xr=or.onUncaughtError),or.onCaughtError!==void 0&&(Ir=or.onCaughtError),or.onRecoverableError!==void 0&&(zr=or.onRecoverableError),or.formState!==void 0&&(Zr=or.formState)),lr=yg(ar,1,!0,lr,or??null,fr,pr,Zr,xr,Ir,zr,kg),lr.context=bg(null),or=lr.current,fr=ls(),fr=ga(fr),pr=sl(fr),pr.callback=null,ll(or,pr,fr),or=fr,lr.current.lanes=or,Sa(lr,or),Cs(lr),ar[os]=lr.current,yd(ar),new Rc(lr)},reactDomClient_production.version="19.2.4",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function ur(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ur)}catch(cr){console.error(cr)}}return ur(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);var lib$3={},browser$3={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var ur=1e3,cr=ur*60,hr=cr*60,dr=hr*24,mr=dr*7,gr=dr*365.25;ms=function(Sr,_r){_r=_r||{};var wr=typeof Sr;if(wr==="string"&&Sr.length>0)return br(Sr);if(wr==="number"&&isFinite(Sr))return _r.long?Tr(Sr):yr(Sr);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(Sr))};function br(Sr){if(Sr=String(Sr),!(Sr.length>100)){var _r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(Sr);if(_r){var wr=parseFloat(_r[1]),Er=(_r[2]||"ms").toLowerCase();switch(Er){case"years":case"year":case"yrs":case"yr":case"y":return wr*gr;case"weeks":case"week":case"w":return wr*mr;case"days":case"day":case"d":return wr*dr;case"hours":case"hour":case"hrs":case"hr":case"h":return wr*hr;case"minutes":case"minute":case"mins":case"min":case"m":return wr*cr;case"seconds":case"second":case"secs":case"sec":case"s":return wr*ur;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return wr;default:return}}}}function yr(Sr){var _r=Math.abs(Sr);return _r>=dr?Math.round(Sr/dr)+"d":_r>=hr?Math.round(Sr/hr)+"h":_r>=cr?Math.round(Sr/cr)+"m":_r>=ur?Math.round(Sr/ur)+"s":Sr+"ms"}function Tr(Sr){var _r=Math.abs(Sr);return _r>=dr?vr(Sr,_r,dr,"day"):_r>=hr?vr(Sr,_r,hr,"hour"):_r>=cr?vr(Sr,_r,cr,"minute"):_r>=ur?vr(Sr,_r,ur,"second"):Sr+" ms"}function vr(Sr,_r,wr,Er){var Ar=_r>=wr*1.5;return Math.round(Sr/wr)+" "+Er+(Ar?"s":"")}return ms}var common,hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;function ur(cr){dr.debug=dr,dr.default=dr,dr.coerce=vr,dr.disable=yr,dr.enable=gr,dr.enabled=Tr,dr.humanize=requireMs(),dr.destroy=Sr,Object.keys(cr).forEach(_r=>{dr[_r]=cr[_r]}),dr.names=[],dr.skips=[],dr.formatters={};function hr(_r){let wr=0;for(let Er=0;Er<_r.length;Er++)wr=(wr<<5)-wr+_r.charCodeAt(Er),wr|=0;return dr.colors[Math.abs(wr)%dr.colors.length]}dr.selectColor=hr;function dr(_r){let wr,Er=null,Ar,kr;function Dr(...Cr){if(!Dr.enabled)return;const Or=Dr,qr=Number(new Date),Hr=qr-(wr||qr);Or.diff=Hr,Or.prev=wr,Or.curr=qr,wr=qr,Cr[0]=dr.coerce(Cr[0]),typeof Cr[0]!="string"&&Cr.unshift("%O");let Lr=0;Cr[0]=Cr[0].replace(/%([a-zA-Z%])/g,(Br,Ur)=>{if(Br==="%%")return"%";Lr++;const Kr=dr.formatters[Ur];if(typeof Kr=="function"){const Yr=Cr[Lr];Br=Kr.call(Or,Yr),Cr.splice(Lr,1),Lr--}return Br}),dr.formatArgs.call(Or,Cr),(Or.log||dr.log).apply(Or,Cr)}return Dr.namespace=_r,Dr.useColors=dr.useColors(),Dr.color=dr.selectColor(_r),Dr.extend=mr,Dr.destroy=dr.destroy,Object.defineProperty(Dr,"enabled",{enumerable:!0,configurable:!1,get:()=>Er!==null?Er:(Ar!==dr.namespaces&&(Ar=dr.namespaces,kr=dr.enabled(_r)),kr),set:Cr=>{Er=Cr}}),typeof dr.init=="function"&&dr.init(Dr),Dr}function mr(_r,wr){const Er=dr(this.namespace+(typeof wr>"u"?":":wr)+_r);return Er.log=this.log,Er}function gr(_r){dr.save(_r),dr.namespaces=_r,dr.names=[],dr.skips=[];const wr=(typeof _r=="string"?_r:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const Er of wr)Er[0]==="-"?dr.skips.push(Er.slice(1)):dr.names.push(Er)}function br(_r,wr){let Er=0,Ar=0,kr=-1,Dr=0;for(;Er<_r.length;)if(Ar<wr.length&&(wr[Ar]===_r[Er]||wr[Ar]==="*"))wr[Ar]==="*"?(kr=Ar,Dr=Er,Ar++):(Er++,Ar++);else if(kr!==-1)Ar=kr+1,Dr++,Er=Dr;else return!1;for(;Ar<wr.length&&wr[Ar]==="*";)Ar++;return Ar===wr.length}function yr(){const _r=[...dr.names,...dr.skips.map(wr=>"-"+wr)].join(",");return dr.enable(""),_r}function Tr(_r){for(const wr of dr.skips)if(br(_r,wr))return!1;for(const wr of dr.names)if(br(_r,wr))return!0;return!1}function vr(_r){return _r instanceof Error?_r.stack||_r.message:_r}function Sr(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return dr.enable(dr.load()),dr}return common=ur,common}var hasRequiredBrowser$3;function requireBrowser$3(){return hasRequiredBrowser$3||(hasRequiredBrowser$3=1,(function(ur,cr){var hr={};cr.formatArgs=mr,cr.save=gr,cr.load=br,cr.useColors=dr,cr.storage=yr(),cr.destroy=(()=>{let vr=!1;return()=>{vr||(vr=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),cr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function dr(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let vr;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(vr=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(vr[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function mr(vr){if(vr[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+vr[0]+(this.useColors?"%c ":" ")+"+"+ur.exports.humanize(this.diff),!this.useColors)return;const Sr="color: "+this.color;vr.splice(1,0,Sr,"color: inherit");let _r=0,wr=0;vr[0].replace(/%[a-zA-Z%]/g,Er=>{Er!=="%%"&&(_r++,Er==="%c"&&(wr=_r))}),vr.splice(wr,0,Sr)}cr.log=console.debug||console.log||(()=>{});function gr(vr){try{vr?cr.storage.setItem("debug",vr):cr.storage.removeItem("debug")}catch{}}function br(){let vr;try{vr=cr.storage.getItem("debug")||cr.storage.getItem("DEBUG")}catch{}return!vr&&typeof process<"u"&&"env"in process&&(vr=hr.DEBUG),vr}function yr(){try{return localStorage}catch{}}ur.exports=requireCommon()(cr);const{formatters:Tr}=ur.exports;Tr.j=function(vr){try{return JSON.stringify(vr)}catch(Sr){return"[UnexpectedJSONParseError]: "+Sr.message}}})(browser$3,browser$3.exports)),browser$3.exports}var core$2={},core$1={},ReadStreamTokenizer={},AbstractTokenizer={},lib$2={},EndOfFileStream={},hasRequiredEndOfFileStream;function requireEndOfFileStream(){return hasRequiredEndOfFileStream||(hasRequiredEndOfFileStream=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.EndOfStreamError=ur.defaultMessages=void 0,ur.defaultMessages="End-Of-Stream";class cr extends Error{constructor(){super(ur.defaultMessages)}}ur.EndOfStreamError=cr})(EndOfFileStream)),EndOfFileStream}var StreamReader={},Deferred={},hasRequiredDeferred;function requireDeferred(){if(hasRequiredDeferred)return Deferred;hasRequiredDeferred=1,Object.defineProperty(Deferred,"__esModule",{value:!0}),Deferred.Deferred=void 0;let ur=class{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((hr,dr)=>{this.reject=dr,this.resolve=hr})}};return Deferred.Deferred=ur,Deferred}var hasRequiredStreamReader;function requireStreamReader(){return hasRequiredStreamReader||(hasRequiredStreamReader=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.StreamReader=ur.EndOfStreamError=void 0;const cr=requireEndOfFileStream(),hr=requireDeferred();var dr=requireEndOfFileStream();Object.defineProperty(ur,"EndOfStreamError",{enumerable:!0,get:function(){return dr.EndOfStreamError}});const mr=1*1024*1024;class gr{constructor(yr){if(this.s=yr,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!yr.read||!yr.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new cr.EndOfStreamError)),this.s.once("error",Tr=>this.reject(Tr)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(yr,Tr,vr){const Sr=await this.read(yr,Tr,vr);return this.peekQueue.push(yr.subarray(Tr,Tr+Sr)),Sr}async read(yr,Tr,vr){if(vr===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new cr.EndOfStreamError;let Sr=vr,_r=0;for(;this.peekQueue.length>0&&Sr>0;){const wr=this.peekQueue.pop();if(!wr)throw new Error("peekData should be defined");const Er=Math.min(wr.length,Sr);yr.set(wr.subarray(0,Er),Tr+_r),_r+=Er,Sr-=Er,Er<wr.length&&this.peekQueue.push(wr.subarray(Er))}for(;Sr>0&&!this.endOfStream;){const wr=Math.min(Sr,mr),Er=await this.readFromStream(yr,Tr+_r,wr);if(_r+=Er,Er<wr)break;Sr-=Er}return _r}async readFromStream(yr,Tr,vr){const Sr=this.s.read(vr);if(Sr)return yr.set(Sr,Tr),Sr.length;{const _r={buffer:yr,offset:Tr,length:vr,deferred:new hr.Deferred};return this.deferred=_r.deferred,this.s.once("readable",()=>{this.readDeferred(_r)}),_r.deferred.promise}}readDeferred(yr){const Tr=this.s.read(yr.length);Tr?(yr.buffer.set(Tr,yr.offset),yr.deferred.resolve(Tr.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(yr)})}reject(yr){this.endOfStream=!0,this.deferred&&(this.deferred.reject(yr),this.deferred=null)}}ur.StreamReader=gr})(StreamReader)),StreamReader}var hasRequiredLib$3;function requireLib$3(){return hasRequiredLib$3||(hasRequiredLib$3=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.StreamReader=ur.EndOfStreamError=void 0;var cr=requireEndOfFileStream();Object.defineProperty(ur,"EndOfStreamError",{enumerable:!0,get:function(){return cr.EndOfStreamError}});var hr=requireStreamReader();Object.defineProperty(ur,"StreamReader",{enumerable:!0,get:function(){return hr.StreamReader}})})(lib$2)),lib$2}var hasRequiredAbstractTokenizer;function requireAbstractTokenizer(){if(hasRequiredAbstractTokenizer)return AbstractTokenizer;hasRequiredAbstractTokenizer=1,Object.defineProperty(AbstractTokenizer,"__esModule",{value:!0}),AbstractTokenizer.AbstractTokenizer=void 0;const ur=requireLib$3();let cr=class{constructor(dr){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=dr||{}}async readToken(dr,mr=this.position){const gr=Buffer.alloc(dr.len);if(await this.readBuffer(gr,{position:mr})<dr.len)throw new ur.EndOfStreamError;return dr.get(gr,0)}async peekToken(dr,mr=this.position){const gr=Buffer.alloc(dr.len);if(await this.peekBuffer(gr,{position:mr})<dr.len)throw new ur.EndOfStreamError;return dr.get(gr,0)}async readNumber(dr){if(await this.readBuffer(this.numBuffer,{length:dr.len})<dr.len)throw new ur.EndOfStreamError;return dr.get(this.numBuffer,0)}async peekNumber(dr){if(await this.peekBuffer(this.numBuffer,{length:dr.len})<dr.len)throw new ur.EndOfStreamError;return dr.get(this.numBuffer,0)}async ignore(dr){if(this.fileInfo.size!==void 0){const mr=this.fileInfo.size-this.position;if(dr>mr)return this.position+=mr,mr}return this.position+=dr,dr}async close(){}normalizeOptions(dr,mr){if(mr&&mr.position!==void 0&&mr.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return mr?{mayBeLess:mr.mayBeLess===!0,offset:mr.offset?mr.offset:0,length:mr.length?mr.length:dr.length-(mr.offset?mr.offset:0),position:mr.position?mr.position:this.position}:{mayBeLess:!1,offset:0,length:dr.length,position:this.position}}};return AbstractTokenizer.AbstractTokenizer=cr,AbstractTokenizer}var hasRequiredReadStreamTokenizer;function requireReadStreamTokenizer(){if(hasRequiredReadStreamTokenizer)return ReadStreamTokenizer;hasRequiredReadStreamTokenizer=1,Object.defineProperty(ReadStreamTokenizer,"__esModule",{value:!0}),ReadStreamTokenizer.ReadStreamTokenizer=void 0;const ur=requireAbstractTokenizer(),cr=requireLib$3(),hr=256e3;let dr=class extends ur.AbstractTokenizer{constructor(gr,br){super(br),this.streamReader=new cr.StreamReader(gr)}async getFileInfo(){return this.fileInfo}async readBuffer(gr,br){const yr=this.normalizeOptions(gr,br),Tr=yr.position-this.position;if(Tr>0)return await this.ignore(Tr),this.readBuffer(gr,br);if(Tr<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(yr.length===0)return 0;const vr=await this.streamReader.read(gr,yr.offset,yr.length);if(this.position+=vr,(!br||!br.mayBeLess)&&vr<yr.length)throw new cr.EndOfStreamError;return vr}async peekBuffer(gr,br){const yr=this.normalizeOptions(gr,br);let Tr=0;if(yr.position){const vr=yr.position-this.position;if(vr>0){const Sr=new Uint8Array(yr.length+vr);return Tr=await this.peekBuffer(Sr,{mayBeLess:yr.mayBeLess}),gr.set(Sr.subarray(vr),yr.offset),Tr-vr}else if(vr<0)throw new Error("Cannot peek from a negative offset in a stream")}if(yr.length>0){try{Tr=await this.streamReader.peek(gr,yr.offset,yr.length)}catch(vr){if(br&&br.mayBeLess&&vr instanceof cr.EndOfStreamError)return 0;throw vr}if(!yr.mayBeLess&&Tr<yr.length)throw new cr.EndOfStreamError}return Tr}async ignore(gr){const br=Math.min(hr,gr),yr=new Uint8Array(br);let Tr=0;for(;Tr<gr;){const vr=gr-Tr,Sr=await this.readBuffer(yr,{length:Math.min(br,vr)});if(Sr<0)return Sr;Tr+=Sr}return Tr}};return ReadStreamTokenizer.ReadStreamTokenizer=dr,ReadStreamTokenizer}var BufferTokenizer={},hasRequiredBufferTokenizer;function requireBufferTokenizer(){if(hasRequiredBufferTokenizer)return BufferTokenizer;hasRequiredBufferTokenizer=1,Object.defineProperty(BufferTokenizer,"__esModule",{value:!0}),BufferTokenizer.BufferTokenizer=void 0;const ur=requireLib$3(),cr=requireAbstractTokenizer();let hr=class extends cr.AbstractTokenizer{constructor(mr,gr){super(gr),this.uint8Array=mr,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:mr.length}async readBuffer(mr,gr){if(gr&&gr.position){if(gr.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=gr.position}const br=await this.peekBuffer(mr,gr);return this.position+=br,br}async peekBuffer(mr,gr){const br=this.normalizeOptions(mr,gr),yr=Math.min(this.uint8Array.length-br.position,br.length);if(!br.mayBeLess&&yr<br.length)throw new ur.EndOfStreamError;return mr.set(this.uint8Array.subarray(br.position,br.position+yr),br.offset),yr}async close(){}};return BufferTokenizer.BufferTokenizer=hr,BufferTokenizer}var hasRequiredCore$2;function requireCore$2(){return hasRequiredCore$2||(hasRequiredCore$2=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.fromBuffer=ur.fromStream=ur.EndOfStreamError=void 0;const cr=requireReadStreamTokenizer(),hr=requireBufferTokenizer();var dr=requireLib$3();Object.defineProperty(ur,"EndOfStreamError",{enumerable:!0,get:function(){return dr.EndOfStreamError}});function mr(br,yr){return yr=yr||{},new cr.ReadStreamTokenizer(br,yr)}ur.fromStream=mr;function gr(br,yr){return new hr.BufferTokenizer(br,yr)}ur.fromBuffer=gr})(core$1)),core$1}var ParserFactory={},lib$1={},ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredIeee754;function requireIeee754(){return hasRequiredIeee754||(hasRequiredIeee754=1,ieee754.read=function(ur,cr,hr,dr,mr){var gr,br,yr=mr*8-dr-1,Tr=(1<<yr)-1,vr=Tr>>1,Sr=-7,_r=hr?mr-1:0,wr=hr?-1:1,Er=ur[cr+_r];for(_r+=wr,gr=Er&(1<<-Sr)-1,Er>>=-Sr,Sr+=yr;Sr>0;gr=gr*256+ur[cr+_r],_r+=wr,Sr-=8);for(br=gr&(1<<-Sr)-1,gr>>=-Sr,Sr+=dr;Sr>0;br=br*256+ur[cr+_r],_r+=wr,Sr-=8);if(gr===0)gr=1-vr;else{if(gr===Tr)return br?NaN:(Er?-1:1)*(1/0);br=br+Math.pow(2,dr),gr=gr-vr}return(Er?-1:1)*br*Math.pow(2,gr-dr)},ieee754.write=function(ur,cr,hr,dr,mr,gr){var br,yr,Tr,vr=gr*8-mr-1,Sr=(1<<vr)-1,_r=Sr>>1,wr=mr===23?Math.pow(2,-24)-Math.pow(2,-77):0,Er=dr?0:gr-1,Ar=dr?1:-1,kr=cr<0||cr===0&&1/cr<0?1:0;for(cr=Math.abs(cr),isNaN(cr)||cr===1/0?(yr=isNaN(cr)?1:0,br=Sr):(br=Math.floor(Math.log(cr)/Math.LN2),cr*(Tr=Math.pow(2,-br))<1&&(br--,Tr*=2),br+_r>=1?cr+=wr/Tr:cr+=wr*Math.pow(2,1-_r),cr*Tr>=2&&(br++,Tr/=2),br+_r>=Sr?(yr=0,br=Sr):br+_r>=1?(yr=(cr*Tr-1)*Math.pow(2,mr),br=br+_r):(yr=cr*Math.pow(2,_r-1)*Math.pow(2,mr),br=0));mr>=8;ur[hr+Er]=yr&255,Er+=Ar,yr/=256,mr-=8);for(br=br<<mr|yr,vr+=mr;vr>0;ur[hr+Er]=br&255,Er+=Ar,br/=256,vr-=8);ur[hr+Er-Ar]|=kr*128}),ieee754}var hasRequiredLib$2;function requireLib$2(){return hasRequiredLib$2||(hasRequiredLib$2=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.AnsiStringType=ur.StringType=ur.BufferType=ur.Uint8ArrayType=ur.IgnoreType=ur.Float80_LE=ur.Float80_BE=ur.Float64_LE=ur.Float64_BE=ur.Float32_LE=ur.Float32_BE=ur.Float16_LE=ur.Float16_BE=ur.INT64_BE=ur.UINT64_BE=ur.INT64_LE=ur.UINT64_LE=ur.INT32_LE=ur.INT32_BE=ur.INT24_BE=ur.INT24_LE=ur.INT16_LE=ur.INT16_BE=ur.INT8=ur.UINT32_BE=ur.UINT32_LE=ur.UINT24_BE=ur.UINT24_LE=ur.UINT16_BE=ur.UINT16_LE=ur.UINT8=void 0;const cr=requireIeee754();function hr(Tr){return new DataView(Tr.buffer,Tr.byteOffset)}ur.UINT8={len:1,get(Tr,vr){return hr(Tr).getUint8(vr)},put(Tr,vr,Sr){return hr(Tr).setUint8(vr,Sr),vr+1}},ur.UINT16_LE={len:2,get(Tr,vr){return hr(Tr).getUint16(vr,!0)},put(Tr,vr,Sr){return hr(Tr).setUint16(vr,Sr,!0),vr+2}},ur.UINT16_BE={len:2,get(Tr,vr){return hr(Tr).getUint16(vr)},put(Tr,vr,Sr){return hr(Tr).setUint16(vr,Sr),vr+2}},ur.UINT24_LE={len:3,get(Tr,vr){const Sr=hr(Tr);return Sr.getUint8(vr)+(Sr.getUint16(vr+1,!0)<<8)},put(Tr,vr,Sr){const _r=hr(Tr);return _r.setUint8(vr,Sr&255),_r.setUint16(vr+1,Sr>>8,!0),vr+3}},ur.UINT24_BE={len:3,get(Tr,vr){const Sr=hr(Tr);return(Sr.getUint16(vr)<<8)+Sr.getUint8(vr+2)},put(Tr,vr,Sr){const _r=hr(Tr);return _r.setUint16(vr,Sr>>8),_r.setUint8(vr+2,Sr&255),vr+3}},ur.UINT32_LE={len:4,get(Tr,vr){return hr(Tr).getUint32(vr,!0)},put(Tr,vr,Sr){return hr(Tr).setUint32(vr,Sr,!0),vr+4}},ur.UINT32_BE={len:4,get(Tr,vr){return hr(Tr).getUint32(vr)},put(Tr,vr,Sr){return hr(Tr).setUint32(vr,Sr),vr+4}},ur.INT8={len:1,get(Tr,vr){return hr(Tr).getInt8(vr)},put(Tr,vr,Sr){return hr(Tr).setInt8(vr,Sr),vr+1}},ur.INT16_BE={len:2,get(Tr,vr){return hr(Tr).getInt16(vr)},put(Tr,vr,Sr){return hr(Tr).setInt16(vr,Sr),vr+2}},ur.INT16_LE={len:2,get(Tr,vr){return hr(Tr).getInt16(vr,!0)},put(Tr,vr,Sr){return hr(Tr).setInt16(vr,Sr,!0),vr+2}},ur.INT24_LE={len:3,get(Tr,vr){const Sr=ur.UINT24_LE.get(Tr,vr);return Sr>8388607?Sr-16777216:Sr},put(Tr,vr,Sr){const _r=hr(Tr);return _r.setUint8(vr,Sr&255),_r.setUint16(vr+1,Sr>>8,!0),vr+3}},ur.INT24_BE={len:3,get(Tr,vr){const Sr=ur.UINT24_BE.get(Tr,vr);return Sr>8388607?Sr-16777216:Sr},put(Tr,vr,Sr){const _r=hr(Tr);return _r.setUint16(vr,Sr>>8),_r.setUint8(vr+2,Sr&255),vr+3}},ur.INT32_BE={len:4,get(Tr,vr){return hr(Tr).getInt32(vr)},put(Tr,vr,Sr){return hr(Tr).setInt32(vr,Sr),vr+4}},ur.INT32_LE={len:4,get(Tr,vr){return hr(Tr).getInt32(vr,!0)},put(Tr,vr,Sr){return hr(Tr).setInt32(vr,Sr,!0),vr+4}},ur.UINT64_LE={len:8,get(Tr,vr){return hr(Tr).getBigUint64(vr,!0)},put(Tr,vr,Sr){return hr(Tr).setBigUint64(vr,Sr,!0),vr+8}},ur.INT64_LE={len:8,get(Tr,vr){return hr(Tr).getBigInt64(vr,!0)},put(Tr,vr,Sr){return hr(Tr).setBigInt64(vr,Sr,!0),vr+8}},ur.UINT64_BE={len:8,get(Tr,vr){return hr(Tr).getBigUint64(vr)},put(Tr,vr,Sr){return hr(Tr).setBigUint64(vr,Sr),vr+8}},ur.INT64_BE={len:8,get(Tr,vr){return hr(Tr).getBigInt64(vr)},put(Tr,vr,Sr){return hr(Tr).setBigInt64(vr,Sr),vr+8}},ur.Float16_BE={len:2,get(Tr,vr){return cr.read(Tr,vr,!1,10,this.len)},put(Tr,vr,Sr){return cr.write(Tr,Sr,vr,!1,10,this.len),vr+this.len}},ur.Float16_LE={len:2,get(Tr,vr){return cr.read(Tr,vr,!0,10,this.len)},put(Tr,vr,Sr){return cr.write(Tr,Sr,vr,!0,10,this.len),vr+this.len}},ur.Float32_BE={len:4,get(Tr,vr){return hr(Tr).getFloat32(vr)},put(Tr,vr,Sr){return hr(Tr).setFloat32(vr,Sr),vr+4}},ur.Float32_LE={len:4,get(Tr,vr){return hr(Tr).getFloat32(vr,!0)},put(Tr,vr,Sr){return hr(Tr).setFloat32(vr,Sr,!0),vr+4}},ur.Float64_BE={len:8,get(Tr,vr){return hr(Tr).getFloat64(vr)},put(Tr,vr,Sr){return hr(Tr).setFloat64(vr,Sr),vr+8}},ur.Float64_LE={len:8,get(Tr,vr){return hr(Tr).getFloat64(vr,!0)},put(Tr,vr,Sr){return hr(Tr).setFloat64(vr,Sr,!0),vr+8}},ur.Float80_BE={len:10,get(Tr,vr){return cr.read(Tr,vr,!1,63,this.len)},put(Tr,vr,Sr){return cr.write(Tr,Sr,vr,!1,63,this.len),vr+this.len}},ur.Float80_LE={len:10,get(Tr,vr){return cr.read(Tr,vr,!0,63,this.len)},put(Tr,vr,Sr){return cr.write(Tr,Sr,vr,!0,63,this.len),vr+this.len}};class dr{constructor(vr){this.len=vr}get(vr,Sr){}}ur.IgnoreType=dr;class mr{constructor(vr){this.len=vr}get(vr,Sr){return vr.subarray(Sr,Sr+this.len)}}ur.Uint8ArrayType=mr;class gr{constructor(vr){this.len=vr}get(vr,Sr){return Buffer.from(vr.subarray(Sr,Sr+this.len))}}ur.BufferType=gr;class br{constructor(vr,Sr){this.len=vr,this.encoding=Sr}get(vr,Sr){return Buffer.from(vr).toString(this.encoding,Sr,Sr+this.len)}}ur.StringType=br;class yr{constructor(vr){this.len=vr}static decode(vr,Sr,_r){let wr="";for(let Er=Sr;Er<_r;++Er)wr+=yr.codePointToString(yr.singleByteDecoder(vr[Er]));return wr}static inRange(vr,Sr,_r){return Sr<=vr&&vr<=_r}static codePointToString(vr){return vr<=65535?String.fromCharCode(vr):(vr-=65536,String.fromCharCode((vr>>10)+55296,(vr&1023)+56320))}static singleByteDecoder(vr){if(yr.inRange(vr,0,127))return vr;const Sr=yr.windows1252[vr-128];if(Sr===null)throw Error("invaliding encoding");return Sr}get(vr,Sr=0){return yr.decode(vr,Sr,Sr+this.len)}}ur.AnsiStringType=yr,yr.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]})(lib$1)),lib$1}var util$1={},hasRequiredUtil$2;function requireUtil$2(){return hasRequiredUtil$2||(hasRequiredUtil$2=1,util$1.stringToBytes=ur=>[...ur].map(cr=>cr.charCodeAt(0)),util$1.tarHeaderChecksumMatches=(ur,cr=0)=>{const hr=parseInt(ur.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(hr))return!1;let dr=256;for(let mr=cr;mr<cr+148;mr++)dr+=ur[mr];for(let mr=cr+156;mr<cr+512;mr++)dr+=ur[mr];return hr===dr},util$1.uint32SyncSafeToken={get:(ur,cr)=>ur[cr+3]&127|ur[cr+2]<<7|ur[cr+1]<<14|ur[cr]<<21,len:4}),util$1}var supported,hasRequiredSupported;function requireSupported(){return hasRequiredSupported||(hasRequiredSupported=1,supported={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}),supported}var core,hasRequiredCore$1;function requireCore$1(){if(hasRequiredCore$1)return core;hasRequiredCore$1=1;const Token=requireLib$2(),strtok3=requireCore$2(),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=requireUtil$2(),supported=requireSupported(),minimumBytes=4100;async function fromStream(ur){const cr=await strtok3.fromStream(ur);try{return await fromTokenizer(cr)}finally{await cr.close()}}async function fromBuffer(ur){if(!(ur instanceof Uint8Array||ur instanceof ArrayBuffer||Buffer.isBuffer(ur)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof ur}\``);const cr=ur instanceof Buffer?ur:Buffer.from(ur);if(!(cr&&cr.length>1))return;const hr=strtok3.fromBuffer(cr);return fromTokenizer(hr)}function _check(ur,cr,hr){hr={offset:0,...hr};for(const[dr,mr]of cr.entries())if(hr.mask){if(mr!==(hr.mask[dr]&ur[dr+hr.offset]))return!1}else if(mr!==ur[dr+hr.offset])return!1;return!0}async function fromTokenizer(ur){try{return _fromTokenizer(ur)}catch(cr){if(!(cr instanceof strtok3.EndOfStreamError))throw cr}}async function _fromTokenizer(ur){let cr=Buffer.alloc(minimumBytes);const hr=12,dr=(gr,br)=>_check(cr,gr,br),mr=(gr,br)=>dr(stringToBytes(gr),br);if(ur.fileInfo.size||(ur.fileInfo.size=Number.MAX_SAFE_INTEGER),await ur.peekBuffer(cr,{length:hr,mayBeLess:!0}),dr([66,77]))return{ext:"bmp",mime:"image/bmp"};if(dr([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(dr([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(dr([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(dr([37,33]))return await ur.peekBuffer(cr,{length:24,mayBeLess:!0}),mr("PS-Adobe-",{offset:2})&&mr(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(dr([31,160])||dr([31,157]))return{ext:"Z",mime:"application/x-compress"};if(dr([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(dr([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(dr([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(dr([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(mr("ID3")){await ur.ignore(6);const gr=await ur.readToken(uint32SyncSafeToken);return ur.position+gr>ur.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await ur.ignore(gr),fromTokenizer(ur))}if(mr("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((cr[0]===67||cr[0]===70)&&dr([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(dr([71,73,70]))return{ext:"gif",mime:"image/gif"};if(mr("FLIF"))return{ext:"flif",mime:"image/flif"};if(mr("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(mr("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(mr("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(mr("FORM"))return{ext:"aif",mime:"audio/aiff"};if(mr("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(dr([80,75,3,4])){try{for(;ur.position+30<ur.fileInfo.size;){await ur.readBuffer(cr,{length:30});const gr={compressedSize:cr.readUInt32LE(18),uncompressedSize:cr.readUInt32LE(22),filenameLength:cr.readUInt16LE(26),extraFieldLength:cr.readUInt16LE(28)};if(gr.filename=await ur.readToken(new Token.StringType(gr.filenameLength,"utf-8")),await ur.ignore(gr.extraFieldLength),gr.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(gr.filename.endsWith(".rels")||gr.filename.endsWith(".xml"))switch(gr.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(gr.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(gr.filename.startsWith("3D/")&&gr.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(gr.filename==="mimetype"&&gr.compressedSize===gr.uncompressedSize)switch(await ur.readToken(new Token.StringType(gr.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(gr.compressedSize===0){let br=-1;for(;br<0&&ur.position<ur.fileInfo.size;)await ur.peekBuffer(cr,{mayBeLess:!0}),br=cr.indexOf("504B0304",0,"hex"),await ur.ignore(br>=0?br:cr.length)}else await ur.ignore(gr.compressedSize)}}catch(gr){if(!(gr instanceof strtok3.EndOfStreamError))throw gr}return{ext:"zip",mime:"application/zip"}}if(mr("OggS")){await ur.ignore(28);const gr=Buffer.alloc(8);return await ur.readBuffer(gr),_check(gr,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(gr,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(gr,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(gr,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(gr,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(gr,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(dr([80,75])&&(cr[2]===3||cr[2]===5||cr[2]===7)&&(cr[3]===4||cr[3]===6||cr[3]===8))return{ext:"zip",mime:"application/zip"};if(mr("ftyp",{offset:4})&&(cr[8]&96)!==0){const gr=cr.toString("binary",8,12).replace("\0"," ").trim();switch(gr){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return gr.startsWith("3g")?gr.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(mr("MThd"))return{ext:"mid",mime:"audio/midi"};if(mr("wOFF")&&(dr([0,1,0,0],{offset:4})||mr("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(mr("wOF2")&&(dr([0,1,0,0],{offset:4})||mr("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(dr([212,195,178,161])||dr([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(mr("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(mr("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(mr("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(dr([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(mr("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(mr("%PDF")){await ur.ignore(1350);const gr=10*1024*1024,br=Buffer.alloc(Math.min(gr,ur.fileInfo.size));return await ur.readBuffer(br,{mayBeLess:!0}),br.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(dr([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(dr([73,73,42,0]))return mr("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:dr([28,0,254,0],{offset:8})||dr([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:dr([8,0,0,0],{offset:4})&&(dr([45,0,254,0],{offset:8})||dr([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(cr=Buffer.alloc(24),await ur.peekBuffer(cr),(dr([16,251,134,1],{offset:4})||dr([8,0,0,0],{offset:4}))&&dr([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(dr([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(mr("MAC "))return{ext:"ape",mime:"audio/ape"};if(dr([26,69,223,163])){async function gr(){const Sr=await ur.peekNumber(Token.UINT8);let _r=128,wr=0;for(;(Sr&_r)===0&&_r!==0;)++wr,_r>>=1;const Er=Buffer.alloc(wr+1);return await ur.readBuffer(Er),Er}async function br(){const Sr=await gr(),_r=await gr();_r[0]^=128>>_r.length-1;const wr=Math.min(6,_r.length);return{id:Sr.readUIntBE(0,Sr.length),len:_r.readUIntBE(_r.length-wr,wr)}}async function yr(Sr,_r){for(;_r>0;){const wr=await br();if(wr.id===17026)return ur.readToken(new Token.StringType(wr.len,"utf-8"));await ur.ignore(wr.len),--_r}}const Tr=await br();switch(await yr(1,Tr.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(dr([82,73,70,70])){if(dr([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(dr([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(dr([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(mr("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(dr([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(mr("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(mr("MSCF")||mr("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(dr([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(dr([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(dr([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(dr([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(mr("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(mr("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(dr([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(mr("IMPM"))return{ext:"it",mime:"audio/x-it"};if(mr("-lh0-",{offset:2})||mr("-lh1-",{offset:2})||mr("-lh2-",{offset:2})||mr("-lh3-",{offset:2})||mr("-lh4-",{offset:2})||mr("-lh5-",{offset:2})||mr("-lh6-",{offset:2})||mr("-lh7-",{offset:2})||mr("-lzs-",{offset:2})||mr("-lz4-",{offset:2})||mr("-lz5-",{offset:2})||mr("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(dr([0,0,1,186])){if(dr([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(dr([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(mr("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(dr([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(mr("<?xml "))return{ext:"xml",mime:"application/xml"};if(dr([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(dr([82,97,114,33,26,7])&&(cr[6]===0||cr[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(mr("solid "))return{ext:"stl",mime:"model/stl"};if(mr("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(mr("!<arch>"))return await ur.ignore(8),await ur.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(dr([137,80,78,71,13,10,26,10])){await ur.ignore(8);async function gr(){return{length:await ur.readToken(Token.INT32_BE),type:await ur.readToken(new Token.StringType(4,"binary"))}}do{const br=await gr();if(br.length<0)return;switch(br.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await ur.ignore(br.length+4)}}while(ur.position+8<ur.fileInfo.size);return{ext:"png",mime:"image/png"}}if(dr([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(dr([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(dr([102,114,101,101],{offset:4})||dr([109,100,97,116],{offset:4})||dr([109,111,111,118],{offset:4})||dr([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(dr([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(mr("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(dr([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(dr([48,38,178,117,142,102,207,17,166,217])){async function gr(){const br=Buffer.alloc(16);return await ur.readBuffer(br),{id:br,size:Number(await ur.readToken(Token.UINT64_LE))}}for(await ur.ignore(30);ur.position+24<ur.fileInfo.size;){const br=await gr();let yr=br.size-24;if(_check(br.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const Tr=Buffer.alloc(16);if(yr-=await ur.readBuffer(Tr),_check(Tr,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(Tr,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await ur.ignore(yr)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(dr([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((dr([126,16,4])||dr([126,24,4]))&&dr([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(dr([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(dr([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await ur.ignore(20),await ur.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(dr([255,10])||dr([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(dr([0,0,1,186])||dr([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(dr([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(dr([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(dr([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(dr([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await ur.peekBuffer(cr,{length:Math.min(256,ur.fileInfo.size),mayBeLess:!0}),mr("BEGIN:")){if(mr("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(mr("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(mr("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(mr("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(mr("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(dr([4,0,0,0])&&cr.length>=16){const gr=cr.readUInt32LE(12);if(gr>12&&cr.length>=gr+16)try{const br=cr.slice(16,gr+16).toString();if(JSON.parse(br).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(dr([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(mr("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(dr([71],{offset:4})&&(dr([71],{offset:192})||dr([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(dr([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(dr([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(dr([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(dr([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(dr([76,80],{offset:34})&&(dr([0,0,1],{offset:8})||dr([1,0,2],{offset:8})||dr([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(dr([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await ur.peekBuffer(cr,{length:Math.min(512,ur.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(cr))return{ext:"tar",mime:"application/x-tar"};if(dr([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(mr("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(cr.length>=2&&dr([255,224],{offset:0,mask:[255,224]})){if(dr([16],{offset:1,mask:[22]}))return dr([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(dr([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(dr([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(dr([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const ur=new stream.PassThrough;let cr;stream.pipeline?cr=stream.pipeline(readableStream,ur,()=>{}):cr=readableStream.pipe(ur);const hr=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const dr=await fromBuffer(hr);ur.fileType=dr}catch(dr){reject(dr)}resolve(cr)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};return Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}}),Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}}),core=fileType,core}var contentType={};/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var hasRequiredContentType;function requireContentType(){if(hasRequiredContentType)return contentType;hasRequiredContentType=1;var ur=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,cr=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,hr=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,dr=/\\([\u000b\u0020-\u00ff])/g,mr=/([\\"])/g,gr=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;contentType.format=br,contentType.parse=yr;function br(_r){if(!_r||typeof _r!="object")throw new TypeError("argument obj is required");var wr=_r.parameters,Er=_r.type;if(!Er||!gr.test(Er))throw new TypeError("invalid type");var Ar=Er;if(wr&&typeof wr=="object")for(var kr,Dr=Object.keys(wr).sort(),Cr=0;Cr<Dr.length;Cr++){if(kr=Dr[Cr],!hr.test(kr))throw new TypeError("invalid parameter name");Ar+="; "+kr+"="+vr(wr[kr])}return Ar}function yr(_r){if(!_r)throw new TypeError("argument string is required");var wr=typeof _r=="object"?Tr(_r):_r;if(typeof wr!="string")throw new TypeError("argument string is required to be a string");var Er=wr.indexOf(";"),Ar=Er!==-1?wr.slice(0,Er).trim():wr.trim();if(!gr.test(Ar))throw new TypeError("invalid media type");var kr=new Sr(Ar.toLowerCase());if(Er!==-1){var Dr,Cr,Or;for(ur.lastIndex=Er;Cr=ur.exec(wr);){if(Cr.index!==Er)throw new TypeError("invalid parameter format");Er+=Cr[0].length,Dr=Cr[1].toLowerCase(),Or=Cr[2],Or.charCodeAt(0)===34&&(Or=Or.slice(1,-1),Or.indexOf("\\")!==-1&&(Or=Or.replace(dr,"$1"))),kr.parameters[Dr]=Or}if(Er!==wr.length)throw new TypeError("invalid parameter format")}return kr}function Tr(_r){var wr;if(typeof _r.getHeader=="function"?wr=_r.getHeader("content-type"):typeof _r.headers=="object"&&(wr=_r.headers&&_r.headers["content-type"]),typeof wr!="string")throw new TypeError("content-type header is missing from object");return wr}function vr(_r){var wr=String(_r);if(hr.test(wr))return wr;if(wr.length>0&&!cr.test(wr))throw new TypeError("invalid parameter value");return'"'+wr.replace(mr,"\\$1")+'"'}function Sr(_r){this.parameters=Object.create(null),this.type=_r}return contentType}var mediaTyper={};/*!
 * media-typer
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */var hasRequiredMediaTyper;function requireMediaTyper(){if(hasRequiredMediaTyper)return mediaTyper;hasRequiredMediaTyper=1;var ur=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,cr=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,hr=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;mediaTyper.format=dr,mediaTyper.parse=gr,mediaTyper.test=mr;function dr(yr){if(!yr||typeof yr!="object")throw new TypeError("argument obj is required");var Tr=yr.subtype,vr=yr.suffix,Sr=yr.type;if(!Sr||!cr.test(Sr))throw new TypeError("invalid type");if(!Tr||!ur.test(Tr))throw new TypeError("invalid subtype");var _r=Sr+"/"+Tr;if(vr){if(!cr.test(vr))throw new TypeError("invalid suffix");_r+="+"+vr}return _r}function mr(yr){if(!yr)throw new TypeError("argument string is required");if(typeof yr!="string")throw new TypeError("argument string is required to be a string");return hr.test(yr.toLowerCase())}function gr(yr){if(!yr)throw new TypeError("argument string is required");if(typeof yr!="string")throw new TypeError("argument string is required to be a string");var Tr=hr.exec(yr.toLowerCase());if(!Tr)throw new TypeError("invalid media type");var vr=Tr[1],Sr=Tr[2],_r,wr=Sr.lastIndexOf("+");return wr!==-1&&(_r=Sr.substr(wr+1),Sr=Sr.substr(0,wr)),new br(vr,Sr,_r)}function br(yr,Tr,vr){this.type=yr,this.subtype=Tr,this.suffix=vr}return mediaTyper}var MetadataCollector={},type={},types={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.TrackType=ur.TargetType=ur.DataType=void 0,(function(cr){cr[cr.string=0]="string",cr[cr.uint=1]="uint",cr[cr.uid=2]="uid",cr[cr.bool=3]="bool",cr[cr.binary=4]="binary",cr[cr.float=5]="float"})(ur.DataType||(ur.DataType={})),(function(cr){cr[cr.shot=10]="shot",cr[cr.scene=20]="scene",cr[cr.track=30]="track",cr[cr.part=40]="part",cr[cr.album=50]="album",cr[cr.edition=60]="edition",cr[cr.collection=70]="collection"})(ur.TargetType||(ur.TargetType={})),(function(cr){cr[cr.video=1]="video",cr[cr.audio=2]="audio",cr[cr.complex=3]="complex",cr[cr.logo=4]="logo",cr[cr.subtitle=17]="subtitle",cr[cr.button=18]="button",cr[cr.control=32]="control"})(ur.TrackType||(ur.TrackType={}))})(types)),types}var hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.TrackType=void 0;var cr=requireTypes();Object.defineProperty(ur,"TrackType",{enumerable:!0,get:function(){return cr.TrackType}})})(type)),type}var GenericTagTypes={},hasRequiredGenericTagTypes;function requireGenericTagTypes(){return hasRequiredGenericTagTypes||(hasRequiredGenericTagTypes=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.isUnique=ur.isSingleton=ur.commonTags=void 0,ur.commonTags={year:{multiple:!1},track:{multiple:!1},disk:{multiple:!1},title:{multiple:!1},artist:{multiple:!1},artists:{multiple:!0,unique:!0},albumartist:{multiple:!1},album:{multiple:!1},date:{multiple:!1},originaldate:{multiple:!1},originalyear:{multiple:!1},comment:{multiple:!0,unique:!1},genre:{multiple:!0,unique:!0},picture:{multiple:!0,unique:!0},composer:{multiple:!0,unique:!0},lyrics:{multiple:!0,unique:!1},albumsort:{multiple:!1,unique:!0},titlesort:{multiple:!1,unique:!0},work:{multiple:!1,unique:!0},artistsort:{multiple:!1,unique:!0},albumartistsort:{multiple:!1,unique:!0},composersort:{multiple:!1,unique:!0},lyricist:{multiple:!0,unique:!0},writer:{multiple:!0,unique:!0},conductor:{multiple:!0,unique:!0},remixer:{multiple:!0,unique:!0},arranger:{multiple:!0,unique:!0},engineer:{multiple:!0,unique:!0},producer:{multiple:!0,unique:!0},technician:{multiple:!0,unique:!0},djmixer:{multiple:!0,unique:!0},mixer:{multiple:!0,unique:!0},label:{multiple:!0,unique:!0},grouping:{multiple:!1},subtitle:{multiple:!0},discsubtitle:{multiple:!1},totaltracks:{multiple:!1},totaldiscs:{multiple:!1},compilation:{multiple:!1},rating:{multiple:!0},bpm:{multiple:!1},mood:{multiple:!1},media:{multiple:!1},catalognumber:{multiple:!0,unique:!0},tvShow:{multiple:!1},tvShowSort:{multiple:!1},tvSeason:{multiple:!1},tvEpisode:{multiple:!1},tvEpisodeId:{multiple:!1},tvNetwork:{multiple:!1},podcast:{multiple:!1},podcasturl:{multiple:!1},releasestatus:{multiple:!1},releasetype:{multiple:!0},releasecountry:{multiple:!1},script:{multiple:!1},language:{multiple:!1},copyright:{multiple:!1},license:{multiple:!1},encodedby:{multiple:!1},encodersettings:{multiple:!1},gapless:{multiple:!1},barcode:{multiple:!1},isrc:{multiple:!0},asin:{multiple:!1},musicbrainz_recordingid:{multiple:!1},musicbrainz_trackid:{multiple:!1},musicbrainz_albumid:{multiple:!1},musicbrainz_artistid:{multiple:!0},musicbrainz_albumartistid:{multiple:!0},musicbrainz_releasegroupid:{multiple:!1},musicbrainz_workid:{multiple:!1},musicbrainz_trmid:{multiple:!1},musicbrainz_discid:{multiple:!1},acoustid_id:{multiple:!1},acoustid_fingerprint:{multiple:!1},musicip_puid:{multiple:!1},musicip_fingerprint:{multiple:!1},website:{multiple:!1},"performer:instrument":{multiple:!0,unique:!0},averageLevel:{multiple:!1},peakLevel:{multiple:!1},notes:{multiple:!0,unique:!1},key:{multiple:!1},originalalbum:{multiple:!1},originalartist:{multiple:!1},discogs_artist_id:{multiple:!0,unique:!0},discogs_release_id:{multiple:!1},discogs_label_id:{multiple:!1},discogs_master_release_id:{multiple:!1},discogs_votes:{multiple:!1},discogs_rating:{multiple:!1},replaygain_track_peak:{multiple:!1},replaygain_track_gain:{multiple:!1},replaygain_album_peak:{multiple:!1},replaygain_album_gain:{multiple:!1},replaygain_track_minmax:{multiple:!1},replaygain_album_minmax:{multiple:!1},replaygain_undo:{multiple:!1},description:{multiple:!0},longDescription:{multiple:!1},category:{multiple:!0},hdVideo:{multiple:!1},keywords:{multiple:!0},movement:{multiple:!1},movementIndex:{multiple:!1},movementTotal:{multiple:!1},podcastId:{multiple:!1},showMovement:{multiple:!1},stik:{multiple:!1}};function cr(dr){return ur.commonTags.hasOwnProperty(dr)&&!ur.commonTags[dr].multiple}ur.isSingleton=cr;function hr(dr){return!ur.commonTags[dr].multiple||ur.commonTags[dr].unique}ur.isUnique=hr})(GenericTagTypes)),GenericTagTypes}var CombinedTagMapper={},ID3v1TagMap={},GenericTagMapper={},hasRequiredGenericTagMapper;function requireGenericTagMapper(){if(hasRequiredGenericTagMapper)return GenericTagMapper;hasRequiredGenericTagMapper=1,Object.defineProperty(GenericTagMapper,"__esModule",{value:!0}),GenericTagMapper.CommonTagMapper=void 0;class ur{static toIntOrNull(hr){const dr=parseInt(hr,10);return isNaN(dr)?null:dr}static normalizeTrack(hr){const dr=hr.toString().split("/");return{no:parseInt(dr[0],10)||null,of:parseInt(dr[1],10)||null}}constructor(hr,dr){this.tagTypes=hr,this.tagMap=dr}mapGenericTag(hr,dr){hr={id:hr.id,value:hr.value},this.postMap(hr,dr);const mr=this.getCommonName(hr.id);return mr?{id:mr,value:hr.value}:null}getCommonName(hr){return this.tagMap[hr]}postMap(hr,dr){}}return ur.maxRatingScore=1,GenericTagMapper.CommonTagMapper=ur,GenericTagMapper}var hasRequiredID3v1TagMap;function requireID3v1TagMap(){if(hasRequiredID3v1TagMap)return ID3v1TagMap;hasRequiredID3v1TagMap=1,Object.defineProperty(ID3v1TagMap,"__esModule",{value:!0}),ID3v1TagMap.ID3v1TagMapper=void 0;const ur=requireGenericTagMapper(),cr={title:"title",artist:"artist",album:"album",year:"year",comment:"comment",track:"track",genre:"genre"};class hr extends ur.CommonTagMapper{constructor(){super(["ID3v1"],cr)}}return ID3v1TagMap.ID3v1TagMapper=hr,ID3v1TagMap}var ID3v24TagMapper={},CaseInsensitiveTagMap={},hasRequiredCaseInsensitiveTagMap;function requireCaseInsensitiveTagMap(){if(hasRequiredCaseInsensitiveTagMap)return CaseInsensitiveTagMap;hasRequiredCaseInsensitiveTagMap=1,Object.defineProperty(CaseInsensitiveTagMap,"__esModule",{value:!0}),CaseInsensitiveTagMap.CaseInsensitiveTagMap=void 0;const ur=requireGenericTagMapper();let cr=class extends ur.CommonTagMapper{constructor(dr,mr){const gr={};for(const br of Object.keys(mr))gr[br.toUpperCase()]=mr[br];super(dr,gr)}getCommonName(dr){return this.tagMap[dr.toUpperCase()]}};return CaseInsensitiveTagMap.CaseInsensitiveTagMap=cr,CaseInsensitiveTagMap}var Util={},hasRequiredUtil$1;function requireUtil$1(){if(hasRequiredUtil$1)return Util;hasRequiredUtil$1=1,Object.defineProperty(Util,"__esModule",{value:!0}),Util.toRatio=Util.dbToRatio=Util.ratioToDb=Util.a2hex=Util.isBitSet=Util.getBitAllignedNumber=Util.stripNulls=Util.decodeString=Util.trimRightNull=Util.findZero=Util.getBit=void 0;function ur(wr,Er,Ar){return(wr[Er]&1<<Ar)!==0}Util.getBit=ur;function cr(wr,Er,Ar,kr){let Dr=Er;if(kr==="utf16le"){for(;wr[Dr]!==0||wr[Dr+1]!==0;){if(Dr>=Ar)return Ar;Dr+=2}return Dr}else{for(;wr[Dr]!==0;){if(Dr>=Ar)return Ar;Dr++}return Dr}}Util.findZero=cr;function hr(wr){const Er=wr.indexOf("\0");return Er===-1?wr:wr.substr(0,Er)}Util.trimRightNull=hr;function dr(wr){const Er=wr.length;if((Er&1)!==0)throw new Error("Buffer length must be even");for(let Ar=0;Ar<Er;Ar+=2){const kr=wr[Ar];wr[Ar]=wr[Ar+1],wr[Ar+1]=kr}return wr}function mr(wr,Er){if(wr[0]===255&&wr[1]===254)return mr(wr.subarray(2),Er);if(Er==="utf16le"&&wr[0]===254&&wr[1]===255){if((wr.length&1)!==0)throw new Error("Expected even number of octets for 16-bit unicode string");return mr(dr(wr),Er)}return Buffer.from(wr).toString(Er)}Util.decodeString=mr;function gr(wr){return wr=wr.replace(/^\x00+/g,""),wr=wr.replace(/\x00+$/g,""),wr}Util.stripNulls=gr;function br(wr,Er,Ar,kr){const Dr=Er+~~(Ar/8),Cr=Ar%8;let Or=wr[Dr];Or&=255>>Cr;const qr=8-Cr,Hr=kr-qr;return Hr<0?Or>>=8-Cr-kr:Hr>0&&(Or<<=Hr,Or|=br(wr,Er,Ar+qr,Hr)),Or}Util.getBitAllignedNumber=br;function yr(wr,Er,Ar){return br(wr,Er,Ar,1)===1}Util.isBitSet=yr;function Tr(wr){const Er=[];for(let Ar=0,kr=wr.length;Ar<kr;Ar++){const Dr=Number(wr.charCodeAt(Ar)).toString(16);Er.push(Dr.length===1?"0"+Dr:Dr)}return Er.join(" ")}Util.a2hex=Tr;function vr(wr){return 10*Math.log10(wr)}Util.ratioToDb=vr;function Sr(wr){return Math.pow(10,wr/10)}Util.dbToRatio=Sr;function _r(wr){const Er=wr.split(" ").map(Ar=>Ar.trim().toLowerCase());if(Er.length>=1){const Ar=parseFloat(Er[0]);return Er.length===2&&Er[1]==="db"?{dB:Ar,ratio:Sr(Ar)}:{dB:vr(Ar),ratio:Ar}}}return Util.toRatio=_r,Util}var hasRequiredID3v24TagMapper;function requireID3v24TagMapper(){if(hasRequiredID3v24TagMapper)return ID3v24TagMapper;hasRequiredID3v24TagMapper=1,Object.defineProperty(ID3v24TagMapper,"__esModule",{value:!0}),ID3v24TagMapper.ID3v24TagMapper=void 0;const ur=requireGenericTagMapper(),cr=requireCaseInsensitiveTagMap(),hr=requireUtil$1(),dr={TIT2:"title",TPE1:"artist","TXXX:Artists":"artists",TPE2:"albumartist",TALB:"album",TDRV:"date",TORY:"originalyear",TPOS:"disk",TCON:"genre",APIC:"picture",TCOM:"composer","USLT:description":"lyrics",TSOA:"albumsort",TSOT:"titlesort",TOAL:"originalalbum",TSOP:"artistsort",TSO2:"albumartistsort",TSOC:"composersort",TEXT:"lyricist","TXXX:Writer":"writer",TPE3:"conductor",TPE4:"remixer","IPLS:arranger":"arranger","IPLS:engineer":"engineer","IPLS:producer":"producer","IPLS:DJ-mix":"djmixer","IPLS:mix":"mixer",TPUB:"label",TIT1:"grouping",TIT3:"subtitle",TRCK:"track",TCMP:"compilation",POPM:"rating",TBPM:"bpm",TMED:"media","TXXX:CATALOGNUMBER":"catalognumber","TXXX:MusicBrainz Album Status":"releasestatus","TXXX:MusicBrainz Album Type":"releasetype","TXXX:MusicBrainz Album Release Country":"releasecountry","TXXX:RELEASECOUNTRY":"releasecountry","TXXX:SCRIPT":"script",TLAN:"language",TCOP:"copyright",WCOP:"license",TENC:"encodedby",TSSE:"encodersettings","TXXX:BARCODE":"barcode","TXXX:ISRC":"isrc",TSRC:"isrc","TXXX:ASIN":"asin","TXXX:originalyear":"originalyear","UFID:http://musicbrainz.org":"musicbrainz_recordingid","TXXX:MusicBrainz Release Track Id":"musicbrainz_trackid","TXXX:MusicBrainz Album Id":"musicbrainz_albumid","TXXX:MusicBrainz Artist Id":"musicbrainz_artistid","TXXX:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","TXXX:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","TXXX:MusicBrainz Work Id":"musicbrainz_workid","TXXX:MusicBrainz TRM Id":"musicbrainz_trmid","TXXX:MusicBrainz Disc Id":"musicbrainz_discid","TXXX:ACOUSTID_ID":"acoustid_id","TXXX:Acoustid Id":"acoustid_id","TXXX:Acoustid Fingerprint":"acoustid_fingerprint","TXXX:MusicIP PUID":"musicip_puid","TXXX:MusicMagic Fingerprint":"musicip_fingerprint",WOAR:"website",TDRC:"date",TYER:"year",TDOR:"originaldate","TIPL:arranger":"arranger","TIPL:engineer":"engineer","TIPL:producer":"producer","TIPL:DJ-mix":"djmixer","TIPL:mix":"mixer",TMOO:"mood",SYLT:"lyrics",TSST:"discsubtitle",TKEY:"key",COMM:"comment",TOPE:"originalartist","PRIV:AverageLevel":"averageLevel","PRIV:PeakLevel":"peakLevel","TXXX:DISCOGS_ARTIST_ID":"discogs_artist_id","TXXX:DISCOGS_ARTISTS":"artists","TXXX:DISCOGS_ARTIST_NAME":"artists","TXXX:DISCOGS_ALBUM_ARTISTS":"albumartist","TXXX:DISCOGS_CATALOG":"catalognumber","TXXX:DISCOGS_COUNTRY":"releasecountry","TXXX:DISCOGS_DATE":"originaldate","TXXX:DISCOGS_LABEL":"label","TXXX:DISCOGS_LABEL_ID":"discogs_label_id","TXXX:DISCOGS_MASTER_RELEASE_ID":"discogs_master_release_id","TXXX:DISCOGS_RATING":"discogs_rating","TXXX:DISCOGS_RELEASED":"date","TXXX:DISCOGS_RELEASE_ID":"discogs_release_id","TXXX:DISCOGS_VOTES":"discogs_votes","TXXX:CATALOGID":"catalognumber","TXXX:STYLE":"genre","TXXX:REPLAYGAIN_TRACK_PEAK":"replaygain_track_peak","TXXX:REPLAYGAIN_TRACK_GAIN":"replaygain_track_gain","TXXX:REPLAYGAIN_ALBUM_PEAK":"replaygain_album_peak","TXXX:REPLAYGAIN_ALBUM_GAIN":"replaygain_album_gain","TXXX:MP3GAIN_MINMAX":"replaygain_track_minmax","TXXX:MP3GAIN_ALBUM_MINMAX":"replaygain_album_minmax","TXXX:MP3GAIN_UNDO":"replaygain_undo",MVNM:"movement",MVIN:"movementIndex",PCST:"podcast",TCAT:"category",TDES:"description",TDRL:"date",TGID:"podcastId",TKWD:"keywords",WFED:"podcasturl"};let mr=class Dg extends cr.CaseInsensitiveTagMap{static toRating(br){return{source:br.email,rating:br.rating>0?(br.rating-1)/254*ur.CommonTagMapper.maxRatingScore:void 0}}constructor(){super(["ID3v2.3","ID3v2.4"],dr)}postMap(br,yr){switch(br.id){case"UFID":br.value.owner_identifier==="http://musicbrainz.org"&&(br.id+=":"+br.value.owner_identifier,br.value=hr.decodeString(br.value.identifier,"latin1"));break;case"PRIV":switch(br.value.owner_identifier){case"AverageLevel":case"PeakValue":br.id+=":"+br.value.owner_identifier,br.value=br.value.data.length===4?br.value.data.readUInt32LE(0):null,br.value===null&&yr.addWarning("Failed to parse PRIV:PeakValue");break;default:yr.addWarning(`Unknown PRIV owner-identifier: ${br.value.owner_identifier}`)}break;case"COMM":br.value=br.value?br.value.text:null;break;case"POPM":br.value=Dg.toRating(br.value);break}}};return ID3v24TagMapper.ID3v24TagMapper=mr,ID3v24TagMapper}var AsfTagMapper={},hasRequiredAsfTagMapper;function requireAsfTagMapper(){if(hasRequiredAsfTagMapper)return AsfTagMapper;hasRequiredAsfTagMapper=1,Object.defineProperty(AsfTagMapper,"__esModule",{value:!0}),AsfTagMapper.AsfTagMapper=void 0;const ur=requireGenericTagMapper(),cr={Title:"title",Author:"artist","WM/AlbumArtist":"albumartist","WM/AlbumTitle":"album","WM/Year":"date","WM/OriginalReleaseTime":"originaldate","WM/OriginalReleaseYear":"originalyear",Description:"comment","WM/TrackNumber":"track","WM/PartOfSet":"disk","WM/Genre":"genre","WM/Composer":"composer","WM/Lyrics":"lyrics","WM/AlbumSortOrder":"albumsort","WM/TitleSortOrder":"titlesort","WM/ArtistSortOrder":"artistsort","WM/AlbumArtistSortOrder":"albumartistsort","WM/ComposerSortOrder":"composersort","WM/Writer":"lyricist","WM/Conductor":"conductor","WM/ModifiedBy":"remixer","WM/Engineer":"engineer","WM/Producer":"producer","WM/DJMixer":"djmixer","WM/Mixer":"mixer","WM/Publisher":"label","WM/ContentGroupDescription":"grouping","WM/SubTitle":"subtitle","WM/SetSubTitle":"discsubtitle","WM/IsCompilation":"compilation","WM/SharedUserRating":"rating","WM/BeatsPerMinute":"bpm","WM/Mood":"mood","WM/Media":"media","WM/CatalogNo":"catalognumber","MusicBrainz/Album Status":"releasestatus","MusicBrainz/Album Type":"releasetype","MusicBrainz/Album Release Country":"releasecountry","WM/Script":"script","WM/Language":"language",Copyright:"copyright",LICENSE:"license","WM/EncodedBy":"encodedby","WM/EncodingSettings":"encodersettings","WM/Barcode":"barcode","WM/ISRC":"isrc","MusicBrainz/Track Id":"musicbrainz_recordingid","MusicBrainz/Release Track Id":"musicbrainz_trackid","MusicBrainz/Album Id":"musicbrainz_albumid","MusicBrainz/Artist Id":"musicbrainz_artistid","MusicBrainz/Album Artist Id":"musicbrainz_albumartistid","MusicBrainz/Release Group Id":"musicbrainz_releasegroupid","MusicBrainz/Work Id":"musicbrainz_workid","MusicBrainz/TRM Id":"musicbrainz_trmid","MusicBrainz/Disc Id":"musicbrainz_discid","Acoustid/Id":"acoustid_id","Acoustid/Fingerprint":"acoustid_fingerprint","MusicIP/PUID":"musicip_puid","WM/ARTISTS":"artists","WM/InitialKey":"key",ASIN:"asin","WM/Work":"work","WM/AuthorURL":"website","WM/Picture":"picture"};let hr=class Mg extends ur.CommonTagMapper{static toRating(mr){return{rating:parseFloat(mr+1)/5}}constructor(){super(["asf"],cr)}postMap(mr){switch(mr.id){case"WM/SharedUserRating":const gr=mr.id.split(":");mr.value=Mg.toRating(mr.value),mr.id=gr[0];break}}};return AsfTagMapper.AsfTagMapper=hr,AsfTagMapper}var ID3v22TagMapper={},hasRequiredID3v22TagMapper;function requireID3v22TagMapper(){return hasRequiredID3v22TagMapper||(hasRequiredID3v22TagMapper=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.ID3v22TagMapper=ur.id3v22TagMap=void 0;const cr=requireCaseInsensitiveTagMap();ur.id3v22TagMap={TT2:"title",TP1:"artist",TP2:"albumartist",TAL:"album",TYE:"year",COM:"comment",TRK:"track",TPA:"disk",TCO:"genre",PIC:"picture",TCM:"composer",TOR:"originaldate",TOT:"originalalbum",TXT:"lyricist",TP3:"conductor",TPB:"label",TT1:"grouping",TT3:"subtitle",TLA:"language",TCR:"copyright",WCP:"license",TEN:"encodedby",TSS:"encodersettings",WAR:"website","COM:iTunPGAP":"gapless",PCS:"podcast",TCP:"compilation",TDR:"date",TS2:"albumartistsort",TSA:"albumsort",TSC:"composersort",TSP:"artistsort",TST:"titlesort",WFD:"podcasturl",TBP:"bpm"};class hr extends cr.CaseInsensitiveTagMap{constructor(){super(["ID3v2.2"],ur.id3v22TagMap)}}ur.ID3v22TagMapper=hr})(ID3v22TagMapper)),ID3v22TagMapper}var APEv2TagMapper={},hasRequiredAPEv2TagMapper;function requireAPEv2TagMapper(){if(hasRequiredAPEv2TagMapper)return APEv2TagMapper;hasRequiredAPEv2TagMapper=1,Object.defineProperty(APEv2TagMapper,"__esModule",{value:!0}),APEv2TagMapper.APEv2TagMapper=void 0;const ur=requireCaseInsensitiveTagMap(),cr={Title:"title",Artist:"artist",Artists:"artists","Album Artist":"albumartist",Album:"album",Year:"date",Originalyear:"originalyear",Originaldate:"originaldate",Comment:"comment",Track:"track",Disc:"disk",DISCNUMBER:"disk",Genre:"genre","Cover Art (Front)":"picture","Cover Art (Back)":"picture",Composer:"composer",Lyrics:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",Lyricist:"lyricist",Writer:"writer",Conductor:"conductor",MixArtist:"remixer",Arranger:"arranger",Engineer:"engineer",Producer:"producer",DJMixer:"djmixer",Mixer:"mixer",Label:"label",Grouping:"grouping",Subtitle:"subtitle",DiscSubtitle:"discsubtitle",Compilation:"compilation",BPM:"bpm",Mood:"mood",Media:"media",CatalogNumber:"catalognumber",MUSICBRAINZ_ALBUMSTATUS:"releasestatus",MUSICBRAINZ_ALBUMTYPE:"releasetype",RELEASECOUNTRY:"releasecountry",Script:"script",Language:"language",Copyright:"copyright",LICENSE:"license",EncodedBy:"encodedby",EncoderSettings:"encodersettings",Barcode:"barcode",ISRC:"isrc",ASIN:"asin",musicbrainz_trackid:"musicbrainz_recordingid",musicbrainz_releasetrackid:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",Acoustid_Id:"acoustid_id",ACOUSTID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",Weblink:"website",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",MP3GAIN_MINMAX:"replaygain_track_minmax",MP3GAIN_UNDO:"replaygain_undo"};let hr=class extends ur.CaseInsensitiveTagMap{constructor(){super(["APEv2"],cr)}};return APEv2TagMapper.APEv2TagMapper=hr,APEv2TagMapper}var MP4TagMapper={},hasRequiredMP4TagMapper;function requireMP4TagMapper(){return hasRequiredMP4TagMapper||(hasRequiredMP4TagMapper=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.MP4TagMapper=ur.tagType=void 0;const cr=requireCaseInsensitiveTagMap(),hr={"nam":"title","ART":"artist",aART:"albumartist","----:com.apple.iTunes:Band":"albumartist","alb":"album","day":"date","cmt":"comment","com":"comment",trkn:"track",disk:"disk","gen":"genre",covr:"picture","wrt":"composer","lyr":"lyrics",soal:"albumsort",sonm:"titlesort",soar:"artistsort",soaa:"albumartistsort",soco:"composersort","----:com.apple.iTunes:LYRICIST":"lyricist","----:com.apple.iTunes:CONDUCTOR":"conductor","----:com.apple.iTunes:REMIXER":"remixer","----:com.apple.iTunes:ENGINEER":"engineer","----:com.apple.iTunes:PRODUCER":"producer","----:com.apple.iTunes:DJMIXER":"djmixer","----:com.apple.iTunes:MIXER":"mixer","----:com.apple.iTunes:LABEL":"label","grp":"grouping","----:com.apple.iTunes:SUBTITLE":"subtitle","----:com.apple.iTunes:DISCSUBTITLE":"discsubtitle",cpil:"compilation",tmpo:"bpm","----:com.apple.iTunes:MOOD":"mood","----:com.apple.iTunes:MEDIA":"media","----:com.apple.iTunes:CATALOGNUMBER":"catalognumber",tvsh:"tvShow",tvsn:"tvSeason",tves:"tvEpisode",sosn:"tvShowSort",tven:"tvEpisodeId",tvnn:"tvNetwork",pcst:"podcast",purl:"podcasturl","----:com.apple.iTunes:MusicBrainz Album Status":"releasestatus","----:com.apple.iTunes:MusicBrainz Album Type":"releasetype","----:com.apple.iTunes:MusicBrainz Album Release Country":"releasecountry","----:com.apple.iTunes:SCRIPT":"script","----:com.apple.iTunes:LANGUAGE":"language",cprt:"copyright","cpy":"copyright","----:com.apple.iTunes:LICENSE":"license","too":"encodedby",pgap:"gapless","----:com.apple.iTunes:BARCODE":"barcode","----:com.apple.iTunes:ISRC":"isrc","----:com.apple.iTunes:ASIN":"asin","----:com.apple.iTunes:NOTES":"comment","----:com.apple.iTunes:MusicBrainz Track Id":"musicbrainz_recordingid","----:com.apple.iTunes:MusicBrainz Release Track Id":"musicbrainz_trackid","----:com.apple.iTunes:MusicBrainz Album Id":"musicbrainz_albumid","----:com.apple.iTunes:MusicBrainz Artist Id":"musicbrainz_artistid","----:com.apple.iTunes:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","----:com.apple.iTunes:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","----:com.apple.iTunes:MusicBrainz Work Id":"musicbrainz_workid","----:com.apple.iTunes:MusicBrainz TRM Id":"musicbrainz_trmid","----:com.apple.iTunes:MusicBrainz Disc Id":"musicbrainz_discid","----:com.apple.iTunes:Acoustid Id":"acoustid_id","----:com.apple.iTunes:Acoustid Fingerprint":"acoustid_fingerprint","----:com.apple.iTunes:MusicIP PUID":"musicip_puid","----:com.apple.iTunes:fingerprint":"musicip_fingerprint","----:com.apple.iTunes:replaygain_track_gain":"replaygain_track_gain","----:com.apple.iTunes:replaygain_track_peak":"replaygain_track_peak","----:com.apple.iTunes:replaygain_album_gain":"replaygain_album_gain","----:com.apple.iTunes:replaygain_album_peak":"replaygain_album_peak","----:com.apple.iTunes:replaygain_track_minmax":"replaygain_track_minmax","----:com.apple.iTunes:replaygain_album_minmax":"replaygain_album_minmax","----:com.apple.iTunes:replaygain_undo":"replaygain_undo",gnre:"genre","----:com.apple.iTunes:ALBUMARTISTSORT":"albumartistsort","----:com.apple.iTunes:ARTISTS":"artists","----:com.apple.iTunes:ORIGINALDATE":"originaldate","----:com.apple.iTunes:ORIGINALYEAR":"originalyear",desc:"description",ldes:"longDescription","mvn":"movement","mvi":"movementIndex","mvc":"movementTotal","wrk":"work",catg:"category",egid:"podcastId",hdvd:"hdVideo",keyw:"keywords",shwm:"showMovement",stik:"stik",rate:"rating"};ur.tagType="iTunes";class dr extends cr.CaseInsensitiveTagMap{constructor(){super([ur.tagType],hr)}postMap(gr,br){switch(gr.id){case"rate":gr.value={source:void 0,rating:parseFloat(gr.value)/100};break}}}ur.MP4TagMapper=dr})(MP4TagMapper)),MP4TagMapper}var VorbisTagMapper={},hasRequiredVorbisTagMapper;function requireVorbisTagMapper(){if(hasRequiredVorbisTagMapper)return VorbisTagMapper;hasRequiredVorbisTagMapper=1,Object.defineProperty(VorbisTagMapper,"__esModule",{value:!0}),VorbisTagMapper.VorbisTagMapper=void 0;const ur=requireGenericTagMapper(),cr={TITLE:"title",ARTIST:"artist",ARTISTS:"artists",ALBUMARTIST:"albumartist","ALBUM ARTIST":"albumartist",ALBUM:"album",DATE:"date",ORIGINALDATE:"originaldate",ORIGINALYEAR:"originalyear",COMMENT:"comment",TRACKNUMBER:"track",DISCNUMBER:"disk",GENRE:"genre",METADATA_BLOCK_PICTURE:"picture",COMPOSER:"composer",LYRICS:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",LYRICIST:"lyricist",WRITER:"writer",CONDUCTOR:"conductor",REMIXER:"remixer",ARRANGER:"arranger",ENGINEER:"engineer",PRODUCER:"producer",DJMIXER:"djmixer",MIXER:"mixer",LABEL:"label",GROUPING:"grouping",SUBTITLE:"subtitle",DISCSUBTITLE:"discsubtitle",TRACKTOTAL:"totaltracks",DISCTOTAL:"totaldiscs",COMPILATION:"compilation",RATING:"rating",BPM:"bpm",KEY:"key",MOOD:"mood",MEDIA:"media",CATALOGNUMBER:"catalognumber",RELEASESTATUS:"releasestatus",RELEASETYPE:"releasetype",RELEASECOUNTRY:"releasecountry",SCRIPT:"script",LANGUAGE:"language",COPYRIGHT:"copyright",LICENSE:"license",ENCODEDBY:"encodedby",ENCODERSETTINGS:"encodersettings",BARCODE:"barcode",ISRC:"isrc",ASIN:"asin",MUSICBRAINZ_TRACKID:"musicbrainz_recordingid",MUSICBRAINZ_RELEASETRACKID:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",ACOUSTID_ID:"acoustid_id",ACOUSTID_ID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",WEBSITE:"website",NOTES:"notes",TOTALTRACKS:"totaltracks",TOTALDISCS:"totaldiscs",DISCOGS_ARTIST_ID:"discogs_artist_id",DISCOGS_ARTISTS:"artists",DISCOGS_ARTIST_NAME:"artists",DISCOGS_ALBUM_ARTISTS:"albumartist",DISCOGS_CATALOG:"catalognumber",DISCOGS_COUNTRY:"releasecountry",DISCOGS_DATE:"originaldate",DISCOGS_LABEL:"label",DISCOGS_LABEL_ID:"discogs_label_id",DISCOGS_MASTER_RELEASE_ID:"discogs_master_release_id",DISCOGS_RATING:"discogs_rating",DISCOGS_RELEASED:"date",DISCOGS_RELEASE_ID:"discogs_release_id",DISCOGS_VOTES:"discogs_votes",CATALOGID:"catalognumber",STYLE:"genre",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",REPLAYGAIN_ALBUM_GAIN:"replaygain_album_gain",REPLAYGAIN_ALBUM_PEAK:"replaygain_album_peak",REPLAYGAIN_MINMAX:"replaygain_track_minmax",REPLAYGAIN_ALBUM_MINMAX:"replaygain_album_minmax",REPLAYGAIN_UNDO:"replaygain_undo"};let hr=class Pd extends ur.CommonTagMapper{static toRating(mr,gr,br){return{source:mr&&mr.toLowerCase(),rating:parseFloat(gr)/br*ur.CommonTagMapper.maxRatingScore}}constructor(){super(["vorbis"],cr)}postMap(mr){if(mr.id==="RATING")mr.value=Pd.toRating(void 0,mr.value,100);else if(mr.id.indexOf("RATING:")===0){const gr=mr.id.split(":");mr.value=Pd.toRating(gr[1],mr.value,1),mr.id=gr[0]}}};return VorbisTagMapper.VorbisTagMapper=hr,VorbisTagMapper}var RiffInfoTagMap={},hasRequiredRiffInfoTagMap;function requireRiffInfoTagMap(){return hasRequiredRiffInfoTagMap||(hasRequiredRiffInfoTagMap=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.RiffInfoTagMapper=ur.riffInfoTagMap=void 0;const cr=requireGenericTagMapper();ur.riffInfoTagMap={IART:"artist",ICRD:"date",INAM:"title",TITL:"title",IPRD:"album",ITRK:"track",IPRT:"track",COMM:"comment",ICMT:"comment",ICNT:"releasecountry",GNRE:"genre",IWRI:"writer",RATE:"rating",YEAR:"year",ISFT:"encodedby",CODE:"encodedby",TURL:"website",IGNR:"genre",IENG:"engineer",ITCH:"technician",IMED:"media",IRPD:"album"};class hr extends cr.CommonTagMapper{constructor(){super(["exif"],ur.riffInfoTagMap)}}ur.RiffInfoTagMapper=hr})(RiffInfoTagMap)),RiffInfoTagMap}var MatroskaTagMapper={},hasRequiredMatroskaTagMapper;function requireMatroskaTagMapper(){if(hasRequiredMatroskaTagMapper)return MatroskaTagMapper;hasRequiredMatroskaTagMapper=1,Object.defineProperty(MatroskaTagMapper,"__esModule",{value:!0}),MatroskaTagMapper.MatroskaTagMapper=void 0;const ur=requireCaseInsensitiveTagMap(),cr={"segment:title":"title","album:ARTIST":"albumartist","album:ARTISTSORT":"albumartistsort","album:TITLE":"album","album:DATE_RECORDED":"originaldate","album:PART_NUMBER":"disk","album:TOTAL_PARTS":"totaltracks","track:ARTIST":"artist","track:ARTISTSORT":"artistsort","track:TITLE":"title","track:PART_NUMBER":"track","track:MUSICBRAINZ_TRACKID":"musicbrainz_recordingid","track:MUSICBRAINZ_ALBUMID":"musicbrainz_albumid","track:MUSICBRAINZ_ARTISTID":"musicbrainz_artistid","track:PUBLISHER":"label","track:GENRE":"genre","track:ENCODER":"encodedby","track:ENCODER_OPTIONS":"encodersettings","edition:TOTAL_PARTS":"totaldiscs",picture:"picture"};let hr=class extends ur.CaseInsensitiveTagMap{constructor(){super(["matroska"],cr)}};return MatroskaTagMapper.MatroskaTagMapper=hr,MatroskaTagMapper}var AiffTagMap={},hasRequiredAiffTagMap;function requireAiffTagMap(){if(hasRequiredAiffTagMap)return AiffTagMap;hasRequiredAiffTagMap=1,Object.defineProperty(AiffTagMap,"__esModule",{value:!0}),AiffTagMap.AiffTagMapper=void 0;const ur=requireGenericTagMapper(),cr={NAME:"title",AUTH:"artist","(c) ":"copyright",ANNO:"comment"};class hr extends ur.CommonTagMapper{constructor(){super(["AIFF"],cr)}}return AiffTagMap.AiffTagMapper=hr,AiffTagMap}var hasRequiredCombinedTagMapper;function requireCombinedTagMapper(){if(hasRequiredCombinedTagMapper)return CombinedTagMapper;hasRequiredCombinedTagMapper=1,Object.defineProperty(CombinedTagMapper,"__esModule",{value:!0}),CombinedTagMapper.CombinedTagMapper=void 0;const ur=requireID3v1TagMap(),cr=requireID3v24TagMapper(),hr=requireAsfTagMapper(),dr=requireID3v22TagMapper(),mr=requireAPEv2TagMapper(),gr=requireMP4TagMapper(),br=requireVorbisTagMapper(),yr=requireRiffInfoTagMap(),Tr=requireMatroskaTagMapper(),vr=requireAiffTagMap();let Sr=class{constructor(){this.tagMappers={},[new ur.ID3v1TagMapper,new dr.ID3v22TagMapper,new cr.ID3v24TagMapper,new gr.MP4TagMapper,new gr.MP4TagMapper,new br.VorbisTagMapper,new mr.APEv2TagMapper,new hr.AsfTagMapper,new yr.RiffInfoTagMapper,new Tr.MatroskaTagMapper,new vr.AiffTagMapper].forEach(wr=>{this.registerTagMapper(wr)})}mapTag(wr,Er,Ar){if(this.tagMappers[wr])return this.tagMappers[wr].mapGenericTag(Er,Ar);throw new Error("No generic tag mapper defined for tag-format: "+wr)}registerTagMapper(wr){for(const Er of wr.tagTypes)this.tagMappers[Er]=wr}};return CombinedTagMapper.CombinedTagMapper=Sr,CombinedTagMapper}var hasRequiredMetadataCollector;function requireMetadataCollector(){if(hasRequiredMetadataCollector)return MetadataCollector;hasRequiredMetadataCollector=1,Object.defineProperty(MetadataCollector,"__esModule",{value:!0}),MetadataCollector.joinArtists=MetadataCollector.MetadataCollector=void 0;const ur=requireType(),cr=requireBrowser$3(),hr=requireGenericTagTypes(),dr=requireCombinedTagMapper(),mr=requireGenericTagMapper(),gr=requireUtil$1(),br=requireCore$1(),yr=(0,cr.default)("music-metadata:collector"),Tr=["matroska","APEv2","vorbis","ID3v2.4","ID3v2.3","ID3v2.2","exif","asf","iTunes","AIFF","ID3v1"];let vr=class{constructor(wr){this.opts=wr,this.format={tagTypes:[],trackInfo:[]},this.native={},this.common={track:{no:null,of:null},disk:{no:null,of:null},movementIndex:{}},this.quality={warnings:[]},this.commonOrigin={},this.originPriority={},this.tagMapper=new dr.CombinedTagMapper;let Er=1;for(const Ar of Tr)this.originPriority[Ar]=Er++;this.originPriority.artificial=500,this.originPriority.id3v1=600}hasAny(){return Object.keys(this.native).length>0}addStreamInfo(wr){yr(`streamInfo: type=${ur.TrackType[wr.type]}, codec=${wr.codecName}`),this.format.trackInfo.push(wr)}setFormat(wr,Er){yr(`format: ${wr} = ${Er}`),this.format[wr]=Er,this.opts.observer&&this.opts.observer({metadata:this,tag:{type:"format",id:wr,value:Er}})}addTag(wr,Er,Ar){yr(`tag ${wr}.${Er} = ${Ar}`),this.native[wr]||(this.format.tagTypes.push(wr),this.native[wr]=[]),this.native[wr].push({id:Er,value:Ar}),this.toCommon(wr,Er,Ar)}addWarning(wr){this.quality.warnings.push({message:wr})}postMap(wr,Er){switch(Er.id){case"artist":if(this.commonOrigin.artist===this.originPriority[wr])return this.postMap("artificial",{id:"artists",value:Er.value});this.common.artists||this.setGenericTag("artificial",{id:"artists",value:Er.value});break;case"artists":if((!this.common.artist||this.commonOrigin.artist===this.originPriority.artificial)&&(!this.common.artists||this.common.artists.indexOf(Er.value)===-1)){const Cr=(this.common.artists||[]).concat([Er.value]),qr={id:"artist",value:Sr(Cr)};this.setGenericTag("artificial",qr)}break;case"picture":this.postFixPicture(Er.value).then(Cr=>{Cr!==null&&(Er.value=Cr,this.setGenericTag(wr,Er))});return;case"totaltracks":this.common.track.of=mr.CommonTagMapper.toIntOrNull(Er.value);return;case"totaldiscs":this.common.disk.of=mr.CommonTagMapper.toIntOrNull(Er.value);return;case"movementTotal":this.common.movementIndex.of=mr.CommonTagMapper.toIntOrNull(Er.value);return;case"track":case"disk":case"movementIndex":const Ar=this.common[Er.id].of;this.common[Er.id]=mr.CommonTagMapper.normalizeTrack(Er.value),this.common[Er.id].of=Ar??this.common[Er.id].of;return;case"bpm":case"year":case"originalyear":Er.value=parseInt(Er.value,10);break;case"date":const kr=parseInt(Er.value.substr(0,4),10);isNaN(kr)||(this.common.year=kr);break;case"discogs_label_id":case"discogs_release_id":case"discogs_master_release_id":case"discogs_artist_id":case"discogs_votes":Er.value=typeof Er.value=="string"?parseInt(Er.value,10):Er.value;break;case"replaygain_track_gain":case"replaygain_track_peak":case"replaygain_album_gain":case"replaygain_album_peak":Er.value=(0,gr.toRatio)(Er.value);break;case"replaygain_track_minmax":Er.value=Er.value.split(",").map(Cr=>parseInt(Cr,10));break;case"replaygain_undo":const Dr=Er.value.split(",").map(Cr=>parseInt(Cr,10));Er.value={leftChannel:Dr[0],rightChannel:Dr[1]};break;case"gapless":case"compilation":case"podcast":case"showMovement":Er.value=Er.value==="1"||Er.value===1;break;case"isrc":if(this.common[Er.id]&&this.common[Er.id].indexOf(Er.value)!==-1)return;break}Er.value!==null&&this.setGenericTag(wr,Er)}toCommonMetadata(){return{format:this.format,native:this.native,quality:this.quality,common:this.common}}async postFixPicture(wr){if(wr.data&&wr.data.length>0){if(!wr.format){const Er=await br.fromBuffer(wr.data);if(Er)wr.format=Er.mime;else return null}switch(wr.format=wr.format.toLocaleLowerCase(),wr.format){case"image/jpg":wr.format="image/jpeg"}return wr}return this.addWarning("Empty picture tag found"),null}toCommon(wr,Er,Ar){const kr={id:Er,value:Ar},Dr=this.tagMapper.mapTag(wr,kr,this);Dr&&this.postMap(wr,Dr)}setGenericTag(wr,Er){yr(`common.${Er.id} = ${Er.value}`);const Ar=this.commonOrigin[Er.id]||1e3,kr=this.originPriority[wr];if((0,hr.isSingleton)(Er.id))if(kr<=Ar)this.common[Er.id]=Er.value,this.commonOrigin[Er.id]=kr;else return yr(`Ignore native tag (singleton): ${wr}.${Er.id} = ${Er.value}`);else if(kr===Ar)!(0,hr.isUnique)(Er.id)||this.common[Er.id].indexOf(Er.value)===-1?this.common[Er.id].push(Er.value):yr(`Ignore duplicate value: ${wr}.${Er.id} = ${Er.value}`);else if(kr<Ar)this.common[Er.id]=[Er.value],this.commonOrigin[Er.id]=kr;else return yr(`Ignore native tag (list): ${wr}.${Er.id} = ${Er.value}`);this.opts.observer&&this.opts.observer({metadata:this,tag:{type:"common",id:Er.id,value:Er.value}})}};MetadataCollector.MetadataCollector=vr;function Sr(_r){return _r.length>2?_r.slice(0,_r.length-1).join(", ")+" & "+_r[_r.length-1]:_r.join(" & ")}return MetadataCollector.joinArtists=Sr,MetadataCollector}var AiffParser={},ID3v2Parser={},FrameParser={},ID3v2Token={},hasRequiredID3v2Token;function requireID3v2Token(){return hasRequiredID3v2Token||(hasRequiredID3v2Token=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.TextEncodingToken=ur.ExtendedHeader=ur.ID3v2Header=ur.UINT32SYNCSAFE=ur.AttachedPictureType=void 0;const cr=requireLib$2(),hr=requireUtil$1();(function(dr){dr[dr.Other=0]="Other",dr[dr["32x32 pixels 'file icon' (PNG only)"]=1]="32x32 pixels 'file icon' (PNG only)",dr[dr["Other file icon"]=2]="Other file icon",dr[dr["Cover (front)"]=3]="Cover (front)",dr[dr["Cover (back)"]=4]="Cover (back)",dr[dr["Leaflet page"]=5]="Leaflet page",dr[dr["Media (e.g. label side of CD)"]=6]="Media (e.g. label side of CD)",dr[dr["Lead artist/lead performer/soloist"]=7]="Lead artist/lead performer/soloist",dr[dr["Artist/performer"]=8]="Artist/performer",dr[dr.Conductor=9]="Conductor",dr[dr["Band/Orchestra"]=10]="Band/Orchestra",dr[dr.Composer=11]="Composer",dr[dr["Lyricist/text writer"]=12]="Lyricist/text writer",dr[dr["Recording Location"]=13]="Recording Location",dr[dr["During recording"]=14]="During recording",dr[dr["During performance"]=15]="During performance",dr[dr["Movie/video screen capture"]=16]="Movie/video screen capture",dr[dr["A bright coloured fish"]=17]="A bright coloured fish",dr[dr.Illustration=18]="Illustration",dr[dr["Band/artist logotype"]=19]="Band/artist logotype",dr[dr["Publisher/Studio logotype"]=20]="Publisher/Studio logotype"})(ur.AttachedPictureType||(ur.AttachedPictureType={})),ur.UINT32SYNCSAFE={get:(dr,mr)=>dr[mr+3]&127|dr[mr+2]<<7|dr[mr+1]<<14|dr[mr]<<21,len:4},ur.ID3v2Header={len:10,get:(dr,mr)=>({fileIdentifier:new cr.StringType(3,"ascii").get(dr,mr),version:{major:cr.INT8.get(dr,mr+3),revision:cr.INT8.get(dr,mr+4)},flags:{unsynchronisation:hr.getBit(dr,mr+5,7),isExtendedHeader:hr.getBit(dr,mr+5,6),expIndicator:hr.getBit(dr,mr+5,5),footer:hr.getBit(dr,mr+5,4)},size:ur.UINT32SYNCSAFE.get(dr,mr+6)})},ur.ExtendedHeader={len:10,get:(dr,mr)=>({size:cr.UINT32_BE.get(dr,mr),extendedFlags:cr.UINT16_BE.get(dr,mr+4),sizeOfPadding:cr.UINT32_BE.get(dr,mr+6),crcDataPresent:hr.getBit(dr,mr+4,31)})},ur.TextEncodingToken={len:1,get:(dr,mr)=>{switch(dr[mr]){case 0:return{encoding:"latin1"};case 1:return{encoding:"utf16le",bom:!0};case 2:return{encoding:"utf16le",bom:!1};case 3:return{encoding:"utf8",bom:!1};default:return{encoding:"utf8",bom:!1}}}}})(ID3v2Token)),ID3v2Token}var ID3v1Parser={},BasicParser={},hasRequiredBasicParser;function requireBasicParser(){if(hasRequiredBasicParser)return BasicParser;hasRequiredBasicParser=1,Object.defineProperty(BasicParser,"__esModule",{value:!0}),BasicParser.BasicParser=void 0;let ur=class{init(hr,dr,mr){return this.metadata=hr,this.tokenizer=dr,this.options=mr,this}};return BasicParser.BasicParser=ur,BasicParser}var APEv2Parser={},APEv2Token={},FourCC={},hasRequiredFourCC;function requireFourCC(){return hasRequiredFourCC||(hasRequiredFourCC=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.FourCcToken=void 0;const cr=requireUtil$1(),hr=/^[\x21-\x7e][\x20-\x7e\x00()]{3}/;ur.FourCcToken={len:4,get:(dr,mr)=>{const gr=dr.toString("binary",mr,mr+ur.FourCcToken.len);if(!gr.match(hr))throw new Error(`FourCC contains invalid characters: ${cr.a2hex(gr)} "${gr}"`);return gr},put:(dr,mr,gr)=>{const br=Buffer.from(gr,"binary");if(br.length!==4)throw new Error("Invalid length");return br.copy(dr,mr)}}})(FourCC)),FourCC}var hasRequiredAPEv2Token;function requireAPEv2Token(){return hasRequiredAPEv2Token||(hasRequiredAPEv2Token=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.isBitSet=ur.parseTagFlags=ur.TagField=ur.TagItemHeader=ur.TagFooter=ur.Header=ur.DescriptorParser=ur.DataType=void 0;const cr=requireLib$2(),hr=requireFourCC();(function(br){br[br.text_utf8=0]="text_utf8",br[br.binary=1]="binary",br[br.external_info=2]="external_info",br[br.reserved=3]="reserved"})(ur.DataType||(ur.DataType={})),ur.DescriptorParser={len:52,get:(br,yr)=>({ID:hr.FourCcToken.get(br,yr),version:cr.UINT32_LE.get(br,yr+4)/1e3,descriptorBytes:cr.UINT32_LE.get(br,yr+8),headerBytes:cr.UINT32_LE.get(br,yr+12),seekTableBytes:cr.UINT32_LE.get(br,yr+16),headerDataBytes:cr.UINT32_LE.get(br,yr+20),apeFrameDataBytes:cr.UINT32_LE.get(br,yr+24),apeFrameDataBytesHigh:cr.UINT32_LE.get(br,yr+28),terminatingDataBytes:cr.UINT32_LE.get(br,yr+32),fileMD5:new cr.Uint8ArrayType(16).get(br,yr+36)})},ur.Header={len:24,get:(br,yr)=>({compressionLevel:cr.UINT16_LE.get(br,yr),formatFlags:cr.UINT16_LE.get(br,yr+2),blocksPerFrame:cr.UINT32_LE.get(br,yr+4),finalFrameBlocks:cr.UINT32_LE.get(br,yr+8),totalFrames:cr.UINT32_LE.get(br,yr+12),bitsPerSample:cr.UINT16_LE.get(br,yr+16),channel:cr.UINT16_LE.get(br,yr+18),sampleRate:cr.UINT32_LE.get(br,yr+20)})},ur.TagFooter={len:32,get:(br,yr)=>({ID:new cr.StringType(8,"ascii").get(br,yr),version:cr.UINT32_LE.get(br,yr+8),size:cr.UINT32_LE.get(br,yr+12),fields:cr.UINT32_LE.get(br,yr+16),flags:mr(cr.UINT32_LE.get(br,yr+20))})},ur.TagItemHeader={len:8,get:(br,yr)=>({size:cr.UINT32_LE.get(br,yr),flags:mr(cr.UINT32_LE.get(br,yr+4))})};const dr=br=>new cr.Uint8ArrayType(br.size-ur.TagFooter.len);ur.TagField=dr;function mr(br){return{containsHeader:gr(br,31),containsFooter:gr(br,30),isHeader:gr(br,31),readOnly:gr(br,0),dataType:(br&6)>>1}}ur.parseTagFlags=mr;function gr(br,yr){return(br&1<<yr)!==0}ur.isBitSet=gr})(APEv2Token)),APEv2Token}var hasRequiredAPEv2Parser;function requireAPEv2Parser(){if(hasRequiredAPEv2Parser)return APEv2Parser;hasRequiredAPEv2Parser=1,Object.defineProperty(APEv2Parser,"__esModule",{value:!0}),APEv2Parser.APEv2Parser=void 0;const ur=requireBrowser$3(),cr=requireCore$2(),hr=requireLib$2(),dr=requireUtil$1(),mr=requireBasicParser(),gr=requireAPEv2Token(),br=(0,ur.default)("music-metadata:parser:APEv2"),yr="APEv2",Tr="APETAGEX";let vr=class pu extends mr.BasicParser{constructor(){super(...arguments),this.ape={}}static tryParseApeHeader(_r,wr,Er){const Ar=new pu;return Ar.init(_r,wr,Er),Ar.tryParseApeHeader()}static calculateDuration(_r){let wr=_r.totalFrames>1?_r.blocksPerFrame*(_r.totalFrames-1):0;return wr+=_r.finalFrameBlocks,wr/_r.sampleRate}static async findApeFooterOffset(_r,wr){const Er=Buffer.alloc(gr.TagFooter.len);await _r.randomRead(Er,0,gr.TagFooter.len,wr-gr.TagFooter.len);const Ar=gr.TagFooter.get(Er,0);if(Ar.ID==="APETAGEX")return br(`APE footer header at offset=${wr}`),{footer:Ar,offset:wr-Ar.size}}static parseTagFooter(_r,wr,Er){const Ar=gr.TagFooter.get(wr,wr.length-gr.TagFooter.len);if(Ar.ID!==Tr)throw new Error("Unexpected APEv2 Footer ID preamble value.");cr.fromBuffer(wr);const kr=new pu;return kr.init(_r,cr.fromBuffer(wr),Er),kr.parseTags(Ar)}async tryParseApeHeader(){if(this.tokenizer.fileInfo.size&&this.tokenizer.fileInfo.size-this.tokenizer.position<gr.TagFooter.len){br("No APEv2 header found, end-of-file reached");return}const _r=await this.tokenizer.peekToken(gr.TagFooter);if(_r.ID===Tr)return await this.tokenizer.ignore(gr.TagFooter.len),this.parseTags(_r);if(br(`APEv2 header not found at offset=${this.tokenizer.position}`),this.tokenizer.fileInfo.size){const wr=this.tokenizer.fileInfo.size-this.tokenizer.position,Er=Buffer.alloc(wr);return await this.tokenizer.readBuffer(Er),pu.parseTagFooter(this.metadata,Er,this.options)}}async parse(){const _r=await this.tokenizer.readToken(gr.DescriptorParser);if(_r.ID!=="MAC ")throw new Error("Unexpected descriptor ID");this.ape.descriptor=_r;const wr=_r.descriptorBytes-gr.DescriptorParser.len,Er=await(wr>0?this.parseDescriptorExpansion(wr):this.parseHeader());return await this.tokenizer.ignore(Er.forwardBytes),this.tryParseApeHeader()}async parseTags(_r){const wr=Buffer.alloc(256);let Er=_r.size-gr.TagFooter.len;br(`Parse APE tags at offset=${this.tokenizer.position}, size=${Er}`);for(let Ar=0;Ar<_r.fields;Ar++){if(Er<gr.TagItemHeader.len){this.metadata.addWarning(`APEv2 Tag-header: ${_r.fields-Ar} items remaining, but no more tag data to read.`);break}const kr=await this.tokenizer.readToken(gr.TagItemHeader);Er-=gr.TagItemHeader.len+kr.size,await this.tokenizer.peekBuffer(wr,{length:Math.min(wr.length,Er)});let Dr=dr.findZero(wr,0,wr.length);const Cr=await this.tokenizer.readToken(new hr.StringType(Dr,"ascii"));switch(await this.tokenizer.ignore(1),Er-=Cr.length+1,kr.flags.dataType){case gr.DataType.text_utf8:{const qr=(await this.tokenizer.readToken(new hr.StringType(kr.size,"utf8"))).split(/\x00/g);for(const Hr of qr)this.metadata.addTag(yr,Cr,Hr);break}case gr.DataType.binary:if(this.options.skipCovers)await this.tokenizer.ignore(kr.size);else{const Or=Buffer.alloc(kr.size);await this.tokenizer.readBuffer(Or),Dr=dr.findZero(Or,0,Or.length);const qr=Or.toString("utf8",0,Dr),Hr=Buffer.from(Or.slice(Dr+1));this.metadata.addTag(yr,Cr,{description:qr,data:Hr})}break;case gr.DataType.external_info:br(`Ignore external info ${Cr}`),await this.tokenizer.ignore(kr.size);break;case gr.DataType.reserved:br(`Ignore external info ${Cr}`),this.metadata.addWarning(`APEv2 header declares a reserved datatype for "${Cr}"`),await this.tokenizer.ignore(kr.size);break}}}async parseDescriptorExpansion(_r){return await this.tokenizer.ignore(_r),this.parseHeader()}async parseHeader(){const _r=await this.tokenizer.readToken(gr.Header);return this.metadata.setFormat("lossless",!0),this.metadata.setFormat("container","Monkey's Audio"),this.metadata.setFormat("bitsPerSample",_r.bitsPerSample),this.metadata.setFormat("sampleRate",_r.sampleRate),this.metadata.setFormat("numberOfChannels",_r.channel),this.metadata.setFormat("duration",pu.calculateDuration(_r)),{forwardBytes:this.ape.descriptor.seekTableBytes+this.ape.descriptor.headerDataBytes+this.ape.descriptor.apeFrameDataBytes+this.ape.descriptor.terminatingDataBytes}}};return APEv2Parser.APEv2Parser=vr,APEv2Parser}var hasRequiredID3v1Parser;function requireID3v1Parser(){return hasRequiredID3v1Parser||(hasRequiredID3v1Parser=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.hasID3v1Header=ur.ID3v1Parser=ur.Genres=void 0;const cr=requireBrowser$3(),hr=requireLib$2(),dr=requireUtil$1(),mr=requireBasicParser(),gr=requireAPEv2Parser(),br=(0,cr.default)("music-metadata:parser:ID3v1");ur.Genres=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","Alt. Rock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk/Rock","National Folk","Swing","Fast-Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Abstract","Art Rock","Baroque","Bhangra","Big Beat","Breakbeat","Chillout","Downtempo","Dub","EBM","Eclectic","Electro","Electroclash","Emo","Experimental","Garage","Global","IDM","Illbient","Industro-Goth","Jam Band","Krautrock","Leftfield","Lounge","Math Rock","New Romantic","Nu-Breakz","Post-Punk","Post-Rock","Psytrance","Shoegaze","Space Rock","Trop Rock","World Music","Neoclassical","Audiobook","Audio Theatre","Neue Deutsche Welle","Podcast","Indie Rock","G-Funk","Dubstep","Garage Rock","Psybient"];const yr={len:128,get:(_r,wr)=>{const Er=new Tr(3).get(_r,wr);return Er==="TAG"?{header:Er,title:new Tr(30).get(_r,wr+3),artist:new Tr(30).get(_r,wr+33),album:new Tr(30).get(_r,wr+63),year:new Tr(4).get(_r,wr+93),comment:new Tr(28).get(_r,wr+97),zeroByte:hr.UINT8.get(_r,wr+127),track:hr.UINT8.get(_r,wr+126),genre:hr.UINT8.get(_r,wr+127)}:null}};class Tr extends hr.StringType{constructor(wr){super(wr,"binary")}get(wr,Er){let Ar=super.get(wr,Er);return Ar=dr.trimRightNull(Ar),Ar=Ar.trim(),Ar.length>0?Ar:void 0}}class vr extends mr.BasicParser{static getGenre(wr){if(wr<ur.Genres.length)return ur.Genres[wr]}async parse(){if(!this.tokenizer.fileInfo.size){br("Skip checking for ID3v1 because the file-size is unknown");return}if(this.options.apeHeader){this.tokenizer.ignore(this.options.apeHeader.offset-this.tokenizer.position);const Ar=new gr.APEv2Parser;Ar.init(this.metadata,this.tokenizer,this.options),await Ar.parseTags(this.options.apeHeader.footer)}const wr=this.tokenizer.fileInfo.size-yr.len;if(this.tokenizer.position>wr){br("Already consumed the last 128 bytes");return}const Er=await this.tokenizer.readToken(yr,wr);if(Er){br("ID3v1 header found at: pos=%s",this.tokenizer.fileInfo.size-yr.len);for(const kr of["title","artist","album","comment","track","year"])Er[kr]&&Er[kr]!==""&&this.addTag(kr,Er[kr]);const Ar=vr.getGenre(Er.genre);Ar&&this.addTag("genre",Ar)}else br("ID3v1 header not found at: pos=%s",this.tokenizer.fileInfo.size-yr.len)}addTag(wr,Er){this.metadata.addTag("ID3v1",wr,Er)}}ur.ID3v1Parser=vr;async function Sr(_r){if(_r.fileSize>=128){const wr=Buffer.alloc(3);return await _r.randomRead(wr,0,wr.length,_r.fileSize-128),wr.toString("binary")==="TAG"}return!1}ur.hasID3v1Header=Sr})(ID3v1Parser)),ID3v1Parser}var hasRequiredFrameParser;function requireFrameParser(){if(hasRequiredFrameParser)return FrameParser;hasRequiredFrameParser=1,Object.defineProperty(FrameParser,"__esModule",{value:!0}),FrameParser.FrameParser=FrameParser.parseGenre=void 0;const ur=requireBrowser$3(),cr=requireLib$2(),hr=requireUtil$1(),dr=requireID3v2Token(),mr=requireID3v1Parser(),gr=(0,ur.default)("music-metadata:id3v2:frame-parser"),br="latin1";function yr(Sr){const _r=[];let wr,Er="";for(const Ar of Sr)if(typeof wr=="string")if(Ar==="("&&wr==="")Er+="(",wr=void 0;else if(Ar===")"){Er!==""&&(_r.push(Er),Er="");const kr=Tr(wr);kr&&_r.push(kr),wr=void 0}else wr+=Ar;else Ar==="("?wr="":Er+=Ar;return Er&&(_r.length===0&&Er.match(/^\d*$/)&&(Er=mr.Genres[Er]),_r.push(Er)),_r}FrameParser.parseGenre=yr;function Tr(Sr){if(Sr==="RX")return"Remix";if(Sr==="CR")return"Cover";if(Sr.match(/^\d*$/))return mr.Genres[Sr]}let vr=class $s{constructor(_r,wr){this.major=_r,this.warningCollector=wr}readData(_r,wr,Er){if(_r.length===0){this.warningCollector.addWarning(`id3v2.${this.major} header has empty tag type=${wr}`);return}const{encoding:Ar,bom:kr}=dr.TextEncodingToken.get(_r,0),Dr=_r.length;let Cr=0,Or=[];const qr=$s.getNullTerminatorLength(Ar);let Hr;const Lr={};switch(gr(`Parsing tag type=${wr}, encoding=${Ar}, bom=${kr}`),wr!=="TXXX"&&wr[0]==="T"?"T*":wr){case"T*":case"IPLS":case"MVIN":case"MVNM":case"PCS":case"PCST":let jr;try{jr=hr.decodeString(_r.slice(1),Ar).replace(/\x00+$/,"")}catch(Kr){this.warningCollector.addWarning(`id3v2.${this.major} type=${wr} header has invalid string value: ${Kr.message}`)}switch(wr){case"TMCL":case"TIPL":case"IPLS":Or=this.splitValue(wr,jr),Or=$s.functionList(Or);break;case"TRK":case"TRCK":case"TPOS":Or=jr;break;case"TCOM":case"TEXT":case"TOLY":case"TOPE":case"TPE1":case"TSRC":Or=this.splitValue(wr,jr);break;case"TCO":case"TCON":Or=this.splitValue(wr,jr).map(Kr=>yr(Kr)).reduce((Kr,Yr)=>Kr.concat(Yr),[]);break;case"PCS":case"PCST":Or=this.major>=4?this.splitValue(wr,jr):[jr],Or=Array.isArray(Or)&&Or[0]===""?1:0;break;default:Or=this.major>=4?this.splitValue(wr,jr):[jr]}break;case"TXXX":Or=$s.readIdentifierAndData(_r,Cr+1,Dr,Ar),Or={description:Or.id,text:this.splitValue(wr,hr.decodeString(Or.data,Ar).replace(/\x00+$/,""))};break;case"PIC":case"APIC":if(Er){const Kr={};switch(Cr+=1,this.major){case 2:Kr.format=hr.decodeString(_r.slice(Cr,Cr+3),"latin1"),Cr+=3;break;case 3:case 4:Hr=hr.findZero(_r,Cr,Dr,br),Kr.format=hr.decodeString(_r.slice(Cr,Hr),br),Cr=Hr+1;break;default:throw new Error("Warning: unexpected major versionIndex: "+this.major)}Kr.format=$s.fixPictureMimeType(Kr.format),Kr.type=dr.AttachedPictureType[_r[Cr]],Cr+=1,Hr=hr.findZero(_r,Cr,Dr,Ar),Kr.description=hr.decodeString(_r.slice(Cr,Hr),Ar),Cr=Hr+qr,Kr.data=Buffer.from(_r.slice(Cr,Dr)),Or=Kr}break;case"CNT":case"PCNT":Or=cr.UINT32_BE.get(_r,0);break;case"SYLT":for(Cr+=7,Or=[];Cr<Dr;){const Kr=_r.slice(Cr,Cr=hr.findZero(_r,Cr,Dr,Ar));Cr+=5,Or.push(hr.decodeString(Kr,Ar))}break;case"ULT":case"USLT":case"COM":case"COMM":Cr+=1,Lr.language=hr.decodeString(_r.slice(Cr,Cr+3),br),Cr+=3,Hr=hr.findZero(_r,Cr,Dr,Ar),Lr.description=hr.decodeString(_r.slice(Cr,Hr),Ar),Cr=Hr+qr,Lr.text=hr.decodeString(_r.slice(Cr,Dr),Ar).replace(/\x00+$/,""),Or=[Lr];break;case"UFID":Or=$s.readIdentifierAndData(_r,Cr,Dr,br),Or={owner_identifier:Or.id,identifier:Or.data};break;case"PRIV":Or=$s.readIdentifierAndData(_r,Cr,Dr,br),Or={owner_identifier:Or.id,data:Or.data};break;case"POPM":Hr=hr.findZero(_r,Cr,Dr,br);const Br=hr.decodeString(_r.slice(Cr,Hr),br);Cr=Hr+1;const Ur=Dr-Cr;Or={email:Br,rating:cr.UINT8.get(_r,Cr),counter:Ur>=5?cr.UINT32_BE.get(_r,Cr+1):void 0};break;case"GEOB":{Hr=hr.findZero(_r,Cr+1,Dr,Ar);const Kr=hr.decodeString(_r.slice(Cr+1,Hr),br);Cr=Hr+1,Hr=hr.findZero(_r,Cr,Dr-Cr,Ar);const Yr=hr.decodeString(_r.slice(Cr,Hr),br);Cr=Hr+1,Hr=hr.findZero(_r,Cr,Dr-Cr,Ar);const Wr=hr.decodeString(_r.slice(Cr,Hr),br);Or={type:Kr,filename:Yr,description:Wr,data:_r.slice(Cr+1,Dr)};break}case"WCOM":case"WCOP":case"WOAF":case"WOAR":case"WOAS":case"WORS":case"WPAY":case"WPUB":Or=hr.decodeString(_r.slice(Cr,Hr),br);break;case"WXXX":{Hr=hr.findZero(_r,Cr+1,Dr,Ar);const Kr=hr.decodeString(_r.slice(Cr+1,Hr),Ar);Cr=Hr+(Ar==="utf16le"?2:1),Or={description:Kr,url:hr.decodeString(_r.slice(Cr,Dr),br)};break}case"WFD":case"WFED":Or=hr.decodeString(_r.slice(Cr+1,hr.findZero(_r,Cr+1,Dr,Ar)),Ar);break;case"MCDI":{Or=_r.slice(0,Dr);break}default:gr("Warning: unsupported id3v2-tag-type: "+wr);break}return Or}static fixPictureMimeType(_r){switch(_r=_r.toLocaleLowerCase(),_r){case"jpg":return"image/jpeg";case"png":return"image/png"}return _r}static functionList(_r){const wr={};for(let Er=0;Er+1<_r.length;Er+=2){const Ar=_r[Er+1].split(",");wr[_r[Er]]=wr.hasOwnProperty(_r[Er])?wr[_r[Er]].concat(Ar):Ar}return wr}splitValue(_r,wr){let Er;return this.major<4?(Er=wr.split(/\x00/g),Er.length>1?this.warningCollector.addWarning(`ID3v2.${this.major} ${_r} uses non standard null-separator.`):Er=wr.split(/\//g)):Er=wr.split(/\x00/g),$s.trimArray(Er)}static trimArray(_r){return _r.map(wr=>wr.replace(/\x00+$/,"").trim())}static readIdentifierAndData(_r,wr,Er,Ar){const kr=hr.findZero(_r,wr,Er,Ar),Dr=hr.decodeString(_r.slice(wr,kr),Ar);return wr=kr+$s.getNullTerminatorLength(Ar),{id:Dr,data:_r.slice(wr,Er)}}static getNullTerminatorLength(_r){return _r==="utf16le"?2:1}};return FrameParser.FrameParser=vr,FrameParser}var hasRequiredID3v2Parser;function requireID3v2Parser(){if(hasRequiredID3v2Parser)return ID3v2Parser;hasRequiredID3v2Parser=1,Object.defineProperty(ID3v2Parser,"__esModule",{value:!0}),ID3v2Parser.ID3v2Parser=void 0;const ur=requireLib$2(),cr=requireUtil$1(),hr=requireFrameParser(),dr=requireID3v2Token();let mr=class wl{static removeUnsyncBytes(br){let yr=0,Tr=0;for(;yr<br.length-1;)yr!==Tr&&(br[Tr]=br[yr]),yr+=br[yr]===255&&br[yr+1]===0?2:1,Tr++;return yr<br.length&&(br[Tr++]=br[yr]),br.slice(0,Tr)}static getFrameHeaderLength(br){switch(br){case 2:return 6;case 3:case 4:return 10;default:throw new Error("header versionIndex is incorrect")}}static readFrameFlags(br){return{status:{tag_alter_preservation:cr.getBit(br,0,6),file_alter_preservation:cr.getBit(br,0,5),read_only:cr.getBit(br,0,4)},format:{grouping_identity:cr.getBit(br,1,7),compression:cr.getBit(br,1,3),encryption:cr.getBit(br,1,2),unsynchronisation:cr.getBit(br,1,1),data_length_indicator:cr.getBit(br,1,0)}}}static readFrameData(br,yr,Tr,vr,Sr){const _r=new hr.FrameParser(Tr,Sr);switch(Tr){case 2:return _r.readData(br,yr.id,vr);case 3:case 4:return yr.flags.format.unsynchronisation&&(br=wl.removeUnsyncBytes(br)),yr.flags.format.data_length_indicator&&(br=br.slice(4,br.length)),_r.readData(br,yr.id,vr);default:throw new Error("Unexpected majorVer: "+Tr)}}static makeDescriptionTagName(br,yr){return br+(yr?":"+yr:"")}async parse(br,yr,Tr){this.tokenizer=yr,this.metadata=br,this.options=Tr;const vr=await this.tokenizer.readToken(dr.ID3v2Header);if(vr.fileIdentifier!=="ID3")throw new Error("expected ID3-header file-identifier 'ID3' was not found");return this.id3Header=vr,this.headerType="ID3v2."+vr.version.major,vr.flags.isExtendedHeader?this.parseExtendedHeader():this.parseId3Data(vr.size)}async parseExtendedHeader(){const br=await this.tokenizer.readToken(dr.ExtendedHeader),yr=br.size-dr.ExtendedHeader.len;return yr>0?this.parseExtendedHeaderData(yr,br.size):this.parseId3Data(this.id3Header.size-br.size)}async parseExtendedHeaderData(br,yr){return await this.tokenizer.ignore(br),this.parseId3Data(this.id3Header.size-yr)}async parseId3Data(br){const yr=await this.tokenizer.readToken(new ur.Uint8ArrayType(br));for(const Tr of this.parseMetadata(yr))if(Tr.id==="TXXX"){if(Tr.value)for(const vr of Tr.value.text)this.addTag(wl.makeDescriptionTagName(Tr.id,Tr.value.description),vr)}else if(Tr.id==="COM")for(const vr of Tr.value)this.addTag(wl.makeDescriptionTagName(Tr.id,vr.description),vr.text);else if(Tr.id==="COMM")for(const vr of Tr.value)this.addTag(wl.makeDescriptionTagName(Tr.id,vr.description),vr);else if(Array.isArray(Tr.value))for(const vr of Tr.value)this.addTag(Tr.id,vr);else this.addTag(Tr.id,Tr.value)}addTag(br,yr){this.metadata.addTag(this.headerType,br,yr)}parseMetadata(br){let yr=0;const Tr=[];for(;yr!==br.length;){const vr=wl.getFrameHeaderLength(this.id3Header.version.major);if(yr+vr>br.length){this.metadata.addWarning("Illegal ID3v2 tag length");break}const Sr=br.slice(yr,yr+=vr),_r=this.readFrameHeader(Sr,this.id3Header.version.major),wr=br.slice(yr,yr+=_r.length),Er=wl.readFrameData(wr,_r,this.id3Header.version.major,!this.options.skipCovers,this.metadata);Er&&Tr.push({id:_r.id,value:Er})}return Tr}readFrameHeader(br,yr){let Tr;switch(yr){case 2:Tr={id:Buffer.from(br.slice(0,3)).toString("ascii"),length:ur.UINT24_BE.get(br,3)},Tr.id.match(/[A-Z0-9]{3}/g)||this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${Tr.id}`);break;case 3:case 4:Tr={id:Buffer.from(br.slice(0,4)).toString("ascii"),length:(yr===4?dr.UINT32SYNCSAFE:ur.UINT32_BE).get(br,4),flags:wl.readFrameFlags(br.slice(8,10))},Tr.id.match(/[A-Z0-9]{4}/g)||this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${Tr.id}`);break;default:throw new Error("Unexpected majorVer: "+yr)}return Tr}};return ID3v2Parser.ID3v2Parser=mr,ID3v2Parser}var AiffToken={},hasRequiredAiffToken;function requireAiffToken(){if(hasRequiredAiffToken)return AiffToken;hasRequiredAiffToken=1,Object.defineProperty(AiffToken,"__esModule",{value:!0}),AiffToken.Common=void 0;const ur=requireLib$2(),cr=requireFourCC();class hr{constructor(mr,gr){this.isAifc=gr;const br=gr?22:18;if(mr.chunkSize<br)throw new Error(`COMMON CHUNK size should always be at least ${br}`);this.len=mr.chunkSize}get(mr,gr){const br=mr.readUInt16BE(gr+8)-16398,yr=mr.readUInt16BE(gr+8+2),Tr={numChannels:mr.readUInt16BE(gr),numSampleFrames:mr.readUInt32BE(gr+2),sampleSize:mr.readUInt16BE(gr+6),sampleRate:br<0?yr>>Math.abs(br):yr<<br};if(this.isAifc){if(Tr.compressionType=cr.FourCcToken.get(mr,gr+18),this.len>22){const vr=mr.readInt8(gr+22);if(vr>0){const Sr=(vr+1)%2;if(23+vr+Sr===this.len)Tr.compressionName=new ur.StringType(vr,"binary").get(mr,gr+23);else throw new Error("Illegal pstring length")}else Tr.compressionName=void 0}}else Tr.compressionName="PCM";return Tr}}return AiffToken.Common=hr,AiffToken}var iff={},hasRequiredIff;function requireIff(){if(hasRequiredIff)return iff;hasRequiredIff=1,Object.defineProperty(iff,"__esModule",{value:!0}),iff.Header=void 0;const ur=requireLib$2(),cr=requireFourCC();return iff.Header={len:8,get:(hr,dr)=>({chunkID:cr.FourCcToken.get(hr,dr),chunkSize:Number(BigInt(ur.UINT32_BE.get(hr,dr+4)))})},iff}var hasRequiredAiffParser;function requireAiffParser(){if(hasRequiredAiffParser)return AiffParser;hasRequiredAiffParser=1,Object.defineProperty(AiffParser,"__esModule",{value:!0}),AiffParser.AIFFParser=void 0;const ur=requireLib$2(),cr=requireBrowser$3(),hr=requireCore$2(),dr=requireID3v2Parser(),mr=requireFourCC(),gr=requireBasicParser(),br=requireAiffToken(),yr=requireIff(),Tr=(0,cr.default)("music-metadata:parser:aiff"),vr={NONE:"not compressed	PCM	Apple Computer",sowt:"PCM (byte swapped)",fl32:"32-bit floating point IEEE 32-bit float",fl64:"64-bit floating point IEEE 64-bit float	Apple Computer",alaw:"ALaw 2:1	8-bit ITU-T G.711 A-law",ulaw:"Law 2:1	8-bit ITU-T G.711 -law	Apple Computer",ULAW:"CCITT G.711 u-law 8-bit ITU-T G.711 -law",ALAW:"CCITT G.711 A-law 8-bit ITU-T G.711 A-law",FL32:"Float 32	IEEE 32-bit float "};class Sr extends gr.BasicParser{async parse(){if((await this.tokenizer.readToken(yr.Header)).chunkID!=="FORM")throw new Error("Invalid Chunk-ID, expected 'FORM'");const Er=await this.tokenizer.readToken(mr.FourCcToken);switch(Er){case"AIFF":this.metadata.setFormat("container",Er),this.isCompressed=!1;break;case"AIFC":this.metadata.setFormat("container","AIFF-C"),this.isCompressed=!0;break;default:throw Error("Unsupported AIFF type: "+Er)}this.metadata.setFormat("lossless",!this.isCompressed);try{for(;!this.tokenizer.fileInfo.size||this.tokenizer.fileInfo.size-this.tokenizer.position>=yr.Header.len;){Tr("Reading AIFF chunk at offset="+this.tokenizer.position);const Ar=await this.tokenizer.readToken(yr.Header),kr=2*Math.round(Ar.chunkSize/2),Dr=await this.readData(Ar);await this.tokenizer.ignore(kr-Dr)}}catch(Ar){if(Ar instanceof hr.EndOfStreamError)Tr("End-of-stream");else throw Ar}}async readData(wr){var Er;switch(wr.chunkID){case"COMM":const Ar=await this.tokenizer.readToken(new br.Common(wr,this.isCompressed));return this.metadata.setFormat("bitsPerSample",Ar.sampleSize),this.metadata.setFormat("sampleRate",Ar.sampleRate),this.metadata.setFormat("numberOfChannels",Ar.numChannels),this.metadata.setFormat("numberOfSamples",Ar.numSampleFrames),this.metadata.setFormat("duration",Ar.numSampleFrames/Ar.sampleRate),this.metadata.setFormat("codec",(Er=Ar.compressionName)!==null&&Er!==void 0?Er:vr[Ar.compressionType]),wr.chunkSize;case"ID3 ":const kr=await this.tokenizer.readToken(new ur.Uint8ArrayType(wr.chunkSize)),Dr=hr.fromBuffer(kr);return await new dr.ID3v2Parser().parse(this.metadata,Dr,this.options),wr.chunkSize;case"SSND":return this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*wr.chunkSize/this.metadata.format.duration),0;case"NAME":case"AUTH":case"(c) ":case"ANNO":return this.readTextChunk(wr);default:return Tr(`Ignore chunk id=${wr.chunkID}, size=${wr.chunkSize}`),0}}async readTextChunk(wr){return(await this.tokenizer.readToken(new ur.StringType(wr.chunkSize,"ascii"))).split("\0").map(Ar=>Ar.trim()).filter(Ar=>Ar&&Ar.length>0).forEach(Ar=>{this.metadata.addTag("AIFF",wr.chunkID,Ar.trim())}),wr.chunkSize}}return AiffParser.AIFFParser=Sr,AiffParser}var AsfParser={},GUID={},hasRequiredGUID;function requireGUID(){if(hasRequiredGUID)return GUID;hasRequiredGUID=1,Object.defineProperty(GUID,"__esModule",{value:!0});let ur=class Qs{static fromBin(hr,dr=0){return new Qs(this.decode(hr,dr))}static decode(hr,dr=0){return(hr.readUInt32LE(dr).toString(16)+"-"+hr.readUInt16LE(dr+4).toString(16)+"-"+hr.readUInt16LE(dr+6).toString(16)+"-"+hr.readUInt16BE(dr+8).toString(16)+"-"+hr.slice(dr+10,dr+16).toString("hex")).toUpperCase()}static decodeMediaType(hr){switch(hr.str){case Qs.AudioMedia.str:return"audio";case Qs.VideoMedia.str:return"video";case Qs.CommandMedia.str:return"command";case Qs.Degradable_JPEG_Media.str:return"degradable-jpeg";case Qs.FileTransferMedia.str:return"file-transfer";case Qs.BinaryMedia.str:return"binary"}}static encode(hr){const dr=Buffer.alloc(16);return dr.writeUInt32LE(parseInt(hr.slice(0,8),16),0),dr.writeUInt16LE(parseInt(hr.slice(9,13),16),4),dr.writeUInt16LE(parseInt(hr.slice(14,18),16),6),Buffer.from(hr.slice(19,23),"hex").copy(dr,8),Buffer.from(hr.slice(24),"hex").copy(dr,10),dr}constructor(hr){this.str=hr}equals(hr){return this.str===hr.str}toBin(){return Qs.encode(this.str)}};return ur.HeaderObject=new ur("75B22630-668E-11CF-A6D9-00AA0062CE6C"),ur.DataObject=new ur("75B22636-668E-11CF-A6D9-00AA0062CE6C"),ur.SimpleIndexObject=new ur("33000890-E5B1-11CF-89F4-00A0C90349CB"),ur.IndexObject=new ur("D6E229D3-35DA-11D1-9034-00A0C90349BE"),ur.MediaObjectIndexObject=new ur("FEB103F8-12AD-4C64-840F-2A1D2F7AD48C"),ur.TimecodeIndexObject=new ur("3CB73FD0-0C4A-4803-953D-EDF7B6228F0C"),ur.FilePropertiesObject=new ur("8CABDCA1-A947-11CF-8EE4-00C00C205365"),ur.StreamPropertiesObject=new ur("B7DC0791-A9B7-11CF-8EE6-00C00C205365"),ur.HeaderExtensionObject=new ur("5FBF03B5-A92E-11CF-8EE3-00C00C205365"),ur.CodecListObject=new ur("86D15240-311D-11D0-A3A4-00A0C90348F6"),ur.ScriptCommandObject=new ur("1EFB1A30-0B62-11D0-A39B-00A0C90348F6"),ur.MarkerObject=new ur("F487CD01-A951-11CF-8EE6-00C00C205365"),ur.BitrateMutualExclusionObject=new ur("D6E229DC-35DA-11D1-9034-00A0C90349BE"),ur.ErrorCorrectionObject=new ur("75B22635-668E-11CF-A6D9-00AA0062CE6C"),ur.ContentDescriptionObject=new ur("75B22633-668E-11CF-A6D9-00AA0062CE6C"),ur.ExtendedContentDescriptionObject=new ur("D2D0A440-E307-11D2-97F0-00A0C95EA850"),ur.ContentBrandingObject=new ur("2211B3FA-BD23-11D2-B4B7-00A0C955FC6E"),ur.StreamBitratePropertiesObject=new ur("7BF875CE-468D-11D1-8D82-006097C9A2B2"),ur.ContentEncryptionObject=new ur("2211B3FB-BD23-11D2-B4B7-00A0C955FC6E"),ur.ExtendedContentEncryptionObject=new ur("298AE614-2622-4C17-B935-DAE07EE9289C"),ur.DigitalSignatureObject=new ur("2211B3FC-BD23-11D2-B4B7-00A0C955FC6E"),ur.PaddingObject=new ur("1806D474-CADF-4509-A4BA-9AABCB96AAE8"),ur.ExtendedStreamPropertiesObject=new ur("14E6A5CB-C672-4332-8399-A96952065B5A"),ur.AdvancedMutualExclusionObject=new ur("A08649CF-4775-4670-8A16-6E35357566CD"),ur.GroupMutualExclusionObject=new ur("D1465A40-5A79-4338-B71B-E36B8FD6C249"),ur.StreamPrioritizationObject=new ur("D4FED15B-88D3-454F-81F0-ED5C45999E24"),ur.BandwidthSharingObject=new ur("A69609E6-517B-11D2-B6AF-00C04FD908E9"),ur.LanguageListObject=new ur("7C4346A9-EFE0-4BFC-B229-393EDE415C85"),ur.MetadataObject=new ur("C5F8CBEA-5BAF-4877-8467-AA8C44FA4CCA"),ur.MetadataLibraryObject=new ur("44231C94-9498-49D1-A141-1D134E457054"),ur.IndexParametersObject=new ur("D6E229DF-35DA-11D1-9034-00A0C90349BE"),ur.MediaObjectIndexParametersObject=new ur("6B203BAD-3F11-48E4-ACA8-D7613DE2CFA7"),ur.TimecodeIndexParametersObject=new ur("F55E496D-9797-4B5D-8C8B-604DFE9BFB24"),ur.CompatibilityObject=new ur("26F18B5D-4584-47EC-9F5F-0E651F0452C9"),ur.AdvancedContentEncryptionObject=new ur("43058533-6981-49E6-9B74-AD12CB86D58C"),ur.AudioMedia=new ur("F8699E40-5B4D-11CF-A8FD-00805F5C442B"),ur.VideoMedia=new ur("BC19EFC0-5B4D-11CF-A8FD-00805F5C442B"),ur.CommandMedia=new ur("59DACFC0-59E6-11D0-A3AC-00A0C90348F6"),ur.JFIF_Media=new ur("B61BE100-5B4E-11CF-A8FD-00805F5C442B"),ur.Degradable_JPEG_Media=new ur("35907DE0-E415-11CF-A917-00805F5C442B"),ur.FileTransferMedia=new ur("91BD222C-F21C-497A-8B6D-5AA86BFC0185"),ur.BinaryMedia=new ur("3AFB65E2-47EF-40F2-AC2C-70A90D71D343"),ur.ASF_Index_Placeholder_Object=new ur("D9AADE20-7C17-4F9C-BC28-8555DD98E2A2"),GUID.default=ur,GUID}var AsfObject={},AsfUtil={},hasRequiredAsfUtil;function requireAsfUtil(){if(hasRequiredAsfUtil)return AsfUtil;hasRequiredAsfUtil=1,Object.defineProperty(AsfUtil,"__esModule",{value:!0}),AsfUtil.AsfUtil=void 0;const ur=requireLib$2(),cr=requireUtil$1();let hr=class Ud{static getParserForAttr(mr){return Ud.attributeParsers[mr]}static parseUnicodeAttr(mr){return cr.stripNulls(cr.decodeString(mr,"utf16le"))}static parseByteArrayAttr(mr){return Buffer.from(mr)}static parseBoolAttr(mr,gr=0){return Ud.parseWordAttr(mr,gr)===1}static parseDWordAttr(mr,gr=0){return mr.readUInt32LE(gr)}static parseQWordAttr(mr,gr=0){return ur.UINT64_LE.get(mr,gr)}static parseWordAttr(mr,gr=0){return mr.readUInt16LE(gr)}};return hr.attributeParsers=[hr.parseUnicodeAttr,hr.parseByteArrayAttr,hr.parseBoolAttr,hr.parseDWordAttr,hr.parseQWordAttr,hr.parseWordAttr,hr.parseByteArrayAttr],AsfUtil.AsfUtil=hr,AsfUtil}var hasRequiredAsfObject;function requireAsfObject(){return hasRequiredAsfObject||(hasRequiredAsfObject=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.WmPictureToken=ur.MetadataLibraryObjectState=ur.MetadataObjectState=ur.ExtendedStreamPropertiesObjectState=ur.ExtendedContentDescriptionObjectState=ur.ContentDescriptionObjectState=ur.readCodecEntries=ur.HeaderExtensionObject=ur.StreamPropertiesObject=ur.FilePropertiesObject=ur.IgnoreObjectState=ur.State=ur.HeaderObjectToken=ur.TopLevelHeaderObjectToken=ur.DataType=void 0;const cr=requireUtil$1(),hr=requireLib$2(),dr=requireGUID(),mr=requireAsfUtil(),gr=requireID3v2Token();(function(jr){jr[jr.UnicodeString=0]="UnicodeString",jr[jr.ByteArray=1]="ByteArray",jr[jr.Bool=2]="Bool",jr[jr.DWord=3]="DWord",jr[jr.QWord=4]="QWord",jr[jr.Word=5]="Word"})(ur.DataType||(ur.DataType={})),ur.TopLevelHeaderObjectToken={len:30,get:(jr,Br)=>({objectId:dr.default.fromBin(new hr.BufferType(16).get(jr,Br)),objectSize:Number(hr.UINT64_LE.get(jr,Br+16)),numberOfHeaderObjects:hr.UINT32_LE.get(jr,Br+24)})},ur.HeaderObjectToken={len:24,get:(jr,Br)=>({objectId:dr.default.fromBin(new hr.BufferType(16).get(jr,Br)),objectSize:Number(hr.UINT64_LE.get(jr,Br+16))})};class br{constructor(Br){this.len=Number(Br.objectSize)-ur.HeaderObjectToken.len}postProcessTag(Br,Ur,Kr,Yr){if(Ur==="WM/Picture")Br.push({id:Ur,value:Lr.fromBuffer(Yr)});else{const Wr=mr.AsfUtil.getParserForAttr(Kr);if(!Wr)throw new Error("unexpected value headerType: "+Kr);Br.push({id:Ur,value:Wr(Yr)})}}}ur.State=br;class yr extends br{constructor(Br){super(Br)}get(Br,Ur){return null}}ur.IgnoreObjectState=yr;class Tr extends br{constructor(Br){super(Br)}get(Br,Ur){return{fileId:dr.default.fromBin(Br,Ur),fileSize:hr.UINT64_LE.get(Br,Ur+16),creationDate:hr.UINT64_LE.get(Br,Ur+24),dataPacketsCount:hr.UINT64_LE.get(Br,Ur+32),playDuration:hr.UINT64_LE.get(Br,Ur+40),sendDuration:hr.UINT64_LE.get(Br,Ur+48),preroll:hr.UINT64_LE.get(Br,Ur+56),flags:{broadcast:cr.getBit(Br,Ur+64,24),seekable:cr.getBit(Br,Ur+64,25)},minimumDataPacketSize:hr.UINT32_LE.get(Br,Ur+68),maximumDataPacketSize:hr.UINT32_LE.get(Br,Ur+72),maximumBitrate:hr.UINT32_LE.get(Br,Ur+76)}}}Tr.guid=dr.default.FilePropertiesObject,ur.FilePropertiesObject=Tr;class vr extends br{constructor(Br){super(Br)}get(Br,Ur){return{streamType:dr.default.decodeMediaType(dr.default.fromBin(Br,Ur)),errorCorrectionType:dr.default.fromBin(Br,Ur+8)}}}vr.guid=dr.default.StreamPropertiesObject,ur.StreamPropertiesObject=vr;class Sr{constructor(){this.len=22}get(Br,Ur){return{reserved1:dr.default.fromBin(Br,Ur),reserved2:Br.readUInt16LE(Ur+16),extensionDataSize:Br.readUInt32LE(Ur+18)}}}Sr.guid=dr.default.HeaderExtensionObject,ur.HeaderExtensionObject=Sr;const _r={len:20,get:(jr,Br)=>({entryCount:jr.readUInt16LE(Br+16)})};async function wr(jr){const Br=await jr.readNumber(hr.UINT16_LE);return(await jr.readToken(new hr.StringType(Br*2,"utf16le"))).replace("\0","")}async function Er(jr){const Br=await jr.readToken(_r),Ur=[];for(let Kr=0;Kr<Br.entryCount;++Kr)Ur.push(await kr(jr));return Ur}ur.readCodecEntries=Er;async function Ar(jr){const Br=await jr.readNumber(hr.UINT16_LE),Ur=Buffer.alloc(Br);return await jr.readBuffer(Ur),Ur}async function kr(jr){const Br=await jr.readNumber(hr.UINT16_LE);return{type:{videoCodec:(Br&1)===1,audioCodec:(Br&2)===2},codecName:await wr(jr),description:await wr(jr),information:await Ar(jr)}}class Dr extends br{constructor(Br){super(Br)}get(Br,Ur){const Kr=[];let Yr=Ur+10;for(let Wr=0;Wr<Dr.contentDescTags.length;++Wr){const sa=Br.readUInt16LE(Ur+Wr*2);if(sa>0){const ta=Dr.contentDescTags[Wr],oa=Yr+sa;Kr.push({id:ta,value:mr.AsfUtil.parseUnicodeAttr(Br.slice(Yr,oa))}),Yr=oa}}return Kr}}Dr.guid=dr.default.ContentDescriptionObject,Dr.contentDescTags=["Title","Author","Copyright","Description","Rating"],ur.ContentDescriptionObjectState=Dr;class Cr extends br{constructor(Br){super(Br)}get(Br,Ur){const Kr=[],Yr=Br.readUInt16LE(Ur);let Wr=Ur+2;for(let sa=0;sa<Yr;sa+=1){const ta=Br.readUInt16LE(Wr);Wr+=2;const oa=mr.AsfUtil.parseUnicodeAttr(Br.slice(Wr,Wr+ta));Wr+=ta;const Ia=Br.readUInt16LE(Wr);Wr+=2;const $r=Br.readUInt16LE(Wr);Wr+=2;const xa=Br.slice(Wr,Wr+$r);Wr+=$r,this.postProcessTag(Kr,oa,Ia,xa)}return Kr}}Cr.guid=dr.default.ExtendedContentDescriptionObject,ur.ExtendedContentDescriptionObjectState=Cr;class Or extends br{constructor(Br){super(Br)}get(Br,Ur){return{startTime:hr.UINT64_LE.get(Br,Ur),endTime:hr.UINT64_LE.get(Br,Ur+8),dataBitrate:Br.readInt32LE(Ur+12),bufferSize:Br.readInt32LE(Ur+16),initialBufferFullness:Br.readInt32LE(Ur+20),alternateDataBitrate:Br.readInt32LE(Ur+24),alternateBufferSize:Br.readInt32LE(Ur+28),alternateInitialBufferFullness:Br.readInt32LE(Ur+32),maximumObjectSize:Br.readInt32LE(Ur+36),flags:{reliableFlag:cr.getBit(Br,Ur+40,0),seekableFlag:cr.getBit(Br,Ur+40,1),resendLiveCleanpointsFlag:cr.getBit(Br,Ur+40,2)},streamNumber:Br.readInt16LE(Ur+42),streamLanguageId:Br.readInt16LE(Ur+44),averageTimePerFrame:Br.readInt32LE(Ur+52),streamNameCount:Br.readInt32LE(Ur+54),payloadExtensionSystems:Br.readInt32LE(Ur+56),streamNames:[],streamPropertiesObject:null}}}Or.guid=dr.default.ExtendedStreamPropertiesObject,ur.ExtendedStreamPropertiesObjectState=Or;class qr extends br{constructor(Br){super(Br)}get(Br,Ur){const Kr=[],Yr=Buffer.from(Br),Wr=Yr.readUInt16LE(Ur);let sa=Ur+2;for(let ta=0;ta<Wr;ta+=1){sa+=4;const oa=Yr.readUInt16LE(sa);sa+=2;const Ia=Yr.readUInt16LE(sa);sa+=2;const $r=Yr.readUInt32LE(sa);sa+=4;const xa=mr.AsfUtil.parseUnicodeAttr(Yr.slice(sa,sa+oa));sa+=oa;const ua=Yr.slice(sa,sa+$r);sa+=$r,this.postProcessTag(Kr,xa,Ia,ua)}return Kr}}qr.guid=dr.default.MetadataObject,ur.MetadataObjectState=qr;class Hr extends qr{constructor(Br){super(Br)}}Hr.guid=dr.default.MetadataLibraryObject,ur.MetadataLibraryObjectState=Hr;class Lr{static fromBase64(Br){return this.fromBuffer(Buffer.from(Br,"base64"))}static fromBuffer(Br){return new Lr(Br.length).get(Br,0)}constructor(Br){this.len=Br}get(Br,Ur){const Kr=Br.readUInt8(Ur++),Yr=Br.readInt32LE(Ur);let Wr=5;for(;Br.readUInt16BE(Wr)!==0;)Wr+=2;const sa=Br.slice(5,Wr).toString("utf16le");for(;Br.readUInt16BE(Wr)!==0;)Wr+=2;const ta=Br.slice(5,Wr).toString("utf16le");return{type:gr.AttachedPictureType[Kr],format:sa,description:ta,size:Yr,data:Br.slice(Wr+4)}}}ur.WmPictureToken=Lr})(AsfObject)),AsfObject}var hasRequiredAsfParser;function requireAsfParser(){if(hasRequiredAsfParser)return AsfParser;hasRequiredAsfParser=1,Object.defineProperty(AsfParser,"__esModule",{value:!0}),AsfParser.AsfParser=void 0;const ur=requireBrowser$3(),cr=requireType(),hr=requireGUID(),dr=requireAsfObject(),mr=requireBasicParser(),gr=(0,ur.default)("music-metadata:parser:ASF"),br="asf";let yr=class extends mr.BasicParser{async parse(){const vr=await this.tokenizer.readToken(dr.TopLevelHeaderObjectToken);if(!vr.objectId.equals(hr.default.HeaderObject))throw new Error("expected asf header; but was not found; got: "+vr.objectId.str);try{await this.parseObjectHeader(vr.numberOfHeaderObjects)}catch(Sr){gr("Error while parsing ASF: %s",Sr)}}async parseObjectHeader(vr){let Sr;do{const _r=await this.tokenizer.readToken(dr.HeaderObjectToken);switch(gr("header GUID=%s",_r.objectId.str),_r.objectId.str){case dr.FilePropertiesObject.guid.str:const wr=await this.tokenizer.readToken(new dr.FilePropertiesObject(_r));this.metadata.setFormat("duration",Number(wr.playDuration/BigInt(1e3))/1e4-Number(wr.preroll)/1e3),this.metadata.setFormat("bitrate",wr.maximumBitrate);break;case dr.StreamPropertiesObject.guid.str:const Er=await this.tokenizer.readToken(new dr.StreamPropertiesObject(_r));this.metadata.setFormat("container","ASF/"+Er.streamType);break;case dr.HeaderExtensionObject.guid.str:const Ar=await this.tokenizer.readToken(new dr.HeaderExtensionObject);await this.parseExtensionObject(Ar.extensionDataSize);break;case dr.ContentDescriptionObjectState.guid.str:Sr=await this.tokenizer.readToken(new dr.ContentDescriptionObjectState(_r)),this.addTags(Sr);break;case dr.ExtendedContentDescriptionObjectState.guid.str:Sr=await this.tokenizer.readToken(new dr.ExtendedContentDescriptionObjectState(_r)),this.addTags(Sr);break;case hr.default.CodecListObject.str:const kr=await dr.readCodecEntries(this.tokenizer);kr.forEach(Cr=>{this.metadata.addStreamInfo({type:Cr.type.videoCodec?cr.TrackType.video:cr.TrackType.audio,codecName:Cr.codecName})});const Dr=kr.filter(Cr=>Cr.type.audioCodec).map(Cr=>Cr.codecName).join("/");this.metadata.setFormat("codec",Dr);break;case hr.default.StreamBitratePropertiesObject.str:await this.tokenizer.ignore(_r.objectSize-dr.HeaderObjectToken.len);break;case hr.default.PaddingObject.str:gr("Padding: %s bytes",_r.objectSize-dr.HeaderObjectToken.len),await this.tokenizer.ignore(_r.objectSize-dr.HeaderObjectToken.len);break;default:this.metadata.addWarning("Ignore ASF-Object-GUID: "+_r.objectId.str),gr("Ignore ASF-Object-GUID: %s",_r.objectId.str),await this.tokenizer.readToken(new dr.IgnoreObjectState(_r))}}while(--vr)}addTags(vr){vr.forEach(Sr=>{this.metadata.addTag(br,Sr.id,Sr.value)})}async parseExtensionObject(vr){do{const Sr=await this.tokenizer.readToken(dr.HeaderObjectToken),_r=Sr.objectSize-dr.HeaderObjectToken.len;switch(Sr.objectId.str){case dr.ExtendedStreamPropertiesObjectState.guid.str:await this.tokenizer.readToken(new dr.ExtendedStreamPropertiesObjectState(Sr));break;case dr.MetadataObjectState.guid.str:const wr=await this.tokenizer.readToken(new dr.MetadataObjectState(Sr));this.addTags(wr);break;case dr.MetadataLibraryObjectState.guid.str:const Er=await this.tokenizer.readToken(new dr.MetadataLibraryObjectState(Sr));this.addTags(Er);break;case hr.default.PaddingObject.str:await this.tokenizer.ignore(_r);break;case hr.default.CompatibilityObject.str:this.tokenizer.ignore(_r);break;case hr.default.ASF_Index_Placeholder_Object.str:await this.tokenizer.ignore(_r);break;default:this.metadata.addWarning("Ignore ASF-Object-GUID: "+Sr.objectId.str),await this.tokenizer.readToken(new dr.IgnoreObjectState(Sr));break}vr-=Sr.objectSize}while(vr>0)}};return AsfParser.AsfParser=yr,AsfParser}var FlacParser={},Vorbis={},hasRequiredVorbis;function requireVorbis(){if(hasRequiredVorbis)return Vorbis;hasRequiredVorbis=1,Object.defineProperty(Vorbis,"__esModule",{value:!0}),Vorbis.IdentificationHeader=Vorbis.CommonHeader=Vorbis.VorbisPictureToken=void 0;const ur=requireLib$2(),cr=requireID3v2Token();class hr{static fromBase64(mr){return this.fromBuffer(Buffer.from(mr,"base64"))}static fromBuffer(mr){return new hr(mr.length).get(mr,0)}constructor(mr){this.len=mr}get(mr,gr){const br=cr.AttachedPictureType[ur.UINT32_BE.get(mr,gr)],yr=ur.UINT32_BE.get(mr,gr+=4),Tr=mr.toString("utf-8",gr+=4,gr+yr),vr=ur.UINT32_BE.get(mr,gr+=yr),Sr=mr.toString("utf-8",gr+=4,gr+vr),_r=ur.UINT32_BE.get(mr,gr+=vr),wr=ur.UINT32_BE.get(mr,gr+=4),Er=ur.UINT32_BE.get(mr,gr+=4),Ar=ur.UINT32_BE.get(mr,gr+=4),kr=ur.UINT32_BE.get(mr,gr+=4),Dr=Buffer.from(mr.slice(gr+=4,gr+kr));return{type:br,format:Tr,description:Sr,width:_r,height:wr,colour_depth:Er,indexed_color:Ar,data:Dr}}}return Vorbis.VorbisPictureToken=hr,Vorbis.CommonHeader={len:7,get:(dr,mr)=>({packetType:dr.readUInt8(mr),vorbis:new ur.StringType(6,"ascii").get(dr,mr+1)})},Vorbis.IdentificationHeader={len:23,get:(dr,mr)=>{const gr=new DataView(dr.buffer,dr.byteOffset);return{version:gr.getUint32(mr+0,!0),channelMode:gr.getUint8(mr+4),sampleRate:gr.getUint32(mr+5,!0),bitrateMax:gr.getUint32(mr+9,!0),bitrateNominal:gr.getUint32(mr+13,!0),bitrateMin:gr.getUint32(mr+17,!0)}}},Vorbis}var AbstractID3Parser={},hasRequiredAbstractID3Parser;function requireAbstractID3Parser(){if(hasRequiredAbstractID3Parser)return AbstractID3Parser;hasRequiredAbstractID3Parser=1,Object.defineProperty(AbstractID3Parser,"__esModule",{value:!0}),AbstractID3Parser.AbstractID3Parser=void 0;const ur=requireCore$2(),cr=requireBrowser$3(),hr=requireID3v2Token(),dr=requireID3v2Parser(),mr=requireID3v1Parser(),gr=requireBasicParser(),br=(0,cr.default)("music-metadata:parser:ID3");let yr=class extends gr.BasicParser{constructor(){super(...arguments),this.id3parser=new dr.ID3v2Parser}static async startsWithID3v2Header(vr){return(await vr.peekToken(hr.ID3v2Header)).fileIdentifier==="ID3"}async parse(){try{await this.parseID3v2()}catch(vr){if(vr instanceof ur.EndOfStreamError)br("End-of-stream");else throw vr}}finalize(){}async parseID3v2(){await this.tryReadId3v2Headers(),br("End of ID3v2 header, go to MPEG-parser: pos=%s",this.tokenizer.position),await this.postId3v2Parse(),this.options.skipPostHeaders&&this.metadata.hasAny()?this.finalize():(await new mr.ID3v1Parser().init(this.metadata,this.tokenizer,this.options).parse(),this.finalize())}async tryReadId3v2Headers(){if((await this.tokenizer.peekToken(hr.ID3v2Header)).fileIdentifier==="ID3")return br("Found ID3v2 header, pos=%s",this.tokenizer.position),await this.id3parser.parse(this.metadata,this.tokenizer,this.options),this.tryReadId3v2Headers()}};return AbstractID3Parser.AbstractID3Parser=yr,AbstractID3Parser}var VorbisParser={},VorbisDecoder={},hasRequiredVorbisDecoder;function requireVorbisDecoder(){if(hasRequiredVorbisDecoder)return VorbisDecoder;hasRequiredVorbisDecoder=1,Object.defineProperty(VorbisDecoder,"__esModule",{value:!0}),VorbisDecoder.VorbisDecoder=void 0;const ur=requireLib$2();let cr=class{constructor(dr,mr){this.data=dr,this.offset=mr}readInt32(){const dr=ur.UINT32_LE.get(this.data,this.offset);return this.offset+=4,dr}readStringUtf8(){const dr=this.readInt32(),mr=Buffer.from(this.data).toString("utf-8",this.offset,this.offset+dr);return this.offset+=dr,mr}parseUserComment(){const dr=this.offset,mr=this.readStringUtf8(),gr=mr.indexOf("=");return{key:mr.slice(0,gr).toUpperCase(),value:mr.slice(gr+1),len:this.offset-dr}}};return VorbisDecoder.VorbisDecoder=cr,VorbisDecoder}var hasRequiredVorbisParser;function requireVorbisParser(){if(hasRequiredVorbisParser)return VorbisParser;hasRequiredVorbisParser=1,Object.defineProperty(VorbisParser,"__esModule",{value:!0}),VorbisParser.VorbisParser=void 0;const ur=requireLib$2(),cr=requireBrowser$3(),hr=requireVorbisDecoder(),dr=requireVorbis(),mr=(0,cr.default)("music-metadata:parser:ogg:vorbis1");let gr=class{constructor(yr,Tr){this.metadata=yr,this.options=Tr,this.pageSegments=[]}parsePage(yr,Tr){if(yr.headerType.firstPage)this.parseFirstPage(yr,Tr);else{if(yr.headerType.continued){if(this.pageSegments.length===0)throw new Error("Cannot continue on previous page");this.pageSegments.push(Tr)}if(yr.headerType.lastPage||!yr.headerType.continued){if(this.pageSegments.length>0){const vr=Buffer.concat(this.pageSegments);this.parseFullPage(vr)}this.pageSegments=yr.headerType.lastPage?[]:[Tr]}}yr.headerType.lastPage&&this.calculateDuration(yr)}flush(){this.parseFullPage(Buffer.concat(this.pageSegments))}parseUserComment(yr,Tr){const Sr=new hr.VorbisDecoder(yr,Tr).parseUserComment();return this.addTag(Sr.key,Sr.value),Sr.len}addTag(yr,Tr){if(yr==="METADATA_BLOCK_PICTURE"&&typeof Tr=="string"){if(this.options.skipCovers){mr("Ignore picture");return}Tr=dr.VorbisPictureToken.fromBase64(Tr),mr(`Push picture: id=${yr}, format=${Tr.format}`)}else mr(`Push tag: id=${yr}, value=${Tr}`);this.metadata.addTag("vorbis",yr,Tr)}calculateDuration(yr){this.metadata.format.sampleRate&&yr.absoluteGranulePosition>=0&&(this.metadata.setFormat("numberOfSamples",yr.absoluteGranulePosition),this.metadata.setFormat("duration",this.metadata.format.numberOfSamples/this.metadata.format.sampleRate))}parseFirstPage(yr,Tr){this.metadata.setFormat("codec","Vorbis I"),mr("Parse first page");const vr=dr.CommonHeader.get(Tr,0);if(vr.vorbis!=="vorbis")throw new Error("Metadata does not look like Vorbis");if(vr.packetType===1){const Sr=dr.IdentificationHeader.get(Tr,dr.CommonHeader.len);this.metadata.setFormat("sampleRate",Sr.sampleRate),this.metadata.setFormat("bitrate",Sr.bitrateNominal),this.metadata.setFormat("numberOfChannels",Sr.channelMode),mr("sample-rate=%s[hz], bitrate=%s[b/s], channel-mode=%s",Sr.sampleRate,Sr.bitrateNominal,Sr.channelMode)}else throw new Error("First Ogg page should be type 1: the identification header")}parseFullPage(yr){const Tr=dr.CommonHeader.get(yr,0);switch(mr("Parse full page: type=%s, byteLength=%s",Tr.packetType,yr.byteLength),Tr.packetType){case 3:return this.parseUserCommentList(yr,dr.CommonHeader.len)}}parseUserCommentList(yr,Tr){const vr=ur.UINT32_LE.get(yr,Tr);Tr+=4,Tr+=vr;let Sr=ur.UINT32_LE.get(yr,Tr);for(Tr+=4;Sr-- >0;)Tr+=this.parseUserComment(yr,Tr)}};return VorbisParser.VorbisParser=gr,VorbisParser}var hasRequiredFlacParser;function requireFlacParser(){if(hasRequiredFlacParser)return FlacParser;hasRequiredFlacParser=1,Object.defineProperty(FlacParser,"__esModule",{value:!0}),FlacParser.FlacParser=void 0;const ur=requireLib$2(),cr=requireBrowser$3(),hr=requireUtil$1(),dr=requireVorbis(),mr=requireAbstractID3Parser(),gr=requireFourCC(),br=requireVorbisParser(),yr=requireVorbisDecoder(),Tr=(0,cr.default)("music-metadata:parser:FLAC");var vr;(function(wr){wr[wr.STREAMINFO=0]="STREAMINFO",wr[wr.PADDING=1]="PADDING",wr[wr.APPLICATION=2]="APPLICATION",wr[wr.SEEKTABLE=3]="SEEKTABLE",wr[wr.VORBIS_COMMENT=4]="VORBIS_COMMENT",wr[wr.CUESHEET=5]="CUESHEET",wr[wr.PICTURE=6]="PICTURE"})(vr||(vr={}));let Sr=class extends mr.AbstractID3Parser{constructor(){super(...arguments),this.padding=0}init(Er,Ar,kr){return super.init(Er,Ar,kr),this.vorbisParser=new br.VorbisParser(Er,kr),this}async postId3v2Parse(){if((await this.tokenizer.readToken(gr.FourCcToken)).toString()!=="fLaC")throw new Error("Invalid FLAC preamble");let Ar;do Ar=await this.tokenizer.readToken(_r.BlockHeader),await this.parseDataBlock(Ar);while(!Ar.lastBlock);if(this.tokenizer.fileInfo.size&&this.metadata.format.duration){const kr=this.tokenizer.fileInfo.size-this.tokenizer.position;this.metadata.setFormat("bitrate",8*kr/this.metadata.format.duration)}}parseDataBlock(Er){switch(Tr(`blockHeader type=${Er.type}, length=${Er.length}`),Er.type){case vr.STREAMINFO:return this.parseBlockStreamInfo(Er.length);case vr.PADDING:this.padding+=Er.length;break;case vr.APPLICATION:break;case vr.SEEKTABLE:break;case vr.VORBIS_COMMENT:return this.parseComment(Er.length);case vr.CUESHEET:break;case vr.PICTURE:return this.parsePicture(Er.length).then();default:this.metadata.addWarning("Unknown block type: "+Er.type)}return this.tokenizer.ignore(Er.length).then()}async parseBlockStreamInfo(Er){if(Er!==_r.BlockStreamInfo.len)throw new Error("Unexpected block-stream-info length");const Ar=await this.tokenizer.readToken(_r.BlockStreamInfo);this.metadata.setFormat("container","FLAC"),this.metadata.setFormat("codec","FLAC"),this.metadata.setFormat("lossless",!0),this.metadata.setFormat("numberOfChannels",Ar.channels),this.metadata.setFormat("bitsPerSample",Ar.bitsPerSample),this.metadata.setFormat("sampleRate",Ar.sampleRate),Ar.totalSamples>0&&this.metadata.setFormat("duration",Ar.totalSamples/Ar.sampleRate)}async parseComment(Er){const Ar=await this.tokenizer.readToken(new ur.Uint8ArrayType(Er)),kr=new yr.VorbisDecoder(Ar,0);kr.readStringUtf8();const Dr=kr.readInt32();for(let Cr=0;Cr<Dr;Cr++){const Or=kr.parseUserComment();this.vorbisParser.addTag(Or.key,Or.value)}}async parsePicture(Er){if(this.options.skipCovers)return this.tokenizer.ignore(Er);{const Ar=await this.tokenizer.readToken(new dr.VorbisPictureToken(Er));this.vorbisParser.addTag("METADATA_BLOCK_PICTURE",Ar)}}};FlacParser.FlacParser=Sr;class _r{}return _r.BlockHeader={len:4,get:(wr,Er)=>({lastBlock:hr.getBit(wr,Er,7),type:hr.getBitAllignedNumber(wr,Er,1,7),length:ur.UINT24_BE.get(wr,Er+1)})},_r.BlockStreamInfo={len:34,get:(wr,Er)=>({minimumBlockSize:ur.UINT16_BE.get(wr,Er),maximumBlockSize:ur.UINT16_BE.get(wr,Er+2)/1e3,minimumFrameSize:ur.UINT24_BE.get(wr,Er+4),maximumFrameSize:ur.UINT24_BE.get(wr,Er+7),sampleRate:ur.UINT24_BE.get(wr,Er+10)>>4,channels:hr.getBitAllignedNumber(wr,Er+12,4,3)+1,bitsPerSample:hr.getBitAllignedNumber(wr,Er+12,7,5)+1,totalSamples:hr.getBitAllignedNumber(wr,Er+13,4,36),fileMD5:new ur.Uint8ArrayType(16).get(wr,Er+18)})},FlacParser}var MP4Parser={},Atom={},AtomToken={},hasRequiredAtomToken;function requireAtomToken(){return hasRequiredAtomToken||(hasRequiredAtomToken=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.ChapterText=ur.StcoAtom=ur.StszAtom=ur.StscAtom=ur.SampleToChunkToken=ur.SttsAtom=ur.TimeToSampleToken=ur.SoundSampleDescriptionV0=ur.SoundSampleDescriptionVersion=ur.StsdAtom=ur.TrackHeaderAtom=ur.NameAtom=ur.DataAtom=ur.MvhdAtom=ur.MdhdAtom=ur.FixedLengthAtom=ur.mhdr=ur.tkhd=ur.ftyp=ur.ExtendedSize=ur.Header=void 0;const cr=requireLib$2(),hr=requireBrowser$3(),dr=requireFourCC(),mr=(0,hr.default)("music-metadata:parser:MP4:atom");ur.Header={len:8,get:(jr,Br)=>{const Ur=cr.UINT32_BE.get(jr,Br);if(Ur<0)throw new Error("Invalid atom header length");return{length:BigInt(Ur),name:new cr.StringType(4,"binary").get(jr,Br+4)}},put:(jr,Br,Ur)=>(cr.UINT32_BE.put(jr,Br,Number(Ur.length)),dr.FourCcToken.put(jr,Br+4,Ur.name))},ur.ExtendedSize=cr.UINT64_BE,ur.ftyp={len:4,get:(jr,Br)=>({type:new cr.StringType(4,"ascii").get(jr,Br)})},ur.tkhd={len:4,get:(jr,Br)=>({type:new cr.StringType(4,"ascii").get(jr,Br)})},ur.mhdr={len:8,get:(jr,Br)=>({version:cr.UINT8.get(jr,Br),flags:cr.UINT24_BE.get(jr,Br+1),nextItemID:cr.UINT32_BE.get(jr,Br+4)})};class gr{constructor(Br,Ur,Kr){if(this.len=Br,Br<Ur)throw new Error(`Atom ${Kr} expected to be ${Ur}, but specifies ${Br} bytes long.`);Br>Ur&&mr(`Warning: atom ${Kr} expected to be ${Ur}, but was actually ${Br} bytes long.`)}}ur.FixedLengthAtom=gr;const br={len:4,get:(jr,Br)=>{const Ur=cr.UINT32_BE.get(jr,Br)-2082844800;return new Date(Ur*1e3)}};class yr extends gr{constructor(Br){super(Br,24,"mdhd"),this.len=Br}get(Br,Ur){return{version:cr.UINT8.get(Br,Ur+0),flags:cr.UINT24_BE.get(Br,Ur+1),creationTime:br.get(Br,Ur+4),modificationTime:br.get(Br,Ur+8),timeScale:cr.UINT32_BE.get(Br,Ur+12),duration:cr.UINT32_BE.get(Br,Ur+16),language:cr.UINT16_BE.get(Br,Ur+20),quality:cr.UINT16_BE.get(Br,Ur+22)}}}ur.MdhdAtom=yr;class Tr extends gr{constructor(Br){super(Br,100,"mvhd"),this.len=Br}get(Br,Ur){return{version:cr.UINT8.get(Br,Ur),flags:cr.UINT24_BE.get(Br,Ur+1),creationTime:br.get(Br,Ur+4),modificationTime:br.get(Br,Ur+8),timeScale:cr.UINT32_BE.get(Br,Ur+12),duration:cr.UINT32_BE.get(Br,Ur+16),preferredRate:cr.UINT32_BE.get(Br,Ur+20),preferredVolume:cr.UINT16_BE.get(Br,Ur+24),previewTime:cr.UINT32_BE.get(Br,Ur+72),previewDuration:cr.UINT32_BE.get(Br,Ur+76),posterTime:cr.UINT32_BE.get(Br,Ur+80),selectionTime:cr.UINT32_BE.get(Br,Ur+84),selectionDuration:cr.UINT32_BE.get(Br,Ur+88),currentTime:cr.UINT32_BE.get(Br,Ur+92),nextTrackID:cr.UINT32_BE.get(Br,Ur+96)}}}ur.MvhdAtom=Tr;class vr{constructor(Br){this.len=Br}get(Br,Ur){return{type:{set:cr.UINT8.get(Br,Ur+0),type:cr.UINT24_BE.get(Br,Ur+1)},locale:cr.UINT24_BE.get(Br,Ur+4),value:Buffer.from(new cr.Uint8ArrayType(this.len-8).get(Br,Ur+8))}}}ur.DataAtom=vr;class Sr{constructor(Br){this.len=Br}get(Br,Ur){return{version:cr.UINT8.get(Br,Ur),flags:cr.UINT24_BE.get(Br,Ur+1),name:new cr.StringType(this.len-4,"utf-8").get(Br,Ur+4)}}}ur.NameAtom=Sr;class _r{constructor(Br){this.len=Br}get(Br,Ur){return{version:cr.UINT8.get(Br,Ur),flags:cr.UINT24_BE.get(Br,Ur+1),creationTime:br.get(Br,Ur+4),modificationTime:br.get(Br,Ur+8),trackId:cr.UINT32_BE.get(Br,Ur+12),duration:cr.UINT32_BE.get(Br,Ur+20),layer:cr.UINT16_BE.get(Br,Ur+24),alternateGroup:cr.UINT16_BE.get(Br,Ur+26),volume:cr.UINT16_BE.get(Br,Ur+28)}}}ur.TrackHeaderAtom=_r;const wr={len:8,get:(jr,Br)=>({version:cr.UINT8.get(jr,Br),flags:cr.UINT24_BE.get(jr,Br+1),numberOfEntries:cr.UINT32_BE.get(jr,Br+4)})};class Er{constructor(Br){this.len=Br}get(Br,Ur){return{dataFormat:dr.FourCcToken.get(Br,Ur),dataReferenceIndex:cr.UINT16_BE.get(Br,Ur+10),description:new cr.Uint8ArrayType(this.len-12).get(Br,Ur+12)}}}class Ar{constructor(Br){this.len=Br}get(Br,Ur){const Kr=wr.get(Br,Ur);Ur+=wr.len;const Yr=[];for(let Wr=0;Wr<Kr.numberOfEntries;++Wr){const sa=cr.UINT32_BE.get(Br,Ur);Ur+=cr.UINT32_BE.len,Yr.push(new Er(sa).get(Br,Ur)),Ur+=sa}return{header:Kr,table:Yr}}}ur.StsdAtom=Ar,ur.SoundSampleDescriptionVersion={len:8,get(jr,Br){return{version:cr.INT16_BE.get(jr,Br),revision:cr.INT16_BE.get(jr,Br+2),vendor:cr.INT32_BE.get(jr,Br+4)}}},ur.SoundSampleDescriptionV0={len:12,get(jr,Br){return{numAudioChannels:cr.INT16_BE.get(jr,Br+0),sampleSize:cr.INT16_BE.get(jr,Br+2),compressionId:cr.INT16_BE.get(jr,Br+4),packetSize:cr.INT16_BE.get(jr,Br+6),sampleRate:cr.UINT16_BE.get(jr,Br+8)+cr.UINT16_BE.get(jr,Br+10)/1e4}}};class kr{constructor(Br,Ur){this.len=Br,this.token=Ur}get(Br,Ur){const Kr=cr.INT32_BE.get(Br,Ur+4);return{version:cr.INT8.get(Br,Ur+0),flags:cr.INT24_BE.get(Br,Ur+1),numberOfEntries:Kr,entries:Lr(Br,this.token,Ur+8,this.len-8,Kr)}}}ur.TimeToSampleToken={len:8,get(jr,Br){return{count:cr.INT32_BE.get(jr,Br+0),duration:cr.INT32_BE.get(jr,Br+4)}}};class Dr extends kr{constructor(Br){super(Br,ur.TimeToSampleToken),this.len=Br}}ur.SttsAtom=Dr,ur.SampleToChunkToken={len:12,get(jr,Br){return{firstChunk:cr.INT32_BE.get(jr,Br),samplesPerChunk:cr.INT32_BE.get(jr,Br+4),sampleDescriptionId:cr.INT32_BE.get(jr,Br+8)}}};class Cr extends kr{constructor(Br){super(Br,ur.SampleToChunkToken),this.len=Br}}ur.StscAtom=Cr;class Or{constructor(Br){this.len=Br}get(Br,Ur){const Kr=cr.INT32_BE.get(Br,Ur+8);return{version:cr.INT8.get(Br,Ur),flags:cr.INT24_BE.get(Br,Ur+1),sampleSize:cr.INT32_BE.get(Br,Ur+4),numberOfEntries:Kr,entries:Lr(Br,cr.INT32_BE,Ur+12,this.len-12,Kr)}}}ur.StszAtom=Or;class qr extends kr{constructor(Br){super(Br,cr.INT32_BE),this.len=Br}}ur.StcoAtom=qr;class Hr{constructor(Br){this.len=Br}get(Br,Ur){const Kr=cr.INT16_BE.get(Br,Ur+0);return new cr.StringType(Kr,"utf-8").get(Br,Ur+2)}}ur.ChapterText=Hr;function Lr(jr,Br,Ur,Kr,Yr){if(mr(`remainingLen=${Kr}, numberOfEntries=${Yr} * token-len=${Br.len}`),Kr===0)return[];if(Kr!==Yr*Br.len)throw new Error("mismatch number-of-entries with remaining atom-length");const Wr=[];for(let sa=0;sa<Yr;++sa)Wr.push(Br.get(jr,Ur)),Ur+=Br.len;return Wr}})(AtomToken)),AtomToken}var hasRequiredAtom;function requireAtom(){if(hasRequiredAtom)return Atom;hasRequiredAtom=1,Object.defineProperty(Atom,"__esModule",{value:!0}),Atom.Atom=void 0;const ur=requireBrowser$3(),cr=requireAtomToken(),hr=(0,ur.default)("music-metadata:parser:MP4:Atom");let dr=class zd{static async readAtom(gr,br,yr,Tr){const vr=gr.position,Sr=await gr.readToken(cr.Header);Sr.length===BigInt(1)&&(Sr.length=await gr.readToken(cr.ExtendedSize));const wr=new zd(Sr,Sr.length===BigInt(1),yr),Er=wr.getPayloadLength(Tr);return hr(`parse atom name=${wr.atomPath}, extended=${wr.extended}, offset=${vr}, len=${wr.header.length}`),await wr.readData(gr,br,Er),wr}constructor(gr,br,yr){this.header=gr,this.extended=br,this.parent=yr,this.children=[],this.atomPath=(this.parent?this.parent.atomPath+".":"")+this.header.name}getHeaderLength(){return this.extended?16:8}getPayloadLength(gr){return(this.header.length===BigInt(0)?gr:Number(this.header.length))-this.getHeaderLength()}async readAtoms(gr,br,yr){for(;yr>0;){const Tr=await zd.readAtom(gr,br,this,yr);this.children.push(Tr),yr-=Tr.header.length===BigInt(0)?yr:Number(Tr.header.length)}}async readData(gr,br,yr){switch(this.header.name){case"moov":case"udta":case"trak":case"mdia":case"minf":case"stbl":case"<id>":case"ilst":case"tref":return this.readAtoms(gr,br,this.getPayloadLength(yr));case"meta":const vr=(await gr.peekToken(cr.Header)).name==="hdlr"?0:4;return await gr.ignore(vr),this.readAtoms(gr,br,this.getPayloadLength(yr)-vr);case"mdhd":case"mvhd":case"tkhd":case"stsz":case"mdat":default:return br(this,yr)}}};return Atom.Atom=dr,Atom}var hasRequiredMP4Parser;function requireMP4Parser(){if(hasRequiredMP4Parser)return MP4Parser;hasRequiredMP4Parser=1,Object.defineProperty(MP4Parser,"__esModule",{value:!0}),MP4Parser.MP4Parser=void 0;const ur=requireBrowser$3(),cr=requireLib$2(),hr=requireBasicParser(),dr=requireID3v1Parser(),mr=requireType(),gr=requireAtom(),br=requireAtomToken(),yr=(0,ur.default)("music-metadata:parser:MP4"),Tr="iTunes",vr={raw:{lossy:!1,format:"raw"},MAC3:{lossy:!0,format:"MACE 3:1"},MAC6:{lossy:!0,format:"MACE 6:1"},ima4:{lossy:!0,format:"IMA 4:1"},ulaw:{lossy:!0,format:"uLaw 2:1"},alaw:{lossy:!0,format:"uLaw 2:1"},Qclp:{lossy:!0,format:"QUALCOMM PureVoice"},".mp3":{lossy:!0,format:"MPEG-1 layer 3"},alac:{lossy:!1,format:"ALAC"},"ac-3":{lossy:!0,format:"AC-3"},mp4a:{lossy:!0,format:"MPEG-4/AAC"},mp4s:{lossy:!0,format:"MP4S"},c608:{lossy:!0,format:"CEA-608"},c708:{lossy:!0,format:"CEA-708"}};function Sr(wr,Er,Ar){return Ar.indexOf(wr)===Er}let _r=class jd extends hr.BasicParser{constructor(){super(...arguments),this.atomParsers={mvhd:async Er=>{const Ar=await this.tokenizer.readToken(new br.MvhdAtom(Er));this.metadata.setFormat("creationTime",Ar.creationTime),this.metadata.setFormat("modificationTime",Ar.modificationTime)},mdhd:async Er=>{const Ar=await this.tokenizer.readToken(new br.MdhdAtom(Er)),kr=this.getTrackDescription();kr.creationTime=Ar.creationTime,kr.modificationTime=Ar.modificationTime,kr.timeScale=Ar.timeScale,kr.duration=Ar.duration},chap:async Er=>{const Ar=this.getTrackDescription(),kr=[];for(;Er>=cr.UINT32_BE.len;)kr.push(await this.tokenizer.readNumber(cr.UINT32_BE)),Er-=cr.UINT32_BE.len;Ar.chapterList=kr},tkhd:async Er=>{const Ar=await this.tokenizer.readToken(new br.TrackHeaderAtom(Er));this.tracks.push(Ar)},mdat:async Er=>{if(this.audioLengthInBytes=Er,this.calculateBitRate(),this.options.includeChapters){const Ar=this.tracks.filter(kr=>kr.chapterList);if(Ar.length===1){const kr=Ar[0].chapterList,Dr=this.tracks.filter(Cr=>kr.indexOf(Cr.trackId)!==-1);if(Dr.length===1)return this.parseChapterTrack(Dr[0],Ar[0],Er)}}await this.tokenizer.ignore(Er)},ftyp:async Er=>{const Ar=[];for(;Er>0;){const Dr=await this.tokenizer.readToken(br.ftyp);Er-=br.ftyp.len;const Cr=Dr.type.replace(/\W/g,"");Cr.length>0&&Ar.push(Cr)}yr(`ftyp: ${Ar.join("/")}`);const kr=Ar.filter(Sr).join("/");this.metadata.setFormat("container",kr)},stsd:async Er=>{const Ar=await this.tokenizer.readToken(new br.StsdAtom(Er)),kr=this.getTrackDescription();kr.soundSampleDescription=Ar.table.map(Dr=>this.parseSoundSampleDescription(Dr))},stsc:async Er=>{const Ar=await this.tokenizer.readToken(new br.StscAtom(Er));this.getTrackDescription().sampleToChunkTable=Ar.entries},stts:async Er=>{const Ar=await this.tokenizer.readToken(new br.SttsAtom(Er));this.getTrackDescription().timeToSampleTable=Ar.entries},stsz:async Er=>{const Ar=await this.tokenizer.readToken(new br.StszAtom(Er)),kr=this.getTrackDescription();kr.sampleSize=Ar.sampleSize,kr.sampleSizeTable=Ar.entries},stco:async Er=>{const Ar=await this.tokenizer.readToken(new br.StcoAtom(Er));this.getTrackDescription().chunkOffsetTable=Ar.entries},date:async Er=>{const Ar=await this.tokenizer.readToken(new cr.StringType(Er,"utf-8"));this.addTag("date",Ar)}}}static read_BE_Integer(Er,Ar){const kr=(Ar?"INT":"UINT")+Er.length*8+(Er.length>1?"_BE":""),Dr=cr[kr];if(!Dr)throw new Error('Token for integer type not found: "'+kr+'"');return Number(Dr.get(Er,0))}async parse(){this.tracks=[];let Er=this.tokenizer.fileInfo.size;for(;!this.tokenizer.fileInfo.size||Er>0;){try{if((await this.tokenizer.peekToken(br.Header)).name==="\0\0\0\0"){const Or=`Error at offset=${this.tokenizer.position}: box.id=0`;yr(Or),this.addWarning(Or);break}}catch(Cr){const Or=`Error at offset=${this.tokenizer.position}: ${Cr.message}`;yr(Or),this.addWarning(Or);break}const Dr=await gr.Atom.readAtom(this.tokenizer,(Cr,Or)=>this.handleAtom(Cr,Or),null,Er);Er-=Dr.header.length===BigInt(0)?Er:Number(Dr.header.length)}const Ar=[];this.tracks.forEach(Dr=>{const Cr=[];Dr.soundSampleDescription.forEach(Or=>{const qr={},Hr=vr[Or.dataFormat];if(Hr?(Cr.push(Hr.format),qr.codecName=Hr.format):qr.codecName=`<${Or.dataFormat}>`,Or.description){const{description:Lr}=Or;Lr.sampleRate>0&&(qr.type=mr.TrackType.audio,qr.audio={samplingFrequency:Lr.sampleRate,bitDepth:Lr.sampleSize,channels:Lr.numAudioChannels})}this.metadata.addStreamInfo(qr)}),Cr.length>=1&&Ar.push(Cr.join("/"))}),Ar.length>0&&this.metadata.setFormat("codec",Ar.filter(Sr).join("+"));const kr=this.tracks.filter(Dr=>Dr.soundSampleDescription.length>=1&&Dr.soundSampleDescription[0].description&&Dr.soundSampleDescription[0].description.numAudioChannels>0);if(kr.length>=1){const Dr=kr[0];if(Dr.timeScale>0){const qr=Dr.duration/Dr.timeScale;this.metadata.setFormat("duration",qr)}const Cr=Dr.soundSampleDescription[0];if(Cr.description&&(this.metadata.setFormat("sampleRate",Cr.description.sampleRate),this.metadata.setFormat("bitsPerSample",Cr.description.sampleSize),this.metadata.setFormat("numberOfChannels",Cr.description.numAudioChannels),Dr.timeScale===0&&Dr.timeToSampleTable.length>0)){const Hr=Dr.timeToSampleTable.map(Lr=>Lr.count*Lr.duration).reduce((Lr,jr)=>Lr+jr)/Cr.description.sampleRate;this.metadata.setFormat("duration",Hr)}const Or=vr[Cr.dataFormat];Or&&this.metadata.setFormat("lossless",!Or.lossy),this.calculateBitRate()}}async handleAtom(Er,Ar){if(Er.parent)switch(Er.parent.header.name){case"ilst":case"<id>":return this.parseMetadataItemData(Er)}if(this.atomParsers[Er.header.name])return this.atomParsers[Er.header.name](Ar);yr(`No parser for atom path=${Er.atomPath}, payload-len=${Ar}, ignoring atom`),await this.tokenizer.ignore(Ar)}getTrackDescription(){return this.tracks[this.tracks.length-1]}calculateBitRate(){this.audioLengthInBytes&&this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*this.audioLengthInBytes/this.metadata.format.duration)}addTag(Er,Ar){this.metadata.addTag(Tr,Er,Ar)}addWarning(Er){yr("Warning: "+Er),this.metadata.addWarning(Er)}parseMetadataItemData(Er){let Ar=Er.header.name;return Er.readAtoms(this.tokenizer,async(kr,Dr)=>{const Cr=kr.getPayloadLength(Dr);switch(kr.header.name){case"data":return this.parseValueAtom(Ar,kr);case"name":case"mean":case"rate":const Or=await this.tokenizer.readToken(new br.NameAtom(Cr));Ar+=":"+Or.name;break;default:const qr=await this.tokenizer.readToken(new cr.BufferType(Cr));this.addWarning("Unsupported meta-item: "+Ar+"["+kr.header.name+"] => value="+qr.toString("hex")+" ascii="+qr.toString("ascii"))}},Er.getPayloadLength(0))}async parseValueAtom(Er,Ar){const kr=await this.tokenizer.readToken(new br.DataAtom(Number(Ar.header.length)-br.Header.len));if(kr.type.set!==0)throw new Error("Unsupported type-set != 0: "+kr.type.set);switch(kr.type.type){case 0:switch(Er){case"trkn":case"disk":const Dr=cr.UINT8.get(kr.value,3),Cr=cr.UINT8.get(kr.value,5);this.addTag(Er,Dr+"/"+Cr);break;case"gnre":const Or=cr.UINT8.get(kr.value,1),qr=dr.Genres[Or-1];this.addTag(Er,qr);break;case"rate":const Hr=kr.value.toString("ascii");this.addTag(Er,Hr);break;default:yr("unknown proprietary value type for: "+Ar.atomPath)}break;case 1:case 18:this.addTag(Er,kr.value.toString("utf-8"));break;case 13:if(this.options.skipCovers)break;this.addTag(Er,{format:"image/jpeg",data:Buffer.from(kr.value)});break;case 14:if(this.options.skipCovers)break;this.addTag(Er,{format:"image/png",data:Buffer.from(kr.value)});break;case 21:this.addTag(Er,jd.read_BE_Integer(kr.value,!0));break;case 22:this.addTag(Er,jd.read_BE_Integer(kr.value,!1));break;case 65:this.addTag(Er,kr.value.readInt8(0));break;case 66:this.addTag(Er,kr.value.readInt16BE(0));break;case 67:this.addTag(Er,kr.value.readInt32BE(0));break;default:this.addWarning(`atom key=${Er}, has unknown well-known-type (data-type): ${kr.type.type}`)}}parseSoundSampleDescription(Er){const Ar={dataFormat:Er.dataFormat,dataReferenceIndex:Er.dataReferenceIndex};let kr=0;const Dr=br.SoundSampleDescriptionVersion.get(Er.description,kr);return kr+=br.SoundSampleDescriptionVersion.len,Dr.version===0||Dr.version===1?Ar.description=br.SoundSampleDescriptionV0.get(Er.description,kr):yr(`Warning: sound-sample-description ${Dr} not implemented`),Ar}async parseChapterTrack(Er,Ar,kr){if(!Er.sampleSize&&Er.chunkOffsetTable.length!==Er.sampleSizeTable.length)throw new Error("Expected equal chunk-offset-table & sample-size-table length.");const Dr=[];for(let Cr=0;Cr<Er.chunkOffsetTable.length&&kr>0;++Cr){const qr=Er.chunkOffsetTable[Cr]-this.tokenizer.position,Hr=Er.sampleSize>0?Er.sampleSize:Er.sampleSizeTable[Cr];if(kr-=qr+Hr,kr<0)throw new Error("Chapter chunk exceeding token length");await this.tokenizer.ignore(qr);const Lr=await this.tokenizer.readToken(new br.ChapterText(Hr));yr(`Chapter ${Cr+1}: ${Lr}`);const jr={title:Lr,sampleOffset:this.findSampleOffset(Ar,this.tokenizer.position)};yr(`Chapter title=${jr.title}, offset=${jr.sampleOffset}/${this.tracks[0].duration}`),Dr.push(jr)}this.metadata.setFormat("chapters",Dr),await this.tokenizer.ignore(kr)}findSampleOffset(Er,Ar){let kr=0;Er.timeToSampleTable.forEach(Cr=>{kr+=Cr.count*Cr.duration}),yr(`Total duration=${kr}`);let Dr=0;for(;Dr<Er.chunkOffsetTable.length&&Er.chunkOffsetTable[Dr]<Ar;)++Dr;return this.getChunkDuration(Dr+1,Er)}getChunkDuration(Er,Ar){let kr=0,Dr=Ar.timeToSampleTable[kr].count,Cr=Ar.timeToSampleTable[kr].duration,Or=1,qr=this.getSamplesPerChunk(Or,Ar.sampleToChunkTable),Hr=0;for(;Or<Er;){const Lr=Math.min(Dr,qr);Hr+=Lr*Cr,Dr-=Lr,qr-=Lr,qr===0?(++Or,qr=this.getSamplesPerChunk(Or,Ar.sampleToChunkTable)):(++kr,Dr=Ar.timeToSampleTable[kr].count,Cr=Ar.timeToSampleTable[kr].duration)}return Hr}getSamplesPerChunk(Er,Ar){for(let kr=0;kr<Ar.length-1;++kr)if(Er>=Ar[kr].firstChunk&&Er<Ar[kr+1].firstChunk)return Ar[kr].samplesPerChunk;return Ar[Ar.length-1].samplesPerChunk}};return MP4Parser.MP4Parser=_r,MP4Parser}var MpegParser={},XingTag={},ExtendedLameHeader={},ReplayGainDataFormat={},hasRequiredReplayGainDataFormat;function requireReplayGainDataFormat(){if(hasRequiredReplayGainDataFormat)return ReplayGainDataFormat;hasRequiredReplayGainDataFormat=1,Object.defineProperty(ReplayGainDataFormat,"__esModule",{value:!0}),ReplayGainDataFormat.ReplayGain=void 0;const ur=requireUtil$1();var cr;(function(dr){dr[dr.not_set=0]="not_set",dr[dr.radio=1]="radio",dr[dr.audiophile=2]="audiophile"})(cr||(cr={}));var hr;return(function(dr){dr[dr.unspecified=0]="unspecified",dr[dr.engineer=1]="engineer",dr[dr.user=2]="user",dr[dr.automatic=3]="automatic",dr[dr.rms_average=4]="rms_average"})(hr||(hr={})),ReplayGainDataFormat.ReplayGain={len:2,get:(dr,mr)=>{const gr=ur.getBitAllignedNumber(dr,mr,0,3),br=ur.getBitAllignedNumber(dr,mr,6,1),yr=ur.getBitAllignedNumber(dr,mr,7,9)/10;if(gr>0)return{type:ur.getBitAllignedNumber(dr,mr,0,3),origin:ur.getBitAllignedNumber(dr,mr,3,3),adjustment:br?-yr:yr}}},ReplayGainDataFormat}var hasRequiredExtendedLameHeader;function requireExtendedLameHeader(){if(hasRequiredExtendedLameHeader)return ExtendedLameHeader;hasRequiredExtendedLameHeader=1,Object.defineProperty(ExtendedLameHeader,"__esModule",{value:!0}),ExtendedLameHeader.ExtendedLameHeader=void 0;const ur=requireLib$2(),cr=requireUtil$1(),hr=requireReplayGainDataFormat();return ExtendedLameHeader.ExtendedLameHeader={len:27,get:(dr,mr)=>{const gr=ur.UINT32_BE.get(dr,mr+2);return{revision:cr.getBitAllignedNumber(dr,mr,0,4),vbr_method:cr.getBitAllignedNumber(dr,mr,4,4),lowpass_filter:100*ur.UINT8.get(dr,mr+1),track_peak:gr===0?void 0:gr/Math.pow(2,23),track_gain:hr.ReplayGain.get(dr,6),album_gain:hr.ReplayGain.get(dr,8),music_length:ur.UINT32_BE.get(dr,mr+20),music_crc:ur.UINT8.get(dr,mr+24),header_crc:ur.UINT16_BE.get(dr,mr+24)}}},ExtendedLameHeader}var hasRequiredXingTag;function requireXingTag(){return hasRequiredXingTag||(hasRequiredXingTag=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.readXingHeader=ur.XingHeaderFlags=ur.LameEncoderVersion=ur.InfoTagHeaderTag=void 0;const cr=requireLib$2(),hr=requireUtil$1(),dr=requireExtendedLameHeader();ur.InfoTagHeaderTag=new cr.StringType(4,"ascii"),ur.LameEncoderVersion=new cr.StringType(6,"ascii"),ur.XingHeaderFlags={len:4,get:(gr,br)=>({frames:hr.isBitSet(gr,br,31),bytes:hr.isBitSet(gr,br,30),toc:hr.isBitSet(gr,br,29),vbrScale:hr.isBitSet(gr,br,28)})};async function mr(gr){const br=await gr.readToken(ur.XingHeaderFlags),yr={};if(br.frames&&(yr.numFrames=await gr.readToken(cr.UINT32_BE)),br.bytes&&(yr.streamSize=await gr.readToken(cr.UINT32_BE)),br.toc&&(yr.toc=Buffer.alloc(100),await gr.readBuffer(yr.toc)),br.vbrScale&&(yr.vbrScale=await gr.readToken(cr.UINT32_BE)),await gr.peekToken(new cr.StringType(4,"ascii"))==="LAME"&&(await gr.ignore(4),yr.lame={version:await gr.readToken(new cr.StringType(5,"ascii"))},yr.lame.version.match(/\d+.\d+/g))){const _r=yr.lame.version.match(/\d+.\d+/g)[0].split(".").map(wr=>parseInt(wr,10));_r[0]>=3&&_r[1]>=90&&(yr.lame.extended=await gr.readToken(dr.ExtendedLameHeader))}return yr}ur.readXingHeader=mr})(XingTag)),XingTag}var hasRequiredMpegParser;function requireMpegParser(){if(hasRequiredMpegParser)return MpegParser;hasRequiredMpegParser=1,Object.defineProperty(MpegParser,"__esModule",{value:!0}),MpegParser.MpegParser=void 0;const ur=requireLib$2(),cr=requireCore$2(),hr=requireBrowser$3(),dr=requireUtil$1(),mr=requireAbstractID3Parser(),gr=requireXingTag(),br=(0,hr.default)("music-metadata:parser:mpeg"),yr=1024,Tr={AudioObjectTypes:["AAC Main","AAC LC","AAC SSR","AAC LTP"],SamplingFrequencies:[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,void 0,void 0,-1]},vr=[void 0,["front-center"],["front-left","front-right"],["front-center","front-left","front-right"],["front-center","front-left","front-right","back-center"],["front-center","front-left","front-right","back-left","back-right"],["front-center","front-left","front-right","back-left","back-right","LFE-channel"],["front-center","front-left","front-right","side-left","side-right","back-left","back-right","LFE-channel"]];class Sr{constructor(kr,Dr){this.versionIndex=dr.getBitAllignedNumber(kr,Dr+1,3,2),this.layer=Sr.LayerDescription[dr.getBitAllignedNumber(kr,Dr+1,5,2)],this.versionIndex>1&&this.layer===0?this.parseAdtsHeader(kr,Dr):this.parseMpegHeader(kr,Dr),this.isProtectedByCRC=!dr.isBitSet(kr,Dr+1,7)}calcDuration(kr){return kr*this.calcSamplesPerFrame()/this.samplingRate}calcSamplesPerFrame(){return Sr.samplesInFrameTable[this.version===1?0:1][this.layer]}calculateSideInfoLength(){if(this.layer!==3)return 2;if(this.channelModeIndex===3){if(this.version===1)return 17;if(this.version===2||this.version===2.5)return 9}else{if(this.version===1)return 32;if(this.version===2||this.version===2.5)return 17}}calcSlotSize(){return[null,4,1,1][this.layer]}parseMpegHeader(kr,Dr){this.container="MPEG",this.bitrateIndex=dr.getBitAllignedNumber(kr,Dr+2,0,4),this.sampRateFreqIndex=dr.getBitAllignedNumber(kr,Dr+2,4,2),this.padding=dr.isBitSet(kr,Dr+2,6),this.privateBit=dr.isBitSet(kr,Dr+2,7),this.channelModeIndex=dr.getBitAllignedNumber(kr,Dr+3,0,2),this.modeExtension=dr.getBitAllignedNumber(kr,Dr+3,2,2),this.isCopyrighted=dr.isBitSet(kr,Dr+3,4),this.isOriginalMedia=dr.isBitSet(kr,Dr+3,5),this.emphasis=dr.getBitAllignedNumber(kr,Dr+3,7,2),this.version=Sr.VersionID[this.versionIndex],this.channelMode=Sr.ChannelMode[this.channelModeIndex],this.codec=`MPEG ${this.version} Layer ${this.layer}`;const Cr=this.calcBitrate();if(!Cr)throw new Error("Cannot determine bit-rate");if(this.bitrate=Cr*1e3,this.samplingRate=this.calcSamplingRate(),this.samplingRate==null)throw new Error("Cannot determine sampling-rate")}parseAdtsHeader(kr,Dr){br("layer=0 => ADTS"),this.version=this.versionIndex===2?4:2,this.container="ADTS/MPEG-"+this.version;const Cr=dr.getBitAllignedNumber(kr,Dr+2,0,2);this.codec="AAC",this.codecProfile=Tr.AudioObjectTypes[Cr],br(`MPEG-4 audio-codec=${this.codec}`);const Or=dr.getBitAllignedNumber(kr,Dr+2,2,4);this.samplingRate=Tr.SamplingFrequencies[Or],br(`sampling-rate=${this.samplingRate}`);const qr=dr.getBitAllignedNumber(kr,Dr+2,7,3);this.mp4ChannelConfig=vr[qr],br(`channel-config=${this.mp4ChannelConfig.join("+")}`),this.frameLength=dr.getBitAllignedNumber(kr,Dr+3,6,2)<<11}calcBitrate(){if(this.bitrateIndex===0||this.bitrateIndex===15)return;const kr=`${Math.floor(this.version)}${this.layer}`;return Sr.bitrate_index[this.bitrateIndex][kr]}calcSamplingRate(){return this.sampRateFreqIndex===3?null:Sr.sampling_rate_freq_index[this.version][this.sampRateFreqIndex]}}Sr.SyncByte1=255,Sr.SyncByte2=224,Sr.VersionID=[2.5,null,2,1],Sr.LayerDescription=[0,3,2,1],Sr.ChannelMode=["stereo","joint_stereo","dual_channel","mono"],Sr.bitrate_index={1:{11:32,12:32,13:32,21:32,22:8,23:8},2:{11:64,12:48,13:40,21:48,22:16,23:16},3:{11:96,12:56,13:48,21:56,22:24,23:24},4:{11:128,12:64,13:56,21:64,22:32,23:32},5:{11:160,12:80,13:64,21:80,22:40,23:40},6:{11:192,12:96,13:80,21:96,22:48,23:48},7:{11:224,12:112,13:96,21:112,22:56,23:56},8:{11:256,12:128,13:112,21:128,22:64,23:64},9:{11:288,12:160,13:128,21:144,22:80,23:80},10:{11:320,12:192,13:160,21:160,22:96,23:96},11:{11:352,12:224,13:192,21:176,22:112,23:112},12:{11:384,12:256,13:224,21:192,22:128,23:128},13:{11:416,12:320,13:256,21:224,22:144,23:144},14:{11:448,12:384,13:320,21:256,22:160,23:160}},Sr.sampling_rate_freq_index={1:{0:44100,1:48e3,2:32e3},2:{0:22050,1:24e3,2:16e3},2.5:{0:11025,1:12e3,2:8e3}},Sr.samplesInFrameTable=[[0,384,1152,1152],[0,384,1152,576]];const _r={len:4,get:(Ar,kr)=>new Sr(Ar,kr)};function wr(Ar){return"V"+Math.floor((100-Ar)/10)}let Er=class extends mr.AbstractID3Parser{constructor(){super(...arguments),this.frameCount=0,this.syncFrameCount=-1,this.countSkipFrameData=0,this.totalDataLength=0,this.bitrates=[],this.calculateEofDuration=!1,this.buf_frame_header=Buffer.alloc(4),this.syncPeek={buf:Buffer.alloc(yr),len:0}}async postId3v2Parse(){this.metadata.setFormat("lossless",!1);try{let kr=!1;for(;!kr;)await this.sync(),kr=await this.parseCommonMpegHeader()}catch(kr){if(kr instanceof cr.EndOfStreamError){if(br("End-of-stream"),this.calculateEofDuration){const Dr=this.frameCount*this.samplesPerFrame;this.metadata.setFormat("numberOfSamples",Dr);const Cr=Dr/this.metadata.format.sampleRate;br(`Calculate duration at EOF: ${Cr} sec.`,Cr),this.metadata.setFormat("duration",Cr)}}else throw kr}}finalize(){const kr=this.metadata.format,Dr=this.metadata.native.hasOwnProperty("ID3v1");if(kr.duration&&this.tokenizer.fileInfo.size){const Cr=this.tokenizer.fileInfo.size-this.mpegOffset-(Dr?128:0);kr.codecProfile&&kr.codecProfile[0]==="V"&&this.metadata.setFormat("bitrate",Cr*8/kr.duration)}else if(this.tokenizer.fileInfo.size&&kr.codecProfile==="CBR"){const Cr=this.tokenizer.fileInfo.size-this.mpegOffset-(Dr?128:0),Or=Math.round(Cr/this.frame_size)*this.samplesPerFrame;this.metadata.setFormat("numberOfSamples",Or);const qr=Or/kr.sampleRate;br("Calculate CBR duration based on file size: %s",qr),this.metadata.setFormat("duration",qr)}}async sync(){let kr=!1;for(;;){let Dr=0;if(this.syncPeek.len=await this.tokenizer.peekBuffer(this.syncPeek.buf,{length:yr,mayBeLess:!0}),this.syncPeek.len<=163)throw new cr.EndOfStreamError;for(;;)if(kr&&(this.syncPeek.buf[Dr]&224)===224){this.buf_frame_header[0]=Sr.SyncByte1,this.buf_frame_header[1]=this.syncPeek.buf[Dr],await this.tokenizer.ignore(Dr),br(`Sync at offset=${this.tokenizer.position-1}, frameCount=${this.frameCount}`),this.syncFrameCount===this.frameCount&&(br(`Re-synced MPEG stream, frameCount=${this.frameCount}`),this.frameCount=0,this.frame_size=0),this.syncFrameCount=this.frameCount;return}else if(kr=!1,Dr=this.syncPeek.buf.indexOf(Sr.SyncByte1,Dr),Dr===-1){if(this.syncPeek.len<this.syncPeek.buf.length)throw new cr.EndOfStreamError;await this.tokenizer.ignore(this.syncPeek.len);break}else++Dr,kr=!0}}async parseCommonMpegHeader(){this.frameCount===0&&(this.mpegOffset=this.tokenizer.position-1),await this.tokenizer.peekBuffer(this.buf_frame_header,{offset:1,length:3});let kr;try{kr=_r.get(this.buf_frame_header,0)}catch(Dr){return await this.tokenizer.ignore(1),this.metadata.addWarning("Parse error: "+Dr.message),!1}return await this.tokenizer.ignore(3),this.metadata.setFormat("container",kr.container),this.metadata.setFormat("codec",kr.codec),this.metadata.setFormat("lossless",!1),this.metadata.setFormat("sampleRate",kr.samplingRate),this.frameCount++,kr.version>=2&&kr.layer===0?this.parseAdts(kr):this.parseAudioFrameHeader(kr)}async parseAudioFrameHeader(kr){this.metadata.setFormat("numberOfChannels",kr.channelMode==="mono"?1:2),this.metadata.setFormat("bitrate",kr.bitrate),this.frameCount<20*1e4&&br("offset=%s MP%s bitrate=%s sample-rate=%s",this.tokenizer.position-4,kr.layer,kr.bitrate,kr.samplingRate);const Dr=kr.calcSlotSize();if(Dr===null)throw new Error("invalid slot_size");const Cr=kr.calcSamplesPerFrame();br(`samples_per_frame=${Cr}`);const qr=Cr/8*kr.bitrate/kr.samplingRate+(kr.padding?Dr:0);if(this.frame_size=Math.floor(qr),this.audioFrameHeader=kr,this.bitrates.push(kr.bitrate),this.frameCount===1)return this.offset=_r.len,await this.skipSideInformation(),!1;if(this.frameCount===3){if(this.areAllSame(this.bitrates)){if(this.samplesPerFrame=Cr,this.metadata.setFormat("codecProfile","CBR"),this.tokenizer.fileInfo.size)return!0}else if(this.metadata.format.duration)return!0;if(!this.options.duration)return!0}return this.options.duration&&this.frameCount===4&&(this.samplesPerFrame=Cr,this.calculateEofDuration=!0),this.offset=4,kr.isProtectedByCRC?(await this.parseCrc(),!1):(await this.skipSideInformation(),!1)}async parseAdts(kr){const Dr=Buffer.alloc(3);await this.tokenizer.readBuffer(Dr),kr.frameLength+=dr.getBitAllignedNumber(Dr,0,0,11),this.totalDataLength+=kr.frameLength,this.samplesPerFrame=1024;const Cr=kr.samplingRate/this.samplesPerFrame,qr=8*(this.frameCount===0?0:this.totalDataLength/this.frameCount)*Cr+.5;if(this.metadata.setFormat("bitrate",qr),br(`frame-count=${this.frameCount}, size=${kr.frameLength} bytes, bit-rate=${qr}`),await this.tokenizer.ignore(kr.frameLength>7?kr.frameLength-7:1),this.frameCount===3)if(this.metadata.setFormat("codecProfile",kr.codecProfile),kr.mp4ChannelConfig&&this.metadata.setFormat("numberOfChannels",kr.mp4ChannelConfig.length),this.options.duration)this.calculateEofDuration=!0;else return!0;return!1}async parseCrc(){return this.crc=await this.tokenizer.readNumber(ur.INT16_BE),this.offset+=2,this.skipSideInformation()}async skipSideInformation(){const kr=this.audioFrameHeader.calculateSideInfoLength();await this.tokenizer.readToken(new ur.Uint8ArrayType(kr)),this.offset+=kr,await this.readXtraInfoHeader()}async readXtraInfoHeader(){const kr=await this.tokenizer.readToken(gr.InfoTagHeaderTag);switch(this.offset+=gr.InfoTagHeaderTag.len,kr){case"Info":return this.metadata.setFormat("codecProfile","CBR"),this.readXingInfoHeader();case"Xing":const Cr=await this.readXingInfoHeader(),Or=wr(Cr.vbrScale);return this.metadata.setFormat("codecProfile",Or),null;case"Xtra":break;case"LAME":const qr=await this.tokenizer.readToken(gr.LameEncoderVersion);if(this.frame_size>=this.offset+gr.LameEncoderVersion.len)return this.offset+=gr.LameEncoderVersion.len,this.metadata.setFormat("tool","LAME "+qr),await this.skipFrameData(this.frame_size-this.offset),null;this.metadata.addWarning("Corrupt LAME header");break}const Dr=this.frame_size-this.offset;return Dr<0?this.metadata.addWarning("Frame "+this.frameCount+"corrupt: negative frameDataLeft"):await this.skipFrameData(Dr),null}async readXingInfoHeader(){const kr=this.tokenizer.position,Dr=await(0,gr.readXingHeader)(this.tokenizer);if(this.offset+=this.tokenizer.position-kr,Dr.lame&&(this.metadata.setFormat("tool","LAME "+dr.stripNulls(Dr.lame.version)),Dr.lame.extended&&(this.metadata.setFormat("trackPeakLevel",Dr.lame.extended.track_peak),Dr.lame.extended.track_gain&&this.metadata.setFormat("trackGain",Dr.lame.extended.track_gain.adjustment),Dr.lame.extended.album_gain&&this.metadata.setFormat("albumGain",Dr.lame.extended.album_gain.adjustment),this.metadata.setFormat("duration",Dr.lame.extended.music_length/1e3))),Dr.streamSize){const Or=this.audioFrameHeader.calcDuration(Dr.numFrames);return this.metadata.setFormat("duration",Or),br("Get duration from Xing header: %s",this.metadata.format.duration),Dr}const Cr=this.frame_size-this.offset;return await this.skipFrameData(Cr),Dr}async skipFrameData(kr){if(kr<0)throw new Error("frame-data-left cannot be negative");await this.tokenizer.ignore(kr),this.countSkipFrameData+=kr}areAllSame(kr){const Dr=kr[0];return kr.every(Cr=>Cr===Dr)}};return MpegParser.MpegParser=Er,MpegParser}var musepack={},MpcSv8Parser={},StreamVersion8={},hasRequiredStreamVersion8;function requireStreamVersion8(){if(hasRequiredStreamVersion8)return StreamVersion8;hasRequiredStreamVersion8=1,Object.defineProperty(StreamVersion8,"__esModule",{value:!0}),StreamVersion8.StreamReader=void 0;const ur=requireLib$2(),cr=requireBrowser$3(),hr=requireUtil$1(),dr=(0,cr.default)("music-metadata:parser:musepack:sv8"),mr=new ur.StringType(2,"binary"),gr={len:5,get:(Tr,vr)=>({crc:ur.UINT32_LE.get(Tr,vr),streamVersion:ur.UINT8.get(Tr,vr+4)})},br={len:2,get:(Tr,vr)=>({sampleFrequency:[44100,48e3,37800,32e3][hr.getBitAllignedNumber(Tr,vr,0,3)],maxUsedBands:hr.getBitAllignedNumber(Tr,vr,3,5),channelCount:hr.getBitAllignedNumber(Tr,vr+1,0,4)+1,msUsed:hr.isBitSet(Tr,vr+1,4),audioBlockFrames:hr.getBitAllignedNumber(Tr,vr+1,5,3)})};class yr{constructor(vr){this.tokenizer=vr}async readPacketHeader(){const vr=await this.tokenizer.readToken(mr),Sr=await this.readVariableSizeField();return{key:vr,payloadLength:Sr.value-2-Sr.len}}async readStreamHeader(vr){const Sr={};dr(`Reading SH at offset=${this.tokenizer.position}`);const _r=await this.tokenizer.readToken(gr);vr-=gr.len,Object.assign(Sr,_r),dr(`SH.streamVersion = ${_r.streamVersion}`);const wr=await this.readVariableSizeField();vr-=wr.len,Sr.sampleCount=wr.value;const Er=await this.readVariableSizeField();vr-=Er.len,Sr.beginningOfSilence=Er.value;const Ar=await this.tokenizer.readToken(br);return vr-=br.len,Object.assign(Sr,Ar),await this.tokenizer.ignore(vr),Sr}async readVariableSizeField(vr=1,Sr=0){let _r=await this.tokenizer.readNumber(ur.UINT8);return(_r&128)===0?{len:vr,value:Sr+_r}:(_r&=127,_r+=Sr,this.readVariableSizeField(vr+1,_r<<7))}}return StreamVersion8.StreamReader=yr,StreamVersion8}var hasRequiredMpcSv8Parser;function requireMpcSv8Parser(){if(hasRequiredMpcSv8Parser)return MpcSv8Parser;hasRequiredMpcSv8Parser=1,Object.defineProperty(MpcSv8Parser,"__esModule",{value:!0}),MpcSv8Parser.MpcSv8Parser=void 0;const ur=requireBrowser$3(),cr=requireBasicParser(),hr=requireAPEv2Parser(),dr=requireFourCC(),mr=requireStreamVersion8(),gr=(0,ur.default)("music-metadata:parser:musepack");let br=class extends cr.BasicParser{constructor(){super(...arguments),this.audioLength=0}async parse(){if(await this.tokenizer.readToken(dr.FourCcToken)!=="MPCK")throw new Error("Invalid Magic number");return this.metadata.setFormat("container","Musepack, SV8"),this.parsePacket()}async parsePacket(){const Tr=new mr.StreamReader(this.tokenizer);do{const vr=await Tr.readPacketHeader();switch(gr(`packet-header key=${vr.key}, payloadLength=${vr.payloadLength}`),vr.key){case"SH":const Sr=await Tr.readStreamHeader(vr.payloadLength);this.metadata.setFormat("numberOfSamples",Sr.sampleCount),this.metadata.setFormat("sampleRate",Sr.sampleFrequency),this.metadata.setFormat("duration",Sr.sampleCount/Sr.sampleFrequency),this.metadata.setFormat("numberOfChannels",Sr.channelCount);break;case"AP":this.audioLength+=vr.payloadLength,await this.tokenizer.ignore(vr.payloadLength);break;case"RG":case"EI":case"SO":case"ST":case"CT":await this.tokenizer.ignore(vr.payloadLength);break;case"SE":return this.metadata.setFormat("bitrate",this.audioLength*8/this.metadata.format.duration),hr.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options);default:throw new Error(`Unexpected header: ${vr.key}`)}}while(!0)}};return MpcSv8Parser.MpcSv8Parser=br,MpcSv8Parser}var MpcSv7Parser={},BitReader={},hasRequiredBitReader;function requireBitReader(){if(hasRequiredBitReader)return BitReader;hasRequiredBitReader=1,Object.defineProperty(BitReader,"__esModule",{value:!0}),BitReader.BitReader=void 0;const ur=requireLib$2();let cr=class{constructor(dr){this.tokenizer=dr,this.pos=0,this.dword=void 0}async read(dr){for(;this.dword===void 0;)this.dword=await this.tokenizer.readToken(ur.UINT32_LE);let mr=this.dword;return this.pos+=dr,this.pos<32?(mr>>>=32-this.pos,mr&(1<<dr)-1):(this.pos-=32,this.pos===0?(this.dword=void 0,mr&(1<<dr)-1):(this.dword=await this.tokenizer.readToken(ur.UINT32_LE),this.pos&&(mr<<=this.pos,mr|=this.dword>>>32-this.pos),mr&(1<<dr)-1))}async ignore(dr){if(this.pos>0){const br=32-this.pos;this.dword=void 0,dr-=br,this.pos=0}const mr=dr%32,gr=(dr-mr)/32;return await this.tokenizer.ignore(gr*4),this.read(mr)}};return BitReader.BitReader=cr,BitReader}var StreamVersion7={},hasRequiredStreamVersion7;function requireStreamVersion7(){if(hasRequiredStreamVersion7)return StreamVersion7;hasRequiredStreamVersion7=1,Object.defineProperty(StreamVersion7,"__esModule",{value:!0}),StreamVersion7.Header=void 0;const ur=requireLib$2(),cr=requireUtil$1();return StreamVersion7.Header={len:24,get:(hr,dr)=>{const mr={signature:Buffer.from(hr).toString("latin1",dr,dr+3),streamMinorVersion:cr.getBitAllignedNumber(hr,dr+3,0,4),streamMajorVersion:cr.getBitAllignedNumber(hr,dr+3,4,4),frameCount:ur.UINT32_LE.get(hr,dr+4),maxLevel:ur.UINT16_LE.get(hr,dr+8),sampleFrequency:[44100,48e3,37800,32e3][cr.getBitAllignedNumber(hr,dr+10,0,2)],link:cr.getBitAllignedNumber(hr,dr+10,2,2),profile:cr.getBitAllignedNumber(hr,dr+10,4,4),maxBand:cr.getBitAllignedNumber(hr,dr+11,0,6),intensityStereo:cr.isBitSet(hr,dr+11,6),midSideStereo:cr.isBitSet(hr,dr+11,7),titlePeak:ur.UINT16_LE.get(hr,dr+12),titleGain:ur.UINT16_LE.get(hr,dr+14),albumPeak:ur.UINT16_LE.get(hr,dr+16),albumGain:ur.UINT16_LE.get(hr,dr+18),lastFrameLength:ur.UINT32_LE.get(hr,dr+20)>>>20&2047,trueGapless:cr.isBitSet(hr,dr+23,0)};return mr.lastFrameLength=mr.trueGapless?ur.UINT32_LE.get(hr,20)>>>20&2047:0,mr}},StreamVersion7}var hasRequiredMpcSv7Parser;function requireMpcSv7Parser(){if(hasRequiredMpcSv7Parser)return MpcSv7Parser;hasRequiredMpcSv7Parser=1,Object.defineProperty(MpcSv7Parser,"__esModule",{value:!0}),MpcSv7Parser.MpcSv7Parser=void 0;const ur=requireBrowser$3(),cr=requireBasicParser(),hr=requireAPEv2Parser(),dr=requireBitReader(),mr=requireStreamVersion7(),gr=(0,ur.default)("music-metadata:parser:musepack");let br=class extends cr.BasicParser{constructor(){super(...arguments),this.audioLength=0}async parse(){const Tr=await this.tokenizer.readToken(mr.Header);if(Tr.signature!=="MP+")throw new Error("Unexpected magic number");gr(`stream-version=${Tr.streamMajorVersion}.${Tr.streamMinorVersion}`),this.metadata.setFormat("container","Musepack, SV7"),this.metadata.setFormat("sampleRate",Tr.sampleFrequency);const vr=1152*(Tr.frameCount-1)+Tr.lastFrameLength;this.metadata.setFormat("numberOfSamples",vr),this.duration=vr/Tr.sampleFrequency,this.metadata.setFormat("duration",this.duration),this.bitreader=new dr.BitReader(this.tokenizer),this.metadata.setFormat("numberOfChannels",Tr.midSideStereo||Tr.intensityStereo?2:1);const Sr=await this.bitreader.read(8);return this.metadata.setFormat("codec",(Sr/100).toFixed(2)),await this.skipAudioData(Tr.frameCount),gr(`End of audio stream, switching to APEv2, offset=${this.tokenizer.position}`),hr.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options)}async skipAudioData(Tr){for(;Tr-- >0;){const Sr=await this.bitreader.read(20);this.audioLength+=20+Sr,await this.bitreader.ignore(Sr)}const vr=await this.bitreader.read(11);this.audioLength+=vr,this.metadata.setFormat("bitrate",this.audioLength/this.duration)}};return MpcSv7Parser.MpcSv7Parser=br,MpcSv7Parser}var hasRequiredMusepack;function requireMusepack(){if(hasRequiredMusepack)return musepack;hasRequiredMusepack=1,Object.defineProperty(musepack,"__esModule",{value:!0});const ur=requireBrowser$3(),cr=requireLib$2(),hr=requireAbstractID3Parser(),dr=requireMpcSv8Parser(),mr=requireMpcSv7Parser(),gr=(0,ur.default)("music-metadata:parser:musepack");class br extends hr.AbstractID3Parser{async postId3v2Parse(){const Tr=await this.tokenizer.peekToken(new cr.StringType(3,"binary"));let vr;switch(Tr){case"MP+":{gr("Musepack stream-version 7"),vr=new mr.MpcSv7Parser;break}case"MPC":{gr("Musepack stream-version 8"),vr=new dr.MpcSv8Parser;break}default:throw new Error("Invalid Musepack signature prefix")}return vr.init(this.metadata,this.tokenizer,this.options),vr.parse()}}return musepack.default=br,musepack}var OggParser={},OpusParser={},Opus={},hasRequiredOpus;function requireOpus(){if(hasRequiredOpus)return Opus;hasRequiredOpus=1,Object.defineProperty(Opus,"__esModule",{value:!0}),Opus.IdHeader=void 0;const ur=requireLib$2();class cr{constructor(dr){if(this.len=dr,dr<19)throw new Error("ID-header-page 0 should be at least 19 bytes long")}get(dr,mr){return{magicSignature:new ur.StringType(8,"ascii").get(dr,mr+0),version:dr.readUInt8(mr+8),channelCount:dr.readUInt8(mr+9),preSkip:dr.readInt16LE(mr+10),inputSampleRate:dr.readInt32LE(mr+12),outputGain:dr.readInt16LE(mr+16),channelMapping:dr.readUInt8(mr+18)}}}return Opus.IdHeader=cr,Opus}var hasRequiredOpusParser;function requireOpusParser(){if(hasRequiredOpusParser)return OpusParser;hasRequiredOpusParser=1,Object.defineProperty(OpusParser,"__esModule",{value:!0}),OpusParser.OpusParser=void 0;const ur=requireLib$2(),cr=requireVorbisParser(),hr=requireOpus();let dr=class extends cr.VorbisParser{constructor(gr,br,yr){super(gr,br),this.tokenizer=yr,this.lastPos=-1}parseFirstPage(gr,br){if(this.metadata.setFormat("codec","Opus"),this.idHeader=new hr.IdHeader(br.length).get(br,0),this.idHeader.magicSignature!=="OpusHead")throw new Error("Illegal ogg/Opus magic-signature");this.metadata.setFormat("sampleRate",this.idHeader.inputSampleRate),this.metadata.setFormat("numberOfChannels",this.idHeader.channelCount)}parseFullPage(gr){switch(new ur.StringType(8,"ascii").get(gr,0)){case"OpusTags":this.parseUserCommentList(gr,8),this.lastPos=this.tokenizer.position-gr.length;break}}calculateDuration(gr){if(this.metadata.format.sampleRate&&gr.absoluteGranulePosition>=0){const br=gr.absoluteGranulePosition-this.idHeader.preSkip;if(this.metadata.setFormat("numberOfSamples",br),this.metadata.setFormat("duration",br/48e3),this.lastPos!==-1&&this.tokenizer.fileInfo.size&&this.metadata.format.duration){const yr=this.tokenizer.fileInfo.size-this.lastPos;this.metadata.setFormat("bitrate",8*yr/this.metadata.format.duration)}}}};return OpusParser.OpusParser=dr,OpusParser}var SpeexParser={},Speex={},hasRequiredSpeex;function requireSpeex(){if(hasRequiredSpeex)return Speex;hasRequiredSpeex=1,Object.defineProperty(Speex,"__esModule",{value:!0}),Speex.Header=void 0;const ur=requireLib$2(),cr=requireUtil$1();return Speex.Header={len:80,get:(hr,dr)=>({speex:new ur.StringType(8,"ascii").get(hr,dr+0),version:cr.trimRightNull(new ur.StringType(20,"ascii").get(hr,dr+8)),version_id:hr.readInt32LE(dr+28),header_size:hr.readInt32LE(dr+32),rate:hr.readInt32LE(dr+36),mode:hr.readInt32LE(dr+40),mode_bitstream_version:hr.readInt32LE(dr+44),nb_channels:hr.readInt32LE(dr+48),bitrate:hr.readInt32LE(dr+52),frame_size:hr.readInt32LE(dr+56),vbr:hr.readInt32LE(dr+60),frames_per_packet:hr.readInt32LE(dr+64),extra_headers:hr.readInt32LE(dr+68),reserved1:hr.readInt32LE(dr+72),reserved2:hr.readInt32LE(dr+76)})},Speex}var hasRequiredSpeexParser;function requireSpeexParser(){if(hasRequiredSpeexParser)return SpeexParser;hasRequiredSpeexParser=1,Object.defineProperty(SpeexParser,"__esModule",{value:!0}),SpeexParser.SpeexParser=void 0;const ur=requireBrowser$3(),cr=requireVorbisParser(),hr=requireSpeex(),dr=(0,ur.default)("music-metadata:parser:ogg:speex");let mr=class extends cr.VorbisParser{constructor(br,yr,Tr){super(br,yr),this.tokenizer=Tr}parseFirstPage(br,yr){dr("First Ogg/Speex page");const Tr=hr.Header.get(yr,0);this.metadata.setFormat("codec",`Speex ${Tr.version}`),this.metadata.setFormat("numberOfChannels",Tr.nb_channels),this.metadata.setFormat("sampleRate",Tr.rate),Tr.bitrate!==-1&&this.metadata.setFormat("bitrate",Tr.bitrate)}};return SpeexParser.SpeexParser=mr,SpeexParser}var TheoraParser={},Theora={},hasRequiredTheora;function requireTheora(){if(hasRequiredTheora)return Theora;hasRequiredTheora=1,Object.defineProperty(Theora,"__esModule",{value:!0}),Theora.IdentificationHeader=void 0;const ur=requireLib$2();return Theora.IdentificationHeader={len:42,get:(cr,hr)=>({id:new ur.StringType(7,"ascii").get(cr,hr),vmaj:cr.readUInt8(hr+7),vmin:cr.readUInt8(hr+8),vrev:cr.readUInt8(hr+9),vmbw:cr.readUInt16BE(hr+10),vmbh:cr.readUInt16BE(hr+17),nombr:ur.UINT24_BE.get(cr,hr+37),nqual:cr.readUInt8(hr+40)})},Theora}var hasRequiredTheoraParser;function requireTheoraParser(){if(hasRequiredTheoraParser)return TheoraParser;hasRequiredTheoraParser=1,Object.defineProperty(TheoraParser,"__esModule",{value:!0}),TheoraParser.TheoraParser=void 0;const ur=requireBrowser$3(),cr=requireTheora(),hr=(0,ur.default)("music-metadata:parser:ogg:theora");let dr=class{constructor(gr,br,yr){this.metadata=gr,this.tokenizer=yr}parsePage(gr,br){gr.headerType.firstPage&&this.parseFirstPage(gr,br)}flush(){hr("flush")}calculateDuration(gr){hr("duration calculation not implemented")}parseFirstPage(gr,br){hr("First Ogg/Theora page"),this.metadata.setFormat("codec","Theora");const yr=cr.IdentificationHeader.get(br,0);this.metadata.setFormat("bitrate",yr.nombr)}};return TheoraParser.TheoraParser=dr,TheoraParser}var hasRequiredOggParser;function requireOggParser(){if(hasRequiredOggParser)return OggParser;hasRequiredOggParser=1,Object.defineProperty(OggParser,"__esModule",{value:!0}),OggParser.OggParser=OggParser.SegmentTable=void 0;const ur=requireLib$2(),cr=requireCore$2(),hr=requireBrowser$3(),dr=requireUtil$1(),mr=requireFourCC(),gr=requireBasicParser(),br=requireVorbisParser(),yr=requireOpusParser(),Tr=requireSpeexParser(),vr=requireTheoraParser(),Sr=(0,hr.default)("music-metadata:parser:ogg");class _r{static sum(Ar,kr,Dr){let Cr=0;for(let Or=kr;Or<kr+Dr;++Or)Cr+=Ar[Or];return Cr}constructor(Ar){this.len=Ar.page_segments}get(Ar,kr){return{totalPageSize:_r.sum(Ar,kr,this.len)}}}OggParser.SegmentTable=_r;let wr=class Bg extends gr.BasicParser{async parse(){Sr("pos=%s, parsePage()",this.tokenizer.position);try{let Ar;do{if(Ar=await this.tokenizer.readToken(Bg.Header),Ar.capturePattern!=="OggS")throw new Error("Invalid Ogg capture pattern");this.metadata.setFormat("container","Ogg"),this.header=Ar,this.pageNumber=Ar.pageSequenceNo,Sr("page#=%s, Ogg.id=%s",Ar.pageSequenceNo,Ar.capturePattern);const kr=await this.tokenizer.readToken(new _r(Ar));Sr("totalPageSize=%s",kr.totalPageSize);const Dr=await this.tokenizer.readToken(new ur.Uint8ArrayType(kr.totalPageSize));if(Sr("firstPage=%s, lastPage=%s, continued=%s",Ar.headerType.firstPage,Ar.headerType.lastPage,Ar.headerType.continued),Ar.headerType.firstPage){const Cr=new ur.StringType(7,"ascii").get(Buffer.from(Dr),0);switch(Cr){case"vorbis":Sr("Set page consumer to Ogg/Vorbis"),this.pageConsumer=new br.VorbisParser(this.metadata,this.options);break;case"OpusHea":Sr("Set page consumer to Ogg/Opus"),this.pageConsumer=new yr.OpusParser(this.metadata,this.options,this.tokenizer);break;case"Speex  ":Sr("Set page consumer to Ogg/Speex"),this.pageConsumer=new Tr.SpeexParser(this.metadata,this.options,this.tokenizer);break;case"fishead":case"\0theora":Sr("Set page consumer to Ogg/Theora"),this.pageConsumer=new vr.TheoraParser(this.metadata,this.options,this.tokenizer);break;default:throw new Error("gg audio-codec not recognized (id="+Cr+")")}}this.pageConsumer.parsePage(Ar,Dr)}while(!Ar.headerType.lastPage)}catch(Ar){if(Ar instanceof cr.EndOfStreamError)this.metadata.addWarning("Last OGG-page is not marked with last-page flag"),Sr("End-of-stream"),this.metadata.addWarning("Last OGG-page is not marked with last-page flag"),this.header&&this.pageConsumer.calculateDuration(this.header);else if(Ar.message.startsWith("FourCC"))this.pageNumber>0&&(this.metadata.addWarning("Invalid FourCC ID, maybe last OGG-page is not marked with last-page flag"),this.pageConsumer.flush());else throw Ar}}};return wr.Header={len:27,get:(Er,Ar)=>({capturePattern:mr.FourCcToken.get(Er,Ar),version:ur.UINT8.get(Er,Ar+4),headerType:{continued:dr.getBit(Er,Ar+5,0),firstPage:dr.getBit(Er,Ar+5,1),lastPage:dr.getBit(Er,Ar+5,2)},absoluteGranulePosition:Number(ur.UINT64_LE.get(Er,Ar+6)),streamSerialNumber:ur.UINT32_LE.get(Er,Ar+14),pageSequenceNo:ur.UINT32_LE.get(Er,Ar+18),pageChecksum:ur.UINT32_LE.get(Er,Ar+22),page_segments:ur.UINT8.get(Er,Ar+26)})},OggParser.OggParser=wr,OggParser}var WaveParser={},RiffChunk={},hasRequiredRiffChunk;function requireRiffChunk(){if(hasRequiredRiffChunk)return RiffChunk;hasRequiredRiffChunk=1,Object.defineProperty(RiffChunk,"__esModule",{value:!0}),RiffChunk.ListInfoTagValue=RiffChunk.Header=void 0;const ur=requireLib$2();RiffChunk.Header={len:8,get:(hr,dr)=>({chunkID:hr.toString("binary",dr,dr+4),chunkSize:ur.UINT32_LE.get(hr,4)})};class cr{constructor(dr){this.tagHeader=dr,this.len=dr.chunkSize,this.len+=this.len&1}get(dr,mr){return new ur.StringType(this.tagHeader.chunkSize,"ascii").get(dr,mr)}}return RiffChunk.ListInfoTagValue=cr,RiffChunk}var WaveChunk={},hasRequiredWaveChunk;function requireWaveChunk(){return hasRequiredWaveChunk||(hasRequiredWaveChunk=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.FactChunk=ur.Format=ur.WaveFormat=void 0,(function(dr){dr[dr.PCM=1]="PCM",dr[dr.ADPCM=2]="ADPCM",dr[dr.IEEE_FLOAT=3]="IEEE_FLOAT",dr[dr.MPEG_ADTS_AAC=5632]="MPEG_ADTS_AAC",dr[dr.MPEG_LOAS=5634]="MPEG_LOAS",dr[dr.RAW_AAC1=255]="RAW_AAC1",dr[dr.DOLBY_AC3_SPDIF=146]="DOLBY_AC3_SPDIF",dr[dr.DVM=8192]="DVM",dr[dr.RAW_SPORT=576]="RAW_SPORT",dr[dr.ESST_AC3=577]="ESST_AC3",dr[dr.DRM=9]="DRM",dr[dr.DTS2=8193]="DTS2",dr[dr.MPEG=80]="MPEG"})(ur.WaveFormat||(ur.WaveFormat={}));class cr{constructor(mr){if(mr.chunkSize<16)throw new Error("Invalid chunk size");this.len=mr.chunkSize}get(mr,gr){return{wFormatTag:mr.readUInt16LE(gr),nChannels:mr.readUInt16LE(gr+2),nSamplesPerSec:mr.readUInt32LE(gr+4),nAvgBytesPerSec:mr.readUInt32LE(gr+8),nBlockAlign:mr.readUInt16LE(gr+12),wBitsPerSample:mr.readUInt16LE(gr+14)}}}ur.Format=cr;class hr{constructor(mr){if(mr.chunkSize<4)throw new Error("Invalid fact chunk size.");this.len=mr.chunkSize}get(mr,gr){return{dwSampleLength:mr.readUInt32LE(gr)}}}ur.FactChunk=hr})(WaveChunk)),WaveChunk}var BwfChunk={},hasRequiredBwfChunk;function requireBwfChunk(){if(hasRequiredBwfChunk)return BwfChunk;hasRequiredBwfChunk=1,Object.defineProperty(BwfChunk,"__esModule",{value:!0}),BwfChunk.BroadcastAudioExtensionChunk=void 0;const ur=requireLib$2(),cr=requireUtil$1();return BwfChunk.BroadcastAudioExtensionChunk={len:420,get:(hr,dr)=>({description:(0,cr.stripNulls)(new ur.StringType(256,"ascii").get(hr,dr)).trim(),originator:(0,cr.stripNulls)(new ur.StringType(32,"ascii").get(hr,dr+256)).trim(),originatorReference:(0,cr.stripNulls)(new ur.StringType(32,"ascii").get(hr,dr+288)).trim(),originationDate:(0,cr.stripNulls)(new ur.StringType(10,"ascii").get(hr,dr+320)).trim(),originationTime:(0,cr.stripNulls)(new ur.StringType(8,"ascii").get(hr,dr+330)).trim(),timeReferenceLow:ur.UINT32_LE.get(hr,dr+338),timeReferenceHigh:ur.UINT32_LE.get(hr,dr+342),version:ur.UINT16_LE.get(hr,dr+346),umid:new ur.Uint8ArrayType(64).get(hr,dr+348),loudnessValue:ur.UINT16_LE.get(hr,dr+412),maxTruePeakLevel:ur.UINT16_LE.get(hr,dr+414),maxMomentaryLoudness:ur.UINT16_LE.get(hr,dr+416),maxShortTermLoudness:ur.UINT16_LE.get(hr,dr+418)})},BwfChunk}var hasRequiredWaveParser;function requireWaveParser(){if(hasRequiredWaveParser)return WaveParser;hasRequiredWaveParser=1,Object.defineProperty(WaveParser,"__esModule",{value:!0}),WaveParser.WaveParser=void 0;const ur=requireCore$2(),cr=requireLib$2(),hr=requireBrowser$3(),dr=requireRiffChunk(),mr=requireWaveChunk(),gr=requireID3v2Parser(),br=requireUtil$1(),yr=requireFourCC(),Tr=requireBasicParser(),vr=requireBwfChunk(),Sr=(0,hr.default)("music-metadata:parser:RIFF");let _r=class extends Tr.BasicParser{async parse(){const Er=await this.tokenizer.readToken(dr.Header);if(Sr(`pos=${this.tokenizer.position}, parse: chunkID=${Er.chunkID}`),Er.chunkID==="RIFF")return this.parseRiffChunk(Er.chunkSize).catch(Ar=>{if(!(Ar instanceof ur.EndOfStreamError))throw Ar})}async parseRiffChunk(Er){const Ar=await this.tokenizer.readToken(yr.FourCcToken);switch(this.metadata.setFormat("container",Ar),Ar){case"WAVE":return this.readWaveChunk(Er-yr.FourCcToken.len);default:throw new Error(`Unsupported RIFF format: RIFF/${Ar}`)}}async readWaveChunk(Er){for(;Er>=dr.Header.len;){const Ar=await this.tokenizer.readToken(dr.Header);switch(Er-=dr.Header.len+Ar.chunkSize,Ar.chunkSize>Er&&this.metadata.addWarning("Data chunk size exceeds file size"),this.header=Ar,Sr(`pos=${this.tokenizer.position}, readChunk: chunkID=RIFF/WAVE/${Ar.chunkID}`),Ar.chunkID){case"LIST":await this.parseListTag(Ar);break;case"fact":this.metadata.setFormat("lossless",!1),this.fact=await this.tokenizer.readToken(new mr.FactChunk(Ar));break;case"fmt ":const kr=await this.tokenizer.readToken(new mr.Format(Ar));let Dr=mr.WaveFormat[kr.wFormatTag];Dr||(Sr("WAVE/non-PCM format="+kr.wFormatTag),Dr="non-PCM ("+kr.wFormatTag+")"),this.metadata.setFormat("codec",Dr),this.metadata.setFormat("bitsPerSample",kr.wBitsPerSample),this.metadata.setFormat("sampleRate",kr.nSamplesPerSec),this.metadata.setFormat("numberOfChannels",kr.nChannels),this.metadata.setFormat("bitrate",kr.nBlockAlign*kr.nSamplesPerSec*8),this.blockAlign=kr.nBlockAlign;break;case"id3 ":case"ID3 ":const Cr=await this.tokenizer.readToken(new cr.Uint8ArrayType(Ar.chunkSize)),Or=ur.fromBuffer(Cr);await new gr.ID3v2Parser().parse(this.metadata,Or,this.options);break;case"data":this.metadata.format.lossless!==!1&&this.metadata.setFormat("lossless",!0);let qr=Ar.chunkSize;if(this.tokenizer.fileInfo.size){const Br=this.tokenizer.fileInfo.size-this.tokenizer.position;Br<qr&&(this.metadata.addWarning("data chunk length exceeding file length"),qr=Br)}const Hr=this.fact?this.fact.dwSampleLength:qr===4294967295?void 0:qr/this.blockAlign;Hr&&(this.metadata.setFormat("numberOfSamples",Hr),this.metadata.setFormat("duration",Hr/this.metadata.format.sampleRate)),this.metadata.format.codec==="ADPCM"?this.metadata.setFormat("bitrate",352e3):this.metadata.setFormat("bitrate",this.blockAlign*this.metadata.format.sampleRate*8),await this.tokenizer.ignore(Ar.chunkSize);break;case"bext":const Lr=await this.tokenizer.readToken(vr.BroadcastAudioExtensionChunk);Object.keys(Lr).forEach(Br=>{this.metadata.addTag("exif","bext."+Br,Lr[Br])});const jr=Ar.chunkSize-vr.BroadcastAudioExtensionChunk.len;await this.tokenizer.ignore(jr);break;case"\0\0\0\0":Sr(`Ignore padding chunk: RIFF/${Ar.chunkID} of ${Ar.chunkSize} bytes`),this.metadata.addWarning("Ignore chunk: RIFF/"+Ar.chunkID),await this.tokenizer.ignore(Ar.chunkSize);break;default:Sr(`Ignore chunk: RIFF/${Ar.chunkID} of ${Ar.chunkSize} bytes`),this.metadata.addWarning("Ignore chunk: RIFF/"+Ar.chunkID),await this.tokenizer.ignore(Ar.chunkSize)}this.header.chunkSize%2===1&&(Sr("Read odd padding byte"),await this.tokenizer.ignore(1))}}async parseListTag(Er){const Ar=await this.tokenizer.readToken(new cr.StringType(4,"binary"));switch(Sr("pos=%s, parseListTag: chunkID=RIFF/WAVE/LIST/%s",this.tokenizer.position,Ar),Ar){case"INFO":return this.parseRiffInfoTags(Er.chunkSize-4);case"adtl":default:return this.metadata.addWarning("Ignore chunk: RIFF/WAVE/LIST/"+Ar),Sr("Ignoring chunkID=RIFF/WAVE/LIST/"+Ar),this.tokenizer.ignore(Er.chunkSize-4).then()}}async parseRiffInfoTags(Er){for(;Er>=8;){const Ar=await this.tokenizer.readToken(dr.Header),kr=new dr.ListInfoTagValue(Ar),Dr=await this.tokenizer.readToken(kr);this.addTag(Ar.chunkID,br.stripNulls(Dr)),Er-=8+kr.len}if(Er!==0)throw Error("Illegal remaining size: "+Er)}addTag(Er,Ar){this.metadata.addTag("exif",Er,Ar)}};return WaveParser.WaveParser=_r,WaveParser}var WavPackParser={},WavPackToken={},hasRequiredWavPackToken;function requireWavPackToken(){if(hasRequiredWavPackToken)return WavPackToken;hasRequiredWavPackToken=1,Object.defineProperty(WavPackToken,"__esModule",{value:!0}),WavPackToken.WavPack=void 0;const ur=requireLib$2(),cr=requireFourCC(),hr=[6e3,8e3,9600,11025,12e3,16e3,22050,24e3,32e3,44100,48e3,64e3,88200,96e3,192e3,-1];class dr{static isBitSet(gr,br){return dr.getBitAllignedNumber(gr,br,1)===1}static getBitAllignedNumber(gr,br,yr){return gr>>>br&4294967295>>>32-yr}}return dr.BlockHeaderToken={len:32,get:(mr,gr)=>{const br=ur.UINT32_LE.get(mr,gr+24),yr={BlockID:cr.FourCcToken.get(mr,gr),blockSize:ur.UINT32_LE.get(mr,gr+4),version:ur.UINT16_LE.get(mr,gr+8),totalSamples:ur.UINT32_LE.get(mr,gr+12),blockIndex:ur.UINT32_LE.get(mr,gr+16),blockSamples:ur.UINT32_LE.get(mr,gr+20),flags:{bitsPerSample:(1+dr.getBitAllignedNumber(br,0,2))*8,isMono:dr.isBitSet(br,2),isHybrid:dr.isBitSet(br,3),isJointStereo:dr.isBitSet(br,4),crossChannel:dr.isBitSet(br,5),hybridNoiseShaping:dr.isBitSet(br,6),floatingPoint:dr.isBitSet(br,7),samplingRate:hr[dr.getBitAllignedNumber(br,23,4)],isDSD:dr.isBitSet(br,31)},crc:new ur.Uint8ArrayType(4).get(mr,gr+28)};return yr.flags.isDSD&&(yr.totalSamples*=8),yr}},dr.MetadataIdToken={len:1,get:(mr,gr)=>({functionId:dr.getBitAllignedNumber(mr[gr],0,6),isOptional:dr.isBitSet(mr[gr],5),isOddSize:dr.isBitSet(mr[gr],6),largeBlock:dr.isBitSet(mr[gr],7)})},WavPackToken.WavPack=dr,WavPackToken}var hasRequiredWavPackParser;function requireWavPackParser(){if(hasRequiredWavPackParser)return WavPackParser;hasRequiredWavPackParser=1,Object.defineProperty(WavPackParser,"__esModule",{value:!0}),WavPackParser.WavPackParser=void 0;const ur=requireLib$2(),cr=requireAPEv2Parser(),hr=requireFourCC(),dr=requireBasicParser(),mr=requireWavPackToken(),br=(0,requireBrowser$3().default)("music-metadata:parser:WavPack");let yr=class extends dr.BasicParser{async parse(){return this.audioDataSize=0,await this.parseWavPackBlocks(),cr.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options)}async parseWavPackBlocks(){do{if(await this.tokenizer.peekToken(hr.FourCcToken)!=="wvpk")break;const Sr=await this.tokenizer.readToken(mr.WavPack.BlockHeaderToken);if(Sr.BlockID!=="wvpk")throw new Error("Invalid WavPack Block-ID");br(`WavPack header blockIndex=${Sr.blockIndex}, len=${mr.WavPack.BlockHeaderToken.len}`),Sr.blockIndex===0&&!this.metadata.format.container&&(this.metadata.setFormat("container","WavPack"),this.metadata.setFormat("lossless",!Sr.flags.isHybrid),this.metadata.setFormat("bitsPerSample",Sr.flags.bitsPerSample),Sr.flags.isDSD||(this.metadata.setFormat("sampleRate",Sr.flags.samplingRate),this.metadata.setFormat("duration",Sr.totalSamples/Sr.flags.samplingRate)),this.metadata.setFormat("numberOfChannels",Sr.flags.isMono?1:2),this.metadata.setFormat("numberOfSamples",Sr.totalSamples),this.metadata.setFormat("codec",Sr.flags.isDSD?"DSD":"PCM"));const _r=Sr.blockSize-(mr.WavPack.BlockHeaderToken.len-8);await(Sr.blockIndex===0?this.parseMetadataSubBlock(Sr,_r):this.tokenizer.ignore(_r)),Sr.blockSamples>0&&(this.audioDataSize+=Sr.blockSize)}while(!this.tokenizer.fileInfo.size||this.tokenizer.fileInfo.size-this.tokenizer.position>=mr.WavPack.BlockHeaderToken.len);this.metadata.setFormat("bitrate",this.audioDataSize*8/this.metadata.format.duration)}async parseMetadataSubBlock(vr,Sr){for(;Sr>mr.WavPack.MetadataIdToken.len;){const _r=await this.tokenizer.readToken(mr.WavPack.MetadataIdToken),wr=await this.tokenizer.readNumber(_r.largeBlock?ur.UINT24_LE:ur.UINT8),Er=Buffer.alloc(wr*2-(_r.isOddSize?1:0));switch(await this.tokenizer.readBuffer(Er),br(`Metadata Sub-Blocks functionId=0x${_r.functionId.toString(16)}, id.largeBlock=${_r.largeBlock},data-size=${Er.length}`),_r.functionId){case 0:break;case 14:br("ID_DSD_BLOCK");const Ar=1<<Er.readUInt8(0),kr=vr.flags.samplingRate*Ar*8;if(!vr.flags.isDSD)throw new Error("Only expect DSD block if DSD-flag is set");this.metadata.setFormat("sampleRate",kr),this.metadata.setFormat("duration",vr.totalSamples/kr);break;case 36:br("ID_ALT_TRAILER: trailer for non-wav files");break;case 38:this.metadata.setFormat("audioMD5",Er);break;case 47:br(`ID_BLOCK_CHECKSUM: checksum=${Er.toString("hex")}`);break;default:br(`Ignore unsupported meta-sub-block-id functionId=0x${_r.functionId.toString(16)}`);break}Sr-=mr.WavPack.MetadataIdToken.len+(_r.largeBlock?ur.UINT24_LE.len:ur.UINT8.len)+wr*2,br(`remainingLength=${Sr}`),_r.isOddSize&&this.tokenizer.ignore(1)}if(Sr!==0)throw new Error("metadata-sub-block should fit it remaining length")}};return WavPackParser.WavPackParser=yr,WavPackParser}var DsfParser={},DsfChunk={},hasRequiredDsfChunk;function requireDsfChunk(){return hasRequiredDsfChunk||(hasRequiredDsfChunk=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.FormatChunk=ur.ChannelType=ur.DsdChunk=ur.ChunkHeader=void 0;const cr=requireLib$2(),hr=requireFourCC();ur.ChunkHeader={len:12,get:(dr,mr)=>({id:hr.FourCcToken.get(dr,mr),size:cr.UINT64_LE.get(dr,mr+4)})},ur.DsdChunk={len:16,get:(dr,mr)=>({fileSize:cr.INT64_LE.get(dr,mr),metadataPointer:cr.INT64_LE.get(dr,mr+8)})},(function(dr){dr[dr.mono=1]="mono",dr[dr.stereo=2]="stereo",dr[dr.channels=3]="channels",dr[dr.quad=4]="quad",dr[dr["4 channels"]=5]="4 channels",dr[dr["5 channels"]=6]="5 channels",dr[dr["5.1 channels"]=7]="5.1 channels"})(ur.ChannelType||(ur.ChannelType={})),ur.FormatChunk={len:40,get:(dr,mr)=>({formatVersion:cr.INT32_LE.get(dr,mr),formatID:cr.INT32_LE.get(dr,mr+4),channelType:cr.INT32_LE.get(dr,mr+8),channelNum:cr.INT32_LE.get(dr,mr+12),samplingFrequency:cr.INT32_LE.get(dr,mr+16),bitsPerSample:cr.INT32_LE.get(dr,mr+20),sampleCount:cr.INT64_LE.get(dr,mr+24),blockSizePerChannel:cr.INT32_LE.get(dr,mr+32)})}})(DsfChunk)),DsfChunk}var hasRequiredDsfParser;function requireDsfParser(){if(hasRequiredDsfParser)return DsfParser;hasRequiredDsfParser=1,Object.defineProperty(DsfParser,"__esModule",{value:!0}),DsfParser.DsfParser=void 0;const ur=requireBrowser$3(),cr=requireAbstractID3Parser(),hr=requireDsfChunk(),dr=requireID3v2Parser(),mr=(0,ur.default)("music-metadata:parser:DSF");let gr=class extends cr.AbstractID3Parser{async postId3v2Parse(){const yr=this.tokenizer.position,Tr=await this.tokenizer.readToken(hr.ChunkHeader);if(Tr.id!=="DSD ")throw new Error("Invalid chunk signature");this.metadata.setFormat("container","DSF"),this.metadata.setFormat("lossless",!0);const vr=await this.tokenizer.readToken(hr.DsdChunk);if(vr.metadataPointer===BigInt(0))mr("No ID3v2 tag present");else return mr(`expect ID3v2 at offset=${vr.metadataPointer}`),await this.parseChunks(vr.fileSize-Tr.size),await this.tokenizer.ignore(Number(vr.metadataPointer)-this.tokenizer.position-yr),new dr.ID3v2Parser().parse(this.metadata,this.tokenizer,this.options)}async parseChunks(yr){for(;yr>=hr.ChunkHeader.len;){const Tr=await this.tokenizer.readToken(hr.ChunkHeader);switch(mr(`Parsing chunk name=${Tr.id} size=${Tr.size}`),Tr.id){case"fmt ":const vr=await this.tokenizer.readToken(hr.FormatChunk);this.metadata.setFormat("numberOfChannels",vr.channelNum),this.metadata.setFormat("sampleRate",vr.samplingFrequency),this.metadata.setFormat("bitsPerSample",vr.bitsPerSample),this.metadata.setFormat("numberOfSamples",vr.sampleCount),this.metadata.setFormat("duration",Number(vr.sampleCount)/vr.samplingFrequency);const Sr=vr.bitsPerSample*vr.samplingFrequency*vr.channelNum;this.metadata.setFormat("bitrate",Sr);return;default:this.tokenizer.ignore(Number(Tr.size)-hr.ChunkHeader.len);break}yr-=Tr.size}}};return DsfParser.DsfParser=gr,DsfParser}var DsdiffParser={},DsdiffToken={},hasRequiredDsdiffToken;function requireDsdiffToken(){if(hasRequiredDsdiffToken)return DsdiffToken;hasRequiredDsdiffToken=1,Object.defineProperty(DsdiffToken,"__esModule",{value:!0}),DsdiffToken.ChunkHeader64=void 0;const ur=requireLib$2(),cr=requireFourCC();return DsdiffToken.ChunkHeader64={len:12,get:(hr,dr)=>({chunkID:cr.FourCcToken.get(hr,dr),chunkSize:ur.INT64_BE.get(hr,dr+4)})},DsdiffToken}var hasRequiredDsdiffParser;function requireDsdiffParser(){if(hasRequiredDsdiffParser)return DsdiffParser;hasRequiredDsdiffParser=1,Object.defineProperty(DsdiffParser,"__esModule",{value:!0}),DsdiffParser.DsdiffParser=void 0;const ur=requireLib$2(),cr=requireBrowser$3(),hr=requireCore$2(),dr=requireFourCC(),mr=requireBasicParser(),gr=requireID3v2Parser(),br=requireDsdiffToken(),yr=(0,cr.default)("music-metadata:parser:aiff");let Tr=class extends mr.BasicParser{async parse(){const Sr=await this.tokenizer.readToken(br.ChunkHeader64);if(Sr.chunkID!=="FRM8")throw new Error("Unexpected chunk-ID");const _r=(await this.tokenizer.readToken(dr.FourCcToken)).trim();switch(_r){case"DSD":return this.metadata.setFormat("container",`DSDIFF/${_r}`),this.metadata.setFormat("lossless",!0),this.readFmt8Chunks(Sr.chunkSize-BigInt(dr.FourCcToken.len));default:throw Error(`Unsupported DSDIFF type: ${_r}`)}}async readFmt8Chunks(Sr){for(;Sr>=br.ChunkHeader64.len;){const _r=await this.tokenizer.readToken(br.ChunkHeader64);yr(`Chunk id=${_r.chunkID}`),await this.readData(_r),Sr-=BigInt(br.ChunkHeader64.len)+_r.chunkSize}}async readData(Sr){yr(`Reading data of chunk[ID=${Sr.chunkID}, size=${Sr.chunkSize}]`);const _r=this.tokenizer.position;switch(Sr.chunkID.trim()){case"FVER":const Er=await this.tokenizer.readToken(ur.UINT32_LE);yr(`DSDIFF version=${Er}`);break;case"PROP":if(await this.tokenizer.readToken(dr.FourCcToken)!=="SND ")throw new Error("Unexpected PROP-chunk ID");await this.handleSoundPropertyChunks(Sr.chunkSize-BigInt(dr.FourCcToken.len));break;case"ID3":const kr=await this.tokenizer.readToken(new ur.Uint8ArrayType(Number(Sr.chunkSize))),Dr=hr.fromBuffer(kr);await new gr.ID3v2Parser().parse(this.metadata,Dr,this.options);break;default:yr(`Ignore chunk[ID=${Sr.chunkID}, size=${Sr.chunkSize}]`);break;case"DSD":this.metadata.setFormat("numberOfSamples",Number(Sr.chunkSize*BigInt(8)/BigInt(this.metadata.format.numberOfChannels))),this.metadata.setFormat("duration",this.metadata.format.numberOfSamples/this.metadata.format.sampleRate);break}const wr=Sr.chunkSize-BigInt(this.tokenizer.position-_r);wr>0&&(yr(`After Parsing chunk, remaining ${wr} bytes`),await this.tokenizer.ignore(Number(wr)))}async handleSoundPropertyChunks(Sr){for(yr(`Parsing sound-property-chunks, remainingSize=${Sr}`);Sr>0;){const _r=await this.tokenizer.readToken(br.ChunkHeader64);yr(`Sound-property-chunk[ID=${_r.chunkID}, size=${_r.chunkSize}]`);const wr=this.tokenizer.position;switch(_r.chunkID.trim()){case"FS":const Ar=await this.tokenizer.readToken(ur.UINT32_BE);this.metadata.setFormat("sampleRate",Ar);break;case"CHNL":const kr=await this.tokenizer.readToken(ur.UINT16_BE);this.metadata.setFormat("numberOfChannels",kr),await this.handleChannelChunks(_r.chunkSize-BigInt(ur.UINT16_BE.len));break;case"CMPR":const Dr=(await this.tokenizer.readToken(dr.FourCcToken)).trim(),Cr=await this.tokenizer.readToken(ur.UINT8),Or=await this.tokenizer.readToken(new ur.StringType(Cr,"ascii"));Dr==="DSD"&&(this.metadata.setFormat("lossless",!0),this.metadata.setFormat("bitsPerSample",1)),this.metadata.setFormat("codec",`${Dr} (${Or})`);break;case"ABSS":const qr=await this.tokenizer.readToken(ur.UINT16_BE),Hr=await this.tokenizer.readToken(ur.UINT8),Lr=await this.tokenizer.readToken(ur.UINT8),jr=await this.tokenizer.readToken(ur.UINT32_BE);yr(`ABSS ${qr}:${Hr}:${Lr}.${jr}`);break;case"LSCO":const Br=await this.tokenizer.readToken(ur.UINT16_BE);yr(`LSCO lsConfig=${Br}`);break;case"COMT":default:yr(`Unknown sound-property-chunk[ID=${_r.chunkID}, size=${_r.chunkSize}]`),await this.tokenizer.ignore(Number(_r.chunkSize))}const Er=_r.chunkSize-BigInt(this.tokenizer.position-wr);Er>0&&(yr(`After Parsing sound-property-chunk ${_r.chunkSize}, remaining ${Er} bytes`),await this.tokenizer.ignore(Number(Er))),Sr-=BigInt(br.ChunkHeader64.len)+_r.chunkSize,yr(`Parsing sound-property-chunks, remainingSize=${Sr}`)}if(this.metadata.format.lossless&&this.metadata.format.sampleRate&&this.metadata.format.numberOfChannels&&this.metadata.format.bitsPerSample){const _r=this.metadata.format.sampleRate*this.metadata.format.numberOfChannels*this.metadata.format.bitsPerSample;this.metadata.setFormat("bitrate",_r)}}async handleChannelChunks(Sr){yr(`Parsing channel-chunks, remainingSize=${Sr}`);const _r=[];for(;Sr>=dr.FourCcToken.len;){const wr=await this.tokenizer.readToken(dr.FourCcToken);yr(`Channel[ID=${wr}]`),_r.push(wr),Sr-=BigInt(dr.FourCcToken.len)}return yr(`Channels: ${_r.join(", ")}`),_r}};return DsdiffParser.DsdiffParser=Tr,DsdiffParser}var MatroskaParser={},MatroskaDtd={},hasRequiredMatroskaDtd;function requireMatroskaDtd(){if(hasRequiredMatroskaDtd)return MatroskaDtd;hasRequiredMatroskaDtd=1,Object.defineProperty(MatroskaDtd,"__esModule",{value:!0}),MatroskaDtd.elements=void 0;const ur=requireTypes();return MatroskaDtd.elements={440786851:{name:"ebml",container:{17030:{name:"ebmlVersion",value:ur.DataType.uint},17143:{name:"ebmlReadVersion",value:ur.DataType.uint},17138:{name:"ebmlMaxIDWidth",value:ur.DataType.uint},17139:{name:"ebmlMaxSizeWidth",value:ur.DataType.uint},17026:{name:"docType",value:ur.DataType.string},17031:{name:"docTypeVersion",value:ur.DataType.uint},17029:{name:"docTypeReadVersion",value:ur.DataType.uint}}},408125543:{name:"segment",container:{290298740:{name:"seekHead",container:{19899:{name:"seek",container:{21419:{name:"seekId",value:ur.DataType.binary},21420:{name:"seekPosition",value:ur.DataType.uint}}}}},357149030:{name:"info",container:{29604:{name:"uid",value:ur.DataType.uid},29572:{name:"filename",value:ur.DataType.string},3979555:{name:"prevUID",value:ur.DataType.uid},3965867:{name:"prevFilename",value:ur.DataType.string},4110627:{name:"nextUID",value:ur.DataType.uid},4096955:{name:"nextFilename",value:ur.DataType.string},2807729:{name:"timecodeScale",value:ur.DataType.uint},17545:{name:"duration",value:ur.DataType.float},17505:{name:"dateUTC",value:ur.DataType.uint},31657:{name:"title",value:ur.DataType.string},19840:{name:"muxingApp",value:ur.DataType.string},22337:{name:"writingApp",value:ur.DataType.string}}},524531317:{name:"cluster",multiple:!0,container:{231:{name:"timecode",value:ur.DataType.uid},163:{name:"unknown",value:ur.DataType.binary},167:{name:"position",value:ur.DataType.uid},171:{name:"prevSize",value:ur.DataType.uid}}},374648427:{name:"tracks",container:{174:{name:"entries",multiple:!0,container:{215:{name:"trackNumber",value:ur.DataType.uint},29637:{name:"uid",value:ur.DataType.uid},131:{name:"trackType",value:ur.DataType.uint},185:{name:"flagEnabled",value:ur.DataType.bool},136:{name:"flagDefault",value:ur.DataType.bool},21930:{name:"flagForced",value:ur.DataType.bool},156:{name:"flagLacing",value:ur.DataType.bool},28135:{name:"minCache",value:ur.DataType.uint},28136:{name:"maxCache",value:ur.DataType.uint},2352003:{name:"defaultDuration",value:ur.DataType.uint},2306383:{name:"timecodeScale",value:ur.DataType.float},21358:{name:"name",value:ur.DataType.string},2274716:{name:"language",value:ur.DataType.string},134:{name:"codecID",value:ur.DataType.string},25506:{name:"codecPrivate",value:ur.DataType.binary},2459272:{name:"codecName",value:ur.DataType.string},3839639:{name:"codecSettings",value:ur.DataType.string},3883072:{name:"codecInfoUrl",value:ur.DataType.string},2536e3:{name:"codecDownloadUrl",value:ur.DataType.string},170:{name:"codecDecodeAll",value:ur.DataType.bool},28587:{name:"trackOverlay",value:ur.DataType.uint},224:{name:"video",container:{154:{name:"flagInterlaced",value:ur.DataType.bool},21432:{name:"stereoMode",value:ur.DataType.uint},176:{name:"pixelWidth",value:ur.DataType.uint},186:{name:"pixelHeight",value:ur.DataType.uint},21680:{name:"displayWidth",value:ur.DataType.uint},21690:{name:"displayHeight",value:ur.DataType.uint},21683:{name:"aspectRatioType",value:ur.DataType.uint},3061028:{name:"colourSpace",value:ur.DataType.uint},3126563:{name:"gammaValue",value:ur.DataType.float}}},225:{name:"audio",container:{181:{name:"samplingFrequency",value:ur.DataType.float},30901:{name:"outputSamplingFrequency",value:ur.DataType.float},159:{name:"channels",value:ur.DataType.uint},148:{name:"channels",value:ur.DataType.uint},32123:{name:"channelPositions",value:ur.DataType.binary},25188:{name:"bitDepth",value:ur.DataType.uint}}},28032:{name:"contentEncodings",container:{25152:{name:"contentEncoding",container:{20529:{name:"order",value:ur.DataType.uint},20530:{name:"scope",value:ur.DataType.bool},20531:{name:"type",value:ur.DataType.uint},20532:{name:"contentEncoding",container:{16980:{name:"contentCompAlgo",value:ur.DataType.uint},16981:{name:"contentCompSettings",value:ur.DataType.binary}}},20533:{name:"contentEncoding",container:{18401:{name:"contentEncAlgo",value:ur.DataType.uint},18402:{name:"contentEncKeyID",value:ur.DataType.binary},18403:{name:"contentSignature ",value:ur.DataType.binary},18404:{name:"ContentSigKeyID  ",value:ur.DataType.binary},18405:{name:"contentSigAlgo ",value:ur.DataType.uint},18406:{name:"contentSigHashAlgo ",value:ur.DataType.uint}}},25188:{name:"bitDepth",value:ur.DataType.uint}}}}}}}}},475249515:{name:"cues",container:{187:{name:"cuePoint",container:{179:{name:"cueTime",value:ur.DataType.uid},183:{name:"positions",container:{247:{name:"track",value:ur.DataType.uint},241:{name:"clusterPosition",value:ur.DataType.uint},21368:{name:"blockNumber",value:ur.DataType.uint},234:{name:"codecState",value:ur.DataType.uint},219:{name:"reference",container:{150:{name:"time",value:ur.DataType.uint},151:{name:"cluster",value:ur.DataType.uint},21343:{name:"number",value:ur.DataType.uint},235:{name:"codecState",value:ur.DataType.uint}}},240:{name:"relativePosition",value:ur.DataType.uint}}}}}}},423732329:{name:"attachments",container:{24999:{name:"attachedFiles",multiple:!0,container:{18046:{name:"description",value:ur.DataType.string},18030:{name:"name",value:ur.DataType.string},18016:{name:"mimeType",value:ur.DataType.string},18012:{name:"data",value:ur.DataType.binary},18094:{name:"uid",value:ur.DataType.uid}}}}},272869232:{name:"chapters",container:{17849:{name:"editionEntry",container:{182:{name:"chapterAtom",container:{29636:{name:"uid",value:ur.DataType.uid},145:{name:"timeStart",value:ur.DataType.uint},146:{name:"timeEnd",value:ur.DataType.uid},152:{name:"hidden",value:ur.DataType.bool},17816:{name:"enabled",value:ur.DataType.uid},143:{name:"track",container:{137:{name:"trackNumber",value:ur.DataType.uid},128:{name:"display",container:{133:{name:"string",value:ur.DataType.string},17276:{name:"language ",value:ur.DataType.string},17278:{name:"country ",value:ur.DataType.string}}}}}}}}}}},307544935:{name:"tags",container:{29555:{name:"tag",multiple:!0,container:{25536:{name:"target",container:{25541:{name:"tagTrackUID",value:ur.DataType.uid},25540:{name:"tagChapterUID",value:ur.DataType.uint},25542:{name:"tagAttachmentUID",value:ur.DataType.uid},25546:{name:"targetType",value:ur.DataType.string},26826:{name:"targetTypeValue",value:ur.DataType.uint},25545:{name:"tagEditionUID",value:ur.DataType.uid}}},26568:{name:"simpleTags",multiple:!0,container:{17827:{name:"name",value:ur.DataType.string},17543:{name:"string",value:ur.DataType.string},17541:{name:"binary",value:ur.DataType.binary},17530:{name:"language",value:ur.DataType.string},17531:{name:"languageIETF",value:ur.DataType.string},17540:{name:"default",value:ur.DataType.bool}}}}}}}}}},MatroskaDtd}var hasRequiredMatroskaParser;function requireMatroskaParser(){if(hasRequiredMatroskaParser)return MatroskaParser;hasRequiredMatroskaParser=1,Object.defineProperty(MatroskaParser,"__esModule",{value:!0}),MatroskaParser.MatroskaParser=void 0;const ur=requireLib$2(),cr=requireBrowser$3(),hr=requireBasicParser(),dr=requireTypes(),mr=requireMatroskaDtd(),gr=(0,cr.default)("music-metadata:parser:matroska");let br=class extends hr.BasicParser{constructor(){super(),this.padding=0,this.parserMap=new Map,this.ebmlMaxIDLength=4,this.ebmlMaxSizeLength=8,this.parserMap.set(dr.DataType.uint,Tr=>this.readUint(Tr)),this.parserMap.set(dr.DataType.string,Tr=>this.readString(Tr)),this.parserMap.set(dr.DataType.binary,Tr=>this.readBuffer(Tr)),this.parserMap.set(dr.DataType.uid,async Tr=>await this.readUint(Tr)===1),this.parserMap.set(dr.DataType.bool,Tr=>this.readFlag(Tr)),this.parserMap.set(dr.DataType.float,Tr=>this.readFloat(Tr))}init(Tr,vr,Sr){return super.init(Tr,vr,Sr),this}async parse(){const Tr=await this.parseContainer(mr.elements,this.tokenizer.fileInfo.size,[]);if(this.metadata.setFormat("container",`EBML/${Tr.ebml.docType}`),Tr.segment){const vr=Tr.segment.info;if(vr){const _r=vr.timecodeScale?vr.timecodeScale:1e6;if(typeof vr.duration=="number"){const wr=vr.duration*_r/1e9;this.addTag("segment:title",vr.title),this.metadata.setFormat("duration",wr)}}const Sr=Tr.segment.tracks;if(Sr&&Sr.entries){Sr.entries.forEach(wr=>{const Er={codecName:wr.codecID.replace("A_","").replace("V_",""),codecSettings:wr.codecSettings,flagDefault:wr.flagDefault,flagLacing:wr.flagLacing,flagEnabled:wr.flagEnabled,language:wr.language,name:wr.name,type:wr.trackType,audio:wr.audio,video:wr.video};this.metadata.addStreamInfo(Er)});const _r=Sr.entries.filter(wr=>wr.trackType===dr.TrackType.audio.valueOf()).reduce((wr,Er)=>!wr||!wr.flagDefault&&Er.flagDefault||Er.trackNumber&&Er.trackNumber<wr.trackNumber?Er:wr,null);_r&&(this.metadata.setFormat("codec",_r.codecID.replace("A_","")),this.metadata.setFormat("sampleRate",_r.audio.samplingFrequency),this.metadata.setFormat("numberOfChannels",_r.audio.channels)),Tr.segment.tags&&Tr.segment.tags.tag.forEach(wr=>{const Er=wr.target,Ar=Er!=null&&Er.targetTypeValue?dr.TargetType[Er.targetTypeValue]:Er!=null&&Er.targetType?Er.targetType:"track";wr.simpleTags.forEach(kr=>{const Dr=kr.string?kr.string:kr.binary;this.addTag(`${Ar}:${kr.name}`,Dr)})}),Tr.segment.attachments&&Tr.segment.attachments.attachedFiles.filter(wr=>wr.mimeType.startsWith("image/")).map(wr=>({data:wr.data,format:wr.mimeType,description:wr.description,name:wr.name})).forEach(wr=>{this.addTag("picture",wr)})}}}async parseContainer(Tr,vr,Sr){const _r={};for(;this.tokenizer.position<vr;){let wr;try{wr=await this.readElement()}catch(Ar){if(Ar.message==="End-Of-Stream")break;throw Ar}const Er=Tr[wr.id];if(Er)if(gr(`Element: name=${Er.name}, container=${!!Er.container}`),Er.container){const Ar=await this.parseContainer(Er.container,wr.len>=0?this.tokenizer.position+wr.len:-1,Sr.concat([Er.name]));Er.multiple?(_r[Er.name]||(_r[Er.name]=[]),_r[Er.name].push(Ar)):_r[Er.name]=Ar}else _r[Er.name]=await this.parserMap.get(Er.value)(wr);else switch(wr.id){case 236:this.padding+=wr.len,await this.tokenizer.ignore(wr.len);break;default:gr(`parseEbml: path=${Sr.join("/")}, unknown element: id=${wr.id.toString(16)}`),this.padding+=wr.len,await this.tokenizer.ignore(wr.len)}}return _r}async readVintData(Tr){const vr=await this.tokenizer.peekNumber(ur.UINT8);let Sr=128,_r=1;for(;(vr&Sr)===0;){if(_r>Tr)throw new Error("VINT value exceeding maximum size");++_r,Sr>>=1}const wr=Buffer.alloc(_r);return await this.tokenizer.readBuffer(wr),wr}async readElement(){const Tr=await this.readVintData(this.ebmlMaxIDLength),vr=await this.readVintData(this.ebmlMaxSizeLength);vr[0]^=128>>vr.length-1;const Sr=Math.min(6,vr.length);return{id:Tr.readUIntBE(0,Tr.length),len:vr.readUIntBE(vr.length-Sr,Sr)}}isMaxValue(Tr){if(Tr.length===this.ebmlMaxSizeLength){for(let vr=1;vr<this.ebmlMaxSizeLength;++vr)if(Tr[vr]!==255)return!1;return!0}return!1}async readFloat(Tr){switch(Tr.len){case 0:return 0;case 4:return this.tokenizer.readNumber(ur.Float32_BE);case 8:return this.tokenizer.readNumber(ur.Float64_BE);case 10:return this.tokenizer.readNumber(ur.Float64_BE);default:throw new Error(`Invalid IEEE-754 float length: ${Tr.len}`)}}async readFlag(Tr){return await this.readUint(Tr)===1}async readUint(Tr){const vr=await this.readBuffer(Tr),Sr=Math.min(6,Tr.len);return vr.readUIntBE(Tr.len-Sr,Sr)}async readString(Tr){return(await this.tokenizer.readToken(new ur.StringType(Tr.len,"utf-8"))).replace(/\00.*$/g,"")}async readBuffer(Tr){const vr=Buffer.alloc(Tr.len);return await this.tokenizer.readBuffer(vr),vr}addTag(Tr,vr){this.metadata.addTag("matroska",Tr,vr)}};return MatroskaParser.MatroskaParser=br,MatroskaParser}var hasRequiredParserFactory;function requireParserFactory(){if(hasRequiredParserFactory)return ParserFactory;hasRequiredParserFactory=1,Object.defineProperty(ParserFactory,"__esModule",{value:!0}),ParserFactory.ParserFactory=ParserFactory.parseHttpContentType=void 0;const ur=requireCore$1(),cr=requireContentType(),hr=requireMediaTyper(),dr=requireBrowser$3(),mr=requireMetadataCollector(),gr=requireAiffParser(),br=requireAPEv2Parser(),yr=requireAsfParser(),Tr=requireFlacParser(),vr=requireMP4Parser(),Sr=requireMpegParser(),_r=requireMusepack(),wr=requireOggParser(),Er=requireWaveParser(),Ar=requireWavPackParser(),kr=requireDsfParser(),Dr=requireDsdiffParser(),Cr=requireMatroskaParser(),Or=(0,dr.default)("music-metadata:parser:factory");function qr(jr){const Br=cr.parse(jr),Ur=hr.parse(Br.type);return{type:Ur.type,subtype:Ur.subtype,suffix:Ur.suffix,parameters:Br.parameters}}ParserFactory.parseHttpContentType=qr;async function Hr(jr,Br,Ur={}){const Kr=await Lr.loadParser(Br),Yr=new mr.MetadataCollector(Ur);return await Kr.init(Yr,jr,Ur).parse(),Yr.toCommonMetadata()}let Lr=class gu{static async parseOnContentType(Br,Ur){const{mimeType:Kr,path:Yr,url:Wr}=await Br.fileInfo,sa=gu.getParserIdForMimeType(Kr)||gu.getParserIdForExtension(Yr)||gu.getParserIdForExtension(Wr);return sa||Or("No parser found for MIME-type / extension: "+Kr),this.parse(Br,sa,Ur)}static async parse(Br,Ur,Kr){if(!Ur){Or("Guess parser on content...");const Yr=Buffer.alloc(4100);if(await Br.peekBuffer(Yr,{mayBeLess:!0}),Br.fileInfo.path&&(Ur=this.getParserIdForExtension(Br.fileInfo.path)),!Ur){const Wr=await ur.fromBuffer(Yr);if(!Wr)throw new Error("Failed to determine audio format");if(Or(`Guessed file type is mime=${Wr.mime}, extension=${Wr.ext}`),Ur=gu.getParserIdForMimeType(Wr.mime),!Ur)throw new Error("Guessed MIME-type not supported: "+Wr.mime)}}return Hr(Br,Ur,Kr)}static getParserIdForExtension(Br){if(!Br)return;switch(this.getExtension(Br).toLocaleLowerCase()||Br){case".mp2":case".mp3":case".m2a":case".aac":return"mpeg";case".ape":return"apev2";case".mp4":case".m4a":case".m4b":case".m4pa":case".m4v":case".m4r":case".3gp":return"mp4";case".wma":case".wmv":case".asf":return"asf";case".flac":return"flac";case".ogg":case".ogv":case".oga":case".ogm":case".ogx":case".opus":case".spx":return"ogg";case".aif":case".aiff":case".aifc":return"aiff";case".wav":case".bwf":return"riff";case".wv":case".wvp":return"wavpack";case".mpc":return"musepack";case".dsf":return"dsf";case".dff":return"dsdiff";case".mka":case".mkv":case".mk3d":case".mks":case".webm":return"matroska"}}static async loadParser(Br){switch(Br){case"aiff":return new gr.AIFFParser;case"adts":case"mpeg":return new Sr.MpegParser;case"apev2":return new br.APEv2Parser;case"asf":return new yr.AsfParser;case"dsf":return new kr.DsfParser;case"dsdiff":return new Dr.DsdiffParser;case"flac":return new Tr.FlacParser;case"mp4":return new vr.MP4Parser;case"musepack":return new _r.default;case"ogg":return new wr.OggParser;case"riff":return new Er.WaveParser;case"wavpack":return new Ar.WavPackParser;case"matroska":return new Cr.MatroskaParser;default:throw new Error(`Unknown parser type: ${Br}`)}}static getExtension(Br){const Ur=Br.lastIndexOf(".");return Ur===-1?"":Br.slice(Ur)}static getParserIdForMimeType(Br){let Ur;try{Ur=qr(Br)}catch{Or(`Invalid HTTP Content-Type header value: ${Br}`);return}const Kr=Ur.subtype.indexOf("x-")===0?Ur.subtype.substring(2):Ur.subtype;switch(Ur.type){case"audio":switch(Kr){case"mp3":case"mpeg":return"mpeg";case"aac":case"aacp":return"adts";case"flac":return"flac";case"ape":case"monkeys-audio":return"apev2";case"mp4":case"m4a":return"mp4";case"ogg":case"opus":case"speex":return"ogg";case"ms-wma":case"ms-wmv":case"ms-asf":return"asf";case"aiff":case"aif":case"aifc":return"aiff";case"vnd.wave":case"wav":case"wave":return"riff";case"wavpack":return"wavpack";case"musepack":return"musepack";case"matroska":case"webm":return"matroska";case"dsf":return"dsf"}break;case"video":switch(Kr){case"ms-asf":case"ms-wmv":return"asf";case"m4v":case"mp4":return"mp4";case"ogg":return"ogg";case"matroska":case"webm":return"matroska"}break;case"application":switch(Kr){case"vnd.ms-asf":return"asf";case"ogg":return"ogg"}break}}};return ParserFactory.ParserFactory=Lr,ParserFactory}var RandomUint8ArrayReader={},hasRequiredRandomUint8ArrayReader;function requireRandomUint8ArrayReader(){if(hasRequiredRandomUint8ArrayReader)return RandomUint8ArrayReader;hasRequiredRandomUint8ArrayReader=1,Object.defineProperty(RandomUint8ArrayReader,"__esModule",{value:!0}),RandomUint8ArrayReader.RandomUint8ArrayReader=void 0;let ur=class{constructor(hr){this.uint8Array=hr,this.fileSize=hr.length}async randomRead(hr,dr,mr,gr){return hr.set(this.uint8Array.subarray(gr,gr+mr),dr),mr}};return RandomUint8ArrayReader.RandomUint8ArrayReader=ur,RandomUint8ArrayReader}var Lyrics3={},hasRequiredLyrics3;function requireLyrics3(){return hasRequiredLyrics3||(hasRequiredLyrics3=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.getLyricsHeaderLength=ur.endTag2=void 0,ur.endTag2="LYRICS200";async function cr(hr){if(hr.fileSize>=143){const dr=Buffer.alloc(15);await hr.randomRead(dr,0,dr.length,hr.fileSize-143);const mr=dr.toString("binary");if(mr.substr(6)===ur.endTag2)return parseInt(mr.substr(0,6),10)+15}return 0}ur.getLyricsHeaderLength=cr})(Lyrics3)),Lyrics3}var hasRequiredCore;function requireCore(){if(hasRequiredCore)return core$2;hasRequiredCore=1,Object.defineProperty(core$2,"__esModule",{value:!0}),core$2.scanAppendingHeaders=core$2.selectCover=core$2.ratingToStars=core$2.orderTags=core$2.parseFromTokenizer=core$2.parseBuffer=core$2.parseStream=void 0;const ur=requireCore$2(),cr=requireParserFactory(),hr=requireRandomUint8ArrayReader(),dr=requireAPEv2Parser(),mr=requireID3v1Parser(),gr=requireLyrics3();function br(Er,Ar,kr={}){return Tr(ur.fromStream(Er,typeof Ar=="string"?{mimeType:Ar}:Ar),kr)}core$2.parseStream=br;async function yr(Er,Ar,kr={}){const Dr=new hr.RandomUint8ArrayReader(Er);await wr(Dr,kr);const Cr=ur.fromBuffer(Er,typeof Ar=="string"?{mimeType:Ar}:Ar);return Tr(Cr,kr)}core$2.parseBuffer=yr;function Tr(Er,Ar){return cr.ParserFactory.parseOnContentType(Er,Ar)}core$2.parseFromTokenizer=Tr;function vr(Er){const Ar={};for(const kr of Er)(Ar[kr.id]=Ar[kr.id]||[]).push(kr.value);return Ar}core$2.orderTags=vr;function Sr(Er){return Er===void 0?0:1+Math.round(Er*4)}core$2.ratingToStars=Sr;function _r(Er){return Er?Er.reduce((Ar,kr)=>kr.name&&kr.name.toLowerCase()in["front","cover","cover (front)"]?kr:Ar):null}core$2.selectCover=_r;async function wr(Er,Ar={}){let kr=Er.fileSize;if(await(0,mr.hasID3v1Header)(Er)){kr-=128;const Dr=await(0,gr.getLyricsHeaderLength)(Er);kr-=Dr}Ar.apeHeader=await dr.APEv2Parser.findApeFooterOffset(Er,kr)}return core$2.scanAppendingHeaders=wr,core$2}var lib={},browser$2={exports:{}},stream={exports:{}},buffer={},base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=yr,base64Js.toByteArray=vr,base64Js.fromByteArray=wr;for(var ur=[],cr=[],hr=typeof Uint8Array<"u"?Uint8Array:Array,dr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mr=0,gr=dr.length;mr<gr;++mr)ur[mr]=dr[mr],cr[dr.charCodeAt(mr)]=mr;cr[45]=62,cr[95]=63;function br(Er){var Ar=Er.length;if(Ar%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var kr=Er.indexOf("=");kr===-1&&(kr=Ar);var Dr=kr===Ar?0:4-kr%4;return[kr,Dr]}function yr(Er){var Ar=br(Er),kr=Ar[0],Dr=Ar[1];return(kr+Dr)*3/4-Dr}function Tr(Er,Ar,kr){return(Ar+kr)*3/4-kr}function vr(Er){var Ar,kr=br(Er),Dr=kr[0],Cr=kr[1],Or=new hr(Tr(Er,Dr,Cr)),qr=0,Hr=Cr>0?Dr-4:Dr,Lr;for(Lr=0;Lr<Hr;Lr+=4)Ar=cr[Er.charCodeAt(Lr)]<<18|cr[Er.charCodeAt(Lr+1)]<<12|cr[Er.charCodeAt(Lr+2)]<<6|cr[Er.charCodeAt(Lr+3)],Or[qr++]=Ar>>16&255,Or[qr++]=Ar>>8&255,Or[qr++]=Ar&255;return Cr===2&&(Ar=cr[Er.charCodeAt(Lr)]<<2|cr[Er.charCodeAt(Lr+1)]>>4,Or[qr++]=Ar&255),Cr===1&&(Ar=cr[Er.charCodeAt(Lr)]<<10|cr[Er.charCodeAt(Lr+1)]<<4|cr[Er.charCodeAt(Lr+2)]>>2,Or[qr++]=Ar>>8&255,Or[qr++]=Ar&255),Or}function Sr(Er){return ur[Er>>18&63]+ur[Er>>12&63]+ur[Er>>6&63]+ur[Er&63]}function _r(Er,Ar,kr){for(var Dr,Cr=[],Or=Ar;Or<kr;Or+=3)Dr=(Er[Or]<<16&16711680)+(Er[Or+1]<<8&65280)+(Er[Or+2]&255),Cr.push(Sr(Dr));return Cr.join("")}function wr(Er){for(var Ar,kr=Er.length,Dr=kr%3,Cr=[],Or=16383,qr=0,Hr=kr-Dr;qr<Hr;qr+=Or)Cr.push(_r(Er,qr,qr+Or>Hr?Hr:qr+Or));return Dr===1?(Ar=Er[kr-1],Cr.push(ur[Ar>>2]+ur[Ar<<4&63]+"==")):Dr===2&&(Ar=(Er[kr-2]<<8)+Er[kr-1],Cr.push(ur[Ar>>10]+ur[Ar>>4&63]+ur[Ar<<2&63]+"=")),Cr.join("")}return base64Js}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hasRequiredBuffer;function requireBuffer(){return hasRequiredBuffer||(hasRequiredBuffer=1,(function(ur){const cr=requireBase64Js(),hr=requireIeee754(),dr=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ur.Buffer=yr,ur.SlowBuffer=Or,ur.INSPECT_MAX_BYTES=50;const mr=2147483647;ur.kMaxLength=mr,yr.TYPED_ARRAY_SUPPORT=gr(),!yr.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function gr(){try{const Pr=new Uint8Array(1),Rr={foo:function(){return 42}};return Object.setPrototypeOf(Rr,Uint8Array.prototype),Object.setPrototypeOf(Pr,Rr),Pr.foo()===42}catch{return!1}}Object.defineProperty(yr.prototype,"parent",{enumerable:!0,get:function(){if(yr.isBuffer(this))return this.buffer}}),Object.defineProperty(yr.prototype,"offset",{enumerable:!0,get:function(){if(yr.isBuffer(this))return this.byteOffset}});function br(Pr){if(Pr>mr)throw new RangeError('The value "'+Pr+'" is invalid for option "size"');const Rr=new Uint8Array(Pr);return Object.setPrototypeOf(Rr,yr.prototype),Rr}function yr(Pr,Rr,Mr){if(typeof Pr=="number"){if(typeof Rr=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _r(Pr)}return Tr(Pr,Rr,Mr)}yr.poolSize=8192;function Tr(Pr,Rr,Mr){if(typeof Pr=="string")return wr(Pr,Rr);if(ArrayBuffer.isView(Pr))return Ar(Pr);if(Pr==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Pr);if(ca(Pr,ArrayBuffer)||Pr&&ca(Pr.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ca(Pr,SharedArrayBuffer)||Pr&&ca(Pr.buffer,SharedArrayBuffer)))return kr(Pr,Rr,Mr);if(typeof Pr=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Vr=Pr.valueOf&&Pr.valueOf();if(Vr!=null&&Vr!==Pr)return yr.from(Vr,Rr,Mr);const aa=Dr(Pr);if(aa)return aa;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Pr[Symbol.toPrimitive]=="function")return yr.from(Pr[Symbol.toPrimitive]("string"),Rr,Mr);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Pr)}yr.from=function(Pr,Rr,Mr){return Tr(Pr,Rr,Mr)},Object.setPrototypeOf(yr.prototype,Uint8Array.prototype),Object.setPrototypeOf(yr,Uint8Array);function vr(Pr){if(typeof Pr!="number")throw new TypeError('"size" argument must be of type number');if(Pr<0)throw new RangeError('The value "'+Pr+'" is invalid for option "size"')}function Sr(Pr,Rr,Mr){return vr(Pr),Pr<=0?br(Pr):Rr!==void 0?typeof Mr=="string"?br(Pr).fill(Rr,Mr):br(Pr).fill(Rr):br(Pr)}yr.alloc=function(Pr,Rr,Mr){return Sr(Pr,Rr,Mr)};function _r(Pr){return vr(Pr),br(Pr<0?0:Cr(Pr)|0)}yr.allocUnsafe=function(Pr){return _r(Pr)},yr.allocUnsafeSlow=function(Pr){return _r(Pr)};function wr(Pr,Rr){if((typeof Rr!="string"||Rr==="")&&(Rr="utf8"),!yr.isEncoding(Rr))throw new TypeError("Unknown encoding: "+Rr);const Mr=qr(Pr,Rr)|0;let Vr=br(Mr);const aa=Vr.write(Pr,Rr);return aa!==Mr&&(Vr=Vr.slice(0,aa)),Vr}function Er(Pr){const Rr=Pr.length<0?0:Cr(Pr.length)|0,Mr=br(Rr);for(let Vr=0;Vr<Rr;Vr+=1)Mr[Vr]=Pr[Vr]&255;return Mr}function Ar(Pr){if(ca(Pr,Uint8Array)){const Rr=new Uint8Array(Pr);return kr(Rr.buffer,Rr.byteOffset,Rr.byteLength)}return Er(Pr)}function kr(Pr,Rr,Mr){if(Rr<0||Pr.byteLength<Rr)throw new RangeError('"offset" is outside of buffer bounds');if(Pr.byteLength<Rr+(Mr||0))throw new RangeError('"length" is outside of buffer bounds');let Vr;return Rr===void 0&&Mr===void 0?Vr=new Uint8Array(Pr):Mr===void 0?Vr=new Uint8Array(Pr,Rr):Vr=new Uint8Array(Pr,Rr,Mr),Object.setPrototypeOf(Vr,yr.prototype),Vr}function Dr(Pr){if(yr.isBuffer(Pr)){const Rr=Cr(Pr.length)|0,Mr=br(Rr);return Mr.length===0||Pr.copy(Mr,0,0,Rr),Mr}if(Pr.length!==void 0)return typeof Pr.length!="number"||Va(Pr.length)?br(0):Er(Pr);if(Pr.type==="Buffer"&&Array.isArray(Pr.data))return Er(Pr.data)}function Cr(Pr){if(Pr>=mr)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+mr.toString(16)+" bytes");return Pr|0}function Or(Pr){return+Pr!=Pr&&(Pr=0),yr.alloc(+Pr)}yr.isBuffer=function(Rr){return Rr!=null&&Rr._isBuffer===!0&&Rr!==yr.prototype},yr.compare=function(Rr,Mr){if(ca(Rr,Uint8Array)&&(Rr=yr.from(Rr,Rr.offset,Rr.byteLength)),ca(Mr,Uint8Array)&&(Mr=yr.from(Mr,Mr.offset,Mr.byteLength)),!yr.isBuffer(Rr)||!yr.isBuffer(Mr))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Rr===Mr)return 0;let Vr=Rr.length,aa=Mr.length;for(let fa=0,Aa=Math.min(Vr,aa);fa<Aa;++fa)if(Rr[fa]!==Mr[fa]){Vr=Rr[fa],aa=Mr[fa];break}return Vr<aa?-1:aa<Vr?1:0},yr.isEncoding=function(Rr){switch(String(Rr).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},yr.concat=function(Rr,Mr){if(!Array.isArray(Rr))throw new TypeError('"list" argument must be an Array of Buffers');if(Rr.length===0)return yr.alloc(0);let Vr;if(Mr===void 0)for(Mr=0,Vr=0;Vr<Rr.length;++Vr)Mr+=Rr[Vr].length;const aa=yr.allocUnsafe(Mr);let fa=0;for(Vr=0;Vr<Rr.length;++Vr){let Aa=Rr[Vr];if(ca(Aa,Uint8Array))fa+Aa.length>aa.length?(yr.isBuffer(Aa)||(Aa=yr.from(Aa)),Aa.copy(aa,fa)):Uint8Array.prototype.set.call(aa,Aa,fa);else if(yr.isBuffer(Aa))Aa.copy(aa,fa);else throw new TypeError('"list" argument must be an Array of Buffers');fa+=Aa.length}return aa};function qr(Pr,Rr){if(yr.isBuffer(Pr))return Pr.length;if(ArrayBuffer.isView(Pr)||ca(Pr,ArrayBuffer))return Pr.byteLength;if(typeof Pr!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Pr);const Mr=Pr.length,Vr=arguments.length>2&&arguments[2]===!0;if(!Vr&&Mr===0)return 0;let aa=!1;for(;;)switch(Rr){case"ascii":case"latin1":case"binary":return Mr;case"utf8":case"utf-8":return Pa(Pr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Mr*2;case"hex":return Mr>>>1;case"base64":return ka(Pr).length;default:if(aa)return Vr?-1:Pa(Pr).length;Rr=(""+Rr).toLowerCase(),aa=!0}}yr.byteLength=qr;function Hr(Pr,Rr,Mr){let Vr=!1;if((Rr===void 0||Rr<0)&&(Rr=0),Rr>this.length||((Mr===void 0||Mr>this.length)&&(Mr=this.length),Mr<=0)||(Mr>>>=0,Rr>>>=0,Mr<=Rr))return"";for(Pr||(Pr="utf8");;)switch(Pr){case"hex":return Ba(this,Rr,Mr);case"utf8":case"utf-8":return oa(this,Rr,Mr);case"ascii":return xa(this,Rr,Mr);case"latin1":case"binary":return ua(this,Rr,Mr);case"base64":return ta(this,Rr,Mr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xr(this,Rr,Mr);default:if(Vr)throw new TypeError("Unknown encoding: "+Pr);Pr=(Pr+"").toLowerCase(),Vr=!0}}yr.prototype._isBuffer=!0;function Lr(Pr,Rr,Mr){const Vr=Pr[Rr];Pr[Rr]=Pr[Mr],Pr[Mr]=Vr}yr.prototype.swap16=function(){const Rr=this.length;if(Rr%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Mr=0;Mr<Rr;Mr+=2)Lr(this,Mr,Mr+1);return this},yr.prototype.swap32=function(){const Rr=this.length;if(Rr%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Mr=0;Mr<Rr;Mr+=4)Lr(this,Mr,Mr+3),Lr(this,Mr+1,Mr+2);return this},yr.prototype.swap64=function(){const Rr=this.length;if(Rr%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Mr=0;Mr<Rr;Mr+=8)Lr(this,Mr,Mr+7),Lr(this,Mr+1,Mr+6),Lr(this,Mr+2,Mr+5),Lr(this,Mr+3,Mr+4);return this},yr.prototype.toString=function(){const Rr=this.length;return Rr===0?"":arguments.length===0?oa(this,0,Rr):Hr.apply(this,arguments)},yr.prototype.toLocaleString=yr.prototype.toString,yr.prototype.equals=function(Rr){if(!yr.isBuffer(Rr))throw new TypeError("Argument must be a Buffer");return this===Rr?!0:yr.compare(this,Rr)===0},yr.prototype.inspect=function(){let Rr="";const Mr=ur.INSPECT_MAX_BYTES;return Rr=this.toString("hex",0,Mr).replace(/(.{2})/g,"$1 ").trim(),this.length>Mr&&(Rr+=" ... "),"<Buffer "+Rr+">"},dr&&(yr.prototype[dr]=yr.prototype.inspect),yr.prototype.compare=function(Rr,Mr,Vr,aa,fa){if(ca(Rr,Uint8Array)&&(Rr=yr.from(Rr,Rr.offset,Rr.byteLength)),!yr.isBuffer(Rr))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Rr);if(Mr===void 0&&(Mr=0),Vr===void 0&&(Vr=Rr?Rr.length:0),aa===void 0&&(aa=0),fa===void 0&&(fa=this.length),Mr<0||Vr>Rr.length||aa<0||fa>this.length)throw new RangeError("out of range index");if(aa>=fa&&Mr>=Vr)return 0;if(aa>=fa)return-1;if(Mr>=Vr)return 1;if(Mr>>>=0,Vr>>>=0,aa>>>=0,fa>>>=0,this===Rr)return 0;let Aa=fa-aa,Wa=Vr-Mr;const ei=Math.min(Aa,Wa),Ja=this.slice(aa,fa),xi=Rr.slice(Mr,Vr);for(let hi=0;hi<ei;++hi)if(Ja[hi]!==xi[hi]){Aa=Ja[hi],Wa=xi[hi];break}return Aa<Wa?-1:Wa<Aa?1:0};function jr(Pr,Rr,Mr,Vr,aa){if(Pr.length===0)return-1;if(typeof Mr=="string"?(Vr=Mr,Mr=0):Mr>2147483647?Mr=2147483647:Mr<-2147483648&&(Mr=-2147483648),Mr=+Mr,Va(Mr)&&(Mr=aa?0:Pr.length-1),Mr<0&&(Mr=Pr.length+Mr),Mr>=Pr.length){if(aa)return-1;Mr=Pr.length-1}else if(Mr<0)if(aa)Mr=0;else return-1;if(typeof Rr=="string"&&(Rr=yr.from(Rr,Vr)),yr.isBuffer(Rr))return Rr.length===0?-1:Br(Pr,Rr,Mr,Vr,aa);if(typeof Rr=="number")return Rr=Rr&255,typeof Uint8Array.prototype.indexOf=="function"?aa?Uint8Array.prototype.indexOf.call(Pr,Rr,Mr):Uint8Array.prototype.lastIndexOf.call(Pr,Rr,Mr):Br(Pr,[Rr],Mr,Vr,aa);throw new TypeError("val must be string, number or Buffer")}function Br(Pr,Rr,Mr,Vr,aa){let fa=1,Aa=Pr.length,Wa=Rr.length;if(Vr!==void 0&&(Vr=String(Vr).toLowerCase(),Vr==="ucs2"||Vr==="ucs-2"||Vr==="utf16le"||Vr==="utf-16le")){if(Pr.length<2||Rr.length<2)return-1;fa=2,Aa/=2,Wa/=2,Mr/=2}function ei(xi,hi){return fa===1?xi[hi]:xi.readUInt16BE(hi*fa)}let Ja;if(aa){let xi=-1;for(Ja=Mr;Ja<Aa;Ja++)if(ei(Pr,Ja)===ei(Rr,xi===-1?0:Ja-xi)){if(xi===-1&&(xi=Ja),Ja-xi+1===Wa)return xi*fa}else xi!==-1&&(Ja-=Ja-xi),xi=-1}else for(Mr+Wa>Aa&&(Mr=Aa-Wa),Ja=Mr;Ja>=0;Ja--){let xi=!0;for(let hi=0;hi<Wa;hi++)if(ei(Pr,Ja+hi)!==ei(Rr,hi)){xi=!1;break}if(xi)return Ja}return-1}yr.prototype.includes=function(Rr,Mr,Vr){return this.indexOf(Rr,Mr,Vr)!==-1},yr.prototype.indexOf=function(Rr,Mr,Vr){return jr(this,Rr,Mr,Vr,!0)},yr.prototype.lastIndexOf=function(Rr,Mr,Vr){return jr(this,Rr,Mr,Vr,!1)};function Ur(Pr,Rr,Mr,Vr){Mr=Number(Mr)||0;const aa=Pr.length-Mr;Vr?(Vr=Number(Vr),Vr>aa&&(Vr=aa)):Vr=aa;const fa=Rr.length;Vr>fa/2&&(Vr=fa/2);let Aa;for(Aa=0;Aa<Vr;++Aa){const Wa=parseInt(Rr.substr(Aa*2,2),16);if(Va(Wa))return Aa;Pr[Mr+Aa]=Wa}return Aa}function Kr(Pr,Rr,Mr,Vr){return Ua(Pa(Rr,Pr.length-Mr),Pr,Mr,Vr)}function Yr(Pr,Rr,Mr,Vr){return Ua(qa(Rr),Pr,Mr,Vr)}function Wr(Pr,Rr,Mr,Vr){return Ua(ka(Rr),Pr,Mr,Vr)}function sa(Pr,Rr,Mr,Vr){return Ua(ea(Rr,Pr.length-Mr),Pr,Mr,Vr)}yr.prototype.write=function(Rr,Mr,Vr,aa){if(Mr===void 0)aa="utf8",Vr=this.length,Mr=0;else if(Vr===void 0&&typeof Mr=="string")aa=Mr,Vr=this.length,Mr=0;else if(isFinite(Mr))Mr=Mr>>>0,isFinite(Vr)?(Vr=Vr>>>0,aa===void 0&&(aa="utf8")):(aa=Vr,Vr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const fa=this.length-Mr;if((Vr===void 0||Vr>fa)&&(Vr=fa),Rr.length>0&&(Vr<0||Mr<0)||Mr>this.length)throw new RangeError("Attempt to write outside buffer bounds");aa||(aa="utf8");let Aa=!1;for(;;)switch(aa){case"hex":return Ur(this,Rr,Mr,Vr);case"utf8":case"utf-8":return Kr(this,Rr,Mr,Vr);case"ascii":case"latin1":case"binary":return Yr(this,Rr,Mr,Vr);case"base64":return Wr(this,Rr,Mr,Vr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return sa(this,Rr,Mr,Vr);default:if(Aa)throw new TypeError("Unknown encoding: "+aa);aa=(""+aa).toLowerCase(),Aa=!0}},yr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ta(Pr,Rr,Mr){return Rr===0&&Mr===Pr.length?cr.fromByteArray(Pr):cr.fromByteArray(Pr.slice(Rr,Mr))}function oa(Pr,Rr,Mr){Mr=Math.min(Pr.length,Mr);const Vr=[];let aa=Rr;for(;aa<Mr;){const fa=Pr[aa];let Aa=null,Wa=fa>239?4:fa>223?3:fa>191?2:1;if(aa+Wa<=Mr){let ei,Ja,xi,hi;switch(Wa){case 1:fa<128&&(Aa=fa);break;case 2:ei=Pr[aa+1],(ei&192)===128&&(hi=(fa&31)<<6|ei&63,hi>127&&(Aa=hi));break;case 3:ei=Pr[aa+1],Ja=Pr[aa+2],(ei&192)===128&&(Ja&192)===128&&(hi=(fa&15)<<12|(ei&63)<<6|Ja&63,hi>2047&&(hi<55296||hi>57343)&&(Aa=hi));break;case 4:ei=Pr[aa+1],Ja=Pr[aa+2],xi=Pr[aa+3],(ei&192)===128&&(Ja&192)===128&&(xi&192)===128&&(hi=(fa&15)<<18|(ei&63)<<12|(Ja&63)<<6|xi&63,hi>65535&&hi<1114112&&(Aa=hi))}}Aa===null?(Aa=65533,Wa=1):Aa>65535&&(Aa-=65536,Vr.push(Aa>>>10&1023|55296),Aa=56320|Aa&1023),Vr.push(Aa),aa+=Wa}return $r(Vr)}const Ia=4096;function $r(Pr){const Rr=Pr.length;if(Rr<=Ia)return String.fromCharCode.apply(String,Pr);let Mr="",Vr=0;for(;Vr<Rr;)Mr+=String.fromCharCode.apply(String,Pr.slice(Vr,Vr+=Ia));return Mr}function xa(Pr,Rr,Mr){let Vr="";Mr=Math.min(Pr.length,Mr);for(let aa=Rr;aa<Mr;++aa)Vr+=String.fromCharCode(Pr[aa]&127);return Vr}function ua(Pr,Rr,Mr){let Vr="";Mr=Math.min(Pr.length,Mr);for(let aa=Rr;aa<Mr;++aa)Vr+=String.fromCharCode(Pr[aa]);return Vr}function Ba(Pr,Rr,Mr){const Vr=Pr.length;(!Rr||Rr<0)&&(Rr=0),(!Mr||Mr<0||Mr>Vr)&&(Mr=Vr);let aa="";for(let fa=Rr;fa<Mr;++fa)aa+=ni[Pr[fa]];return aa}function Xr(Pr,Rr,Mr){const Vr=Pr.slice(Rr,Mr);let aa="";for(let fa=0;fa<Vr.length-1;fa+=2)aa+=String.fromCharCode(Vr[fa]+Vr[fa+1]*256);return aa}yr.prototype.slice=function(Rr,Mr){const Vr=this.length;Rr=~~Rr,Mr=Mr===void 0?Vr:~~Mr,Rr<0?(Rr+=Vr,Rr<0&&(Rr=0)):Rr>Vr&&(Rr=Vr),Mr<0?(Mr+=Vr,Mr<0&&(Mr=0)):Mr>Vr&&(Mr=Vr),Mr<Rr&&(Mr=Rr);const aa=this.subarray(Rr,Mr);return Object.setPrototypeOf(aa,yr.prototype),aa};function Fr(Pr,Rr,Mr){if(Pr%1!==0||Pr<0)throw new RangeError("offset is not uint");if(Pr+Rr>Mr)throw new RangeError("Trying to access beyond buffer length")}yr.prototype.readUintLE=yr.prototype.readUIntLE=function(Rr,Mr,Vr){Rr=Rr>>>0,Mr=Mr>>>0,Vr||Fr(Rr,Mr,this.length);let aa=this[Rr],fa=1,Aa=0;for(;++Aa<Mr&&(fa*=256);)aa+=this[Rr+Aa]*fa;return aa},yr.prototype.readUintBE=yr.prototype.readUIntBE=function(Rr,Mr,Vr){Rr=Rr>>>0,Mr=Mr>>>0,Vr||Fr(Rr,Mr,this.length);let aa=this[Rr+--Mr],fa=1;for(;Mr>0&&(fa*=256);)aa+=this[Rr+--Mr]*fa;return aa},yr.prototype.readUint8=yr.prototype.readUInt8=function(Rr,Mr){return Rr=Rr>>>0,Mr||Fr(Rr,1,this.length),this[Rr]},yr.prototype.readUint16LE=yr.prototype.readUInt16LE=function(Rr,Mr){return Rr=Rr>>>0,Mr||Fr(Rr,2,this.length),this[Rr]|this[Rr+1]<<8},yr.prototype.readUint16BE=yr.prototype.readUInt16BE=function(Rr,Mr){return Rr=Rr>>>0,Mr||Fr(Rr,2,this.length),this[Rr]<<8|this[Rr+1]},yr.prototype.readUint32LE=yr.prototype.readUInt32LE=function(Rr,Mr){return Rr=Rr>>>0,Mr||Fr(Rr,4,this.length),(this[Rr]|this[Rr+1]<<8|this[Rr+2]<<16)+this[Rr+3]*16777216},yr.prototype.readUint32BE=yr.prototype.readUInt32BE=function(Rr,Mr){return Rr=Rr>>>0,Mr||Fr(Rr,4,this.length),this[Rr]*16777216+(this[Rr+1]<<16|this[Rr+2]<<8|this[Rr+3])},yr.prototype.readBigUInt64LE=ii(function(Rr){Rr=Rr>>>0,na(Rr,"offset");const Mr=this[Rr],Vr=this[Rr+7];(Mr===void 0||Vr===void 0)&&ia(Rr,this.length-8);const aa=Mr+this[++Rr]*2**8+this[++Rr]*2**16+this[++Rr]*2**24,fa=this[++Rr]+this[++Rr]*2**8+this[++Rr]*2**16+Vr*2**24;return BigInt(aa)+(BigInt(fa)<<BigInt(32))}),yr.prototype.readBigUInt64BE=ii(function(Rr){Rr=Rr>>>0,na(Rr,"offset");const Mr=this[Rr],Vr=this[Rr+7];(Mr===void 0||Vr===void 0)&&ia(Rr,this.length-8);const aa=Mr*2**24+this[++Rr]*2**16+this[++Rr]*2**8+this[++Rr],fa=this[++Rr]*2**24+this[++Rr]*2**16+this[++Rr]*2**8+Vr;return(BigInt(aa)<<BigInt(32))+BigInt(fa)}),yr.prototype.readIntLE=function(Rr,Mr,Vr){Rr=Rr>>>0,Mr=Mr>>>0,Vr||Fr(Rr,Mr,this.length);let aa=this[Rr],fa=1,Aa=0;for(;++Aa<Mr&&(fa*=256);)aa+=this[Rr+Aa]*fa;return fa*=128,aa>=fa&&(aa-=Math.pow(2,8*Mr)),aa},yr.prototype.readIntBE=function(Rr,Mr,Vr){Rr=Rr>>>0,Mr=Mr>>>0,Vr||Fr(Rr,Mr,this.length);let aa=Mr,fa=1,Aa=this[Rr+--aa];for(;aa>0&&(fa*=256);)Aa+=this[Rr+--aa]*fa;return fa*=128,Aa>=fa&&(Aa-=Math.pow(2,8*Mr)),Aa},yr.prototype.readInt8=function(Rr,Mr){return Rr=Rr>>>0,Mr||Fr(Rr,1,this.length),this[Rr]&128?(255-this[Rr]+1)*-1:this[Rr]},yr.prototype.readInt16LE=function(Rr,Mr){Rr=Rr>>>0,Mr||Fr(Rr,2,this.length);const Vr=this[Rr]|this[Rr+1]<<8;return Vr&32768?Vr|4294901760:Vr},yr.prototype.readInt16BE=function(Rr,Mr){Rr=Rr>>>0,Mr||Fr(Rr,2,this.length);const Vr=this[Rr+1]|this[Rr]<<8;return Vr&32768?Vr|4294901760:Vr},yr.prototype.readInt32LE=function(Rr,Mr){return Rr=Rr>>>0,Mr||Fr(Rr,4,this.length),this[Rr]|this[Rr+1]<<8|this[Rr+2]<<16|this[Rr+3]<<24},yr.prototype.readInt32BE=function(Rr,Mr){return Rr=Rr>>>0,Mr||Fr(Rr,4,this.length),this[Rr]<<24|this[Rr+1]<<16|this[Rr+2]<<8|this[Rr+3]},yr.prototype.readBigInt64LE=ii(function(Rr){Rr=Rr>>>0,na(Rr,"offset");const Mr=this[Rr],Vr=this[Rr+7];(Mr===void 0||Vr===void 0)&&ia(Rr,this.length-8);const aa=this[Rr+4]+this[Rr+5]*2**8+this[Rr+6]*2**16+(Vr<<24);return(BigInt(aa)<<BigInt(32))+BigInt(Mr+this[++Rr]*2**8+this[++Rr]*2**16+this[++Rr]*2**24)}),yr.prototype.readBigInt64BE=ii(function(Rr){Rr=Rr>>>0,na(Rr,"offset");const Mr=this[Rr],Vr=this[Rr+7];(Mr===void 0||Vr===void 0)&&ia(Rr,this.length-8);const aa=(Mr<<24)+this[++Rr]*2**16+this[++Rr]*2**8+this[++Rr];return(BigInt(aa)<<BigInt(32))+BigInt(this[++Rr]*2**24+this[++Rr]*2**16+this[++Rr]*2**8+Vr)}),yr.prototype.readFloatLE=function(Rr,Mr){return Rr=Rr>>>0,Mr||Fr(Rr,4,this.length),hr.read(this,Rr,!0,23,4)},yr.prototype.readFloatBE=function(Rr,Mr){return Rr=Rr>>>0,Mr||Fr(Rr,4,this.length),hr.read(this,Rr,!1,23,4)},yr.prototype.readDoubleLE=function(Rr,Mr){return Rr=Rr>>>0,Mr||Fr(Rr,8,this.length),hr.read(this,Rr,!0,52,8)},yr.prototype.readDoubleBE=function(Rr,Mr){return Rr=Rr>>>0,Mr||Fr(Rr,8,this.length),hr.read(this,Rr,!1,52,8)};function Qr(Pr,Rr,Mr,Vr,aa,fa){if(!yr.isBuffer(Pr))throw new TypeError('"buffer" argument must be a Buffer instance');if(Rr>aa||Rr<fa)throw new RangeError('"value" argument is out of bounds');if(Mr+Vr>Pr.length)throw new RangeError("Index out of range")}yr.prototype.writeUintLE=yr.prototype.writeUIntLE=function(Rr,Mr,Vr,aa){if(Rr=+Rr,Mr=Mr>>>0,Vr=Vr>>>0,!aa){const Wa=Math.pow(2,8*Vr)-1;Qr(this,Rr,Mr,Vr,Wa,0)}let fa=1,Aa=0;for(this[Mr]=Rr&255;++Aa<Vr&&(fa*=256);)this[Mr+Aa]=Rr/fa&255;return Mr+Vr},yr.prototype.writeUintBE=yr.prototype.writeUIntBE=function(Rr,Mr,Vr,aa){if(Rr=+Rr,Mr=Mr>>>0,Vr=Vr>>>0,!aa){const Wa=Math.pow(2,8*Vr)-1;Qr(this,Rr,Mr,Vr,Wa,0)}let fa=Vr-1,Aa=1;for(this[Mr+fa]=Rr&255;--fa>=0&&(Aa*=256);)this[Mr+fa]=Rr/Aa&255;return Mr+Vr},yr.prototype.writeUint8=yr.prototype.writeUInt8=function(Rr,Mr,Vr){return Rr=+Rr,Mr=Mr>>>0,Vr||Qr(this,Rr,Mr,1,255,0),this[Mr]=Rr&255,Mr+1},yr.prototype.writeUint16LE=yr.prototype.writeUInt16LE=function(Rr,Mr,Vr){return Rr=+Rr,Mr=Mr>>>0,Vr||Qr(this,Rr,Mr,2,65535,0),this[Mr]=Rr&255,this[Mr+1]=Rr>>>8,Mr+2},yr.prototype.writeUint16BE=yr.prototype.writeUInt16BE=function(Rr,Mr,Vr){return Rr=+Rr,Mr=Mr>>>0,Vr||Qr(this,Rr,Mr,2,65535,0),this[Mr]=Rr>>>8,this[Mr+1]=Rr&255,Mr+2},yr.prototype.writeUint32LE=yr.prototype.writeUInt32LE=function(Rr,Mr,Vr){return Rr=+Rr,Mr=Mr>>>0,Vr||Qr(this,Rr,Mr,4,4294967295,0),this[Mr+3]=Rr>>>24,this[Mr+2]=Rr>>>16,this[Mr+1]=Rr>>>8,this[Mr]=Rr&255,Mr+4},yr.prototype.writeUint32BE=yr.prototype.writeUInt32BE=function(Rr,Mr,Vr){return Rr=+Rr,Mr=Mr>>>0,Vr||Qr(this,Rr,Mr,4,4294967295,0),this[Mr]=Rr>>>24,this[Mr+1]=Rr>>>16,this[Mr+2]=Rr>>>8,this[Mr+3]=Rr&255,Mr+4};function ra(Pr,Rr,Mr,Vr,aa){Xa(Rr,Vr,aa,Pr,Mr,7);let fa=Number(Rr&BigInt(4294967295));Pr[Mr++]=fa,fa=fa>>8,Pr[Mr++]=fa,fa=fa>>8,Pr[Mr++]=fa,fa=fa>>8,Pr[Mr++]=fa;let Aa=Number(Rr>>BigInt(32)&BigInt(4294967295));return Pr[Mr++]=Aa,Aa=Aa>>8,Pr[Mr++]=Aa,Aa=Aa>>8,Pr[Mr++]=Aa,Aa=Aa>>8,Pr[Mr++]=Aa,Mr}function Ta(Pr,Rr,Mr,Vr,aa){Xa(Rr,Vr,aa,Pr,Mr,7);let fa=Number(Rr&BigInt(4294967295));Pr[Mr+7]=fa,fa=fa>>8,Pr[Mr+6]=fa,fa=fa>>8,Pr[Mr+5]=fa,fa=fa>>8,Pr[Mr+4]=fa;let Aa=Number(Rr>>BigInt(32)&BigInt(4294967295));return Pr[Mr+3]=Aa,Aa=Aa>>8,Pr[Mr+2]=Aa,Aa=Aa>>8,Pr[Mr+1]=Aa,Aa=Aa>>8,Pr[Mr]=Aa,Mr+8}yr.prototype.writeBigUInt64LE=ii(function(Rr,Mr=0){return ra(this,Rr,Mr,BigInt(0),BigInt("0xffffffffffffffff"))}),yr.prototype.writeBigUInt64BE=ii(function(Rr,Mr=0){return Ta(this,Rr,Mr,BigInt(0),BigInt("0xffffffffffffffff"))}),yr.prototype.writeIntLE=function(Rr,Mr,Vr,aa){if(Rr=+Rr,Mr=Mr>>>0,!aa){const ei=Math.pow(2,8*Vr-1);Qr(this,Rr,Mr,Vr,ei-1,-ei)}let fa=0,Aa=1,Wa=0;for(this[Mr]=Rr&255;++fa<Vr&&(Aa*=256);)Rr<0&&Wa===0&&this[Mr+fa-1]!==0&&(Wa=1),this[Mr+fa]=(Rr/Aa>>0)-Wa&255;return Mr+Vr},yr.prototype.writeIntBE=function(Rr,Mr,Vr,aa){if(Rr=+Rr,Mr=Mr>>>0,!aa){const ei=Math.pow(2,8*Vr-1);Qr(this,Rr,Mr,Vr,ei-1,-ei)}let fa=Vr-1,Aa=1,Wa=0;for(this[Mr+fa]=Rr&255;--fa>=0&&(Aa*=256);)Rr<0&&Wa===0&&this[Mr+fa+1]!==0&&(Wa=1),this[Mr+fa]=(Rr/Aa>>0)-Wa&255;return Mr+Vr},yr.prototype.writeInt8=function(Rr,Mr,Vr){return Rr=+Rr,Mr=Mr>>>0,Vr||Qr(this,Rr,Mr,1,127,-128),Rr<0&&(Rr=255+Rr+1),this[Mr]=Rr&255,Mr+1},yr.prototype.writeInt16LE=function(Rr,Mr,Vr){return Rr=+Rr,Mr=Mr>>>0,Vr||Qr(this,Rr,Mr,2,32767,-32768),this[Mr]=Rr&255,this[Mr+1]=Rr>>>8,Mr+2},yr.prototype.writeInt16BE=function(Rr,Mr,Vr){return Rr=+Rr,Mr=Mr>>>0,Vr||Qr(this,Rr,Mr,2,32767,-32768),this[Mr]=Rr>>>8,this[Mr+1]=Rr&255,Mr+2},yr.prototype.writeInt32LE=function(Rr,Mr,Vr){return Rr=+Rr,Mr=Mr>>>0,Vr||Qr(this,Rr,Mr,4,2147483647,-2147483648),this[Mr]=Rr&255,this[Mr+1]=Rr>>>8,this[Mr+2]=Rr>>>16,this[Mr+3]=Rr>>>24,Mr+4},yr.prototype.writeInt32BE=function(Rr,Mr,Vr){return Rr=+Rr,Mr=Mr>>>0,Vr||Qr(this,Rr,Mr,4,2147483647,-2147483648),Rr<0&&(Rr=4294967295+Rr+1),this[Mr]=Rr>>>24,this[Mr+1]=Rr>>>16,this[Mr+2]=Rr>>>8,this[Mr+3]=Rr&255,Mr+4},yr.prototype.writeBigInt64LE=ii(function(Rr,Mr=0){return ra(this,Rr,Mr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),yr.prototype.writeBigInt64BE=ii(function(Rr,Mr=0){return Ta(this,Rr,Mr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ma(Pr,Rr,Mr,Vr,aa,fa){if(Mr+Vr>Pr.length)throw new RangeError("Index out of range");if(Mr<0)throw new RangeError("Index out of range")}function La(Pr,Rr,Mr,Vr,aa){return Rr=+Rr,Mr=Mr>>>0,aa||Ma(Pr,Rr,Mr,4),hr.write(Pr,Rr,Mr,Vr,23,4),Mr+4}yr.prototype.writeFloatLE=function(Rr,Mr,Vr){return La(this,Rr,Mr,!0,Vr)},yr.prototype.writeFloatBE=function(Rr,Mr,Vr){return La(this,Rr,Mr,!1,Vr)};function za(Pr,Rr,Mr,Vr,aa){return Rr=+Rr,Mr=Mr>>>0,aa||Ma(Pr,Rr,Mr,8),hr.write(Pr,Rr,Mr,Vr,52,8),Mr+8}yr.prototype.writeDoubleLE=function(Rr,Mr,Vr){return za(this,Rr,Mr,!0,Vr)},yr.prototype.writeDoubleBE=function(Rr,Mr,Vr){return za(this,Rr,Mr,!1,Vr)},yr.prototype.copy=function(Rr,Mr,Vr,aa){if(!yr.isBuffer(Rr))throw new TypeError("argument should be a Buffer");if(Vr||(Vr=0),!aa&&aa!==0&&(aa=this.length),Mr>=Rr.length&&(Mr=Rr.length),Mr||(Mr=0),aa>0&&aa<Vr&&(aa=Vr),aa===Vr||Rr.length===0||this.length===0)return 0;if(Mr<0)throw new RangeError("targetStart out of bounds");if(Vr<0||Vr>=this.length)throw new RangeError("Index out of range");if(aa<0)throw new RangeError("sourceEnd out of bounds");aa>this.length&&(aa=this.length),Rr.length-Mr<aa-Vr&&(aa=Rr.length-Mr+Vr);const fa=aa-Vr;return this===Rr&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Mr,Vr,aa):Uint8Array.prototype.set.call(Rr,this.subarray(Vr,aa),Mr),fa},yr.prototype.fill=function(Rr,Mr,Vr,aa){if(typeof Rr=="string"){if(typeof Mr=="string"?(aa=Mr,Mr=0,Vr=this.length):typeof Vr=="string"&&(aa=Vr,Vr=this.length),aa!==void 0&&typeof aa!="string")throw new TypeError("encoding must be a string");if(typeof aa=="string"&&!yr.isEncoding(aa))throw new TypeError("Unknown encoding: "+aa);if(Rr.length===1){const Aa=Rr.charCodeAt(0);(aa==="utf8"&&Aa<128||aa==="latin1")&&(Rr=Aa)}}else typeof Rr=="number"?Rr=Rr&255:typeof Rr=="boolean"&&(Rr=Number(Rr));if(Mr<0||this.length<Mr||this.length<Vr)throw new RangeError("Out of range index");if(Vr<=Mr)return this;Mr=Mr>>>0,Vr=Vr===void 0?this.length:Vr>>>0,Rr||(Rr=0);let fa;if(typeof Rr=="number")for(fa=Mr;fa<Vr;++fa)this[fa]=Rr;else{const Aa=yr.isBuffer(Rr)?Rr:yr.from(Rr,aa),Wa=Aa.length;if(Wa===0)throw new TypeError('The value "'+Rr+'" is invalid for argument "value"');for(fa=0;fa<Vr-Mr;++fa)this[fa+Mr]=Aa[fa%Wa]}return this};const ya={};function pa(Pr,Rr,Mr){ya[Pr]=class extends Mr{constructor(){super(),Object.defineProperty(this,"message",{value:Rr.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Pr}]`,this.stack,delete this.name}get code(){return Pr}set code(aa){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:aa,writable:!0})}toString(){return`${this.name} [${Pr}]: ${this.message}`}}}pa("ERR_BUFFER_OUT_OF_BOUNDS",function(Pr){return Pr?`${Pr} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pa("ERR_INVALID_ARG_TYPE",function(Pr,Rr){return`The "${Pr}" argument must be of type number. Received type ${typeof Rr}`},TypeError),pa("ERR_OUT_OF_RANGE",function(Pr,Rr,Mr){let Vr=`The value of "${Pr}" is out of range.`,aa=Mr;return Number.isInteger(Mr)&&Math.abs(Mr)>2**32?aa=Na(String(Mr)):typeof Mr=="bigint"&&(aa=String(Mr),(Mr>BigInt(2)**BigInt(32)||Mr<-(BigInt(2)**BigInt(32)))&&(aa=Na(aa)),aa+="n"),Vr+=` It must be ${Rr}. Received ${aa}`,Vr},RangeError);function Na(Pr){let Rr="",Mr=Pr.length;const Vr=Pr[0]==="-"?1:0;for(;Mr>=Vr+4;Mr-=3)Rr=`_${Pr.slice(Mr-3,Mr)}${Rr}`;return`${Pr.slice(0,Mr)}${Rr}`}function Ha(Pr,Rr,Mr){na(Rr,"offset"),(Pr[Rr]===void 0||Pr[Rr+Mr]===void 0)&&ia(Rr,Pr.length-(Mr+1))}function Xa(Pr,Rr,Mr,Vr,aa,fa){if(Pr>Mr||Pr<Rr){const Aa=typeof Rr=="bigint"?"n":"";let Wa;throw Rr===0||Rr===BigInt(0)?Wa=`>= 0${Aa} and < 2${Aa} ** ${(fa+1)*8}${Aa}`:Wa=`>= -(2${Aa} ** ${(fa+1)*8-1}${Aa}) and < 2 ** ${(fa+1)*8-1}${Aa}`,new ya.ERR_OUT_OF_RANGE("value",Wa,Pr)}Ha(Vr,aa,fa)}function na(Pr,Rr){if(typeof Pr!="number")throw new ya.ERR_INVALID_ARG_TYPE(Rr,"number",Pr)}function ia(Pr,Rr,Mr){throw Math.floor(Pr)!==Pr?(na(Pr,Mr),new ya.ERR_OUT_OF_RANGE("offset","an integer",Pr)):Rr<0?new ya.ERR_BUFFER_OUT_OF_BOUNDS:new ya.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Rr}`,Pr)}const ba=/[^+/0-9A-Za-z-_]/g;function Oa(Pr){if(Pr=Pr.split("=")[0],Pr=Pr.trim().replace(ba,""),Pr.length<2)return"";for(;Pr.length%4!==0;)Pr=Pr+"=";return Pr}function Pa(Pr,Rr){Rr=Rr||1/0;let Mr;const Vr=Pr.length;let aa=null;const fa=[];for(let Aa=0;Aa<Vr;++Aa){if(Mr=Pr.charCodeAt(Aa),Mr>55295&&Mr<57344){if(!aa){if(Mr>56319){(Rr-=3)>-1&&fa.push(239,191,189);continue}else if(Aa+1===Vr){(Rr-=3)>-1&&fa.push(239,191,189);continue}aa=Mr;continue}if(Mr<56320){(Rr-=3)>-1&&fa.push(239,191,189),aa=Mr;continue}Mr=(aa-55296<<10|Mr-56320)+65536}else aa&&(Rr-=3)>-1&&fa.push(239,191,189);if(aa=null,Mr<128){if((Rr-=1)<0)break;fa.push(Mr)}else if(Mr<2048){if((Rr-=2)<0)break;fa.push(Mr>>6|192,Mr&63|128)}else if(Mr<65536){if((Rr-=3)<0)break;fa.push(Mr>>12|224,Mr>>6&63|128,Mr&63|128)}else if(Mr<1114112){if((Rr-=4)<0)break;fa.push(Mr>>18|240,Mr>>12&63|128,Mr>>6&63|128,Mr&63|128)}else throw new Error("Invalid code point")}return fa}function qa(Pr){const Rr=[];for(let Mr=0;Mr<Pr.length;++Mr)Rr.push(Pr.charCodeAt(Mr)&255);return Rr}function ea(Pr,Rr){let Mr,Vr,aa;const fa=[];for(let Aa=0;Aa<Pr.length&&!((Rr-=2)<0);++Aa)Mr=Pr.charCodeAt(Aa),Vr=Mr>>8,aa=Mr%256,fa.push(aa),fa.push(Vr);return fa}function ka(Pr){return cr.toByteArray(Oa(Pr))}function Ua(Pr,Rr,Mr,Vr){let aa;for(aa=0;aa<Vr&&!(aa+Mr>=Rr.length||aa>=Pr.length);++aa)Rr[aa+Mr]=Pr[aa];return aa}function ca(Pr,Rr){return Pr instanceof Rr||Pr!=null&&Pr.constructor!=null&&Pr.constructor.name!=null&&Pr.constructor.name===Rr.name}function Va(Pr){return Pr!==Pr}const ni=(function(){const Pr="0123456789abcdef",Rr=new Array(256);for(let Mr=0;Mr<16;++Mr){const Vr=Mr*16;for(let aa=0;aa<16;++aa)Rr[Vr+aa]=Pr[Mr]+Pr[aa]}return Rr})();function ii(Pr){return typeof BigInt>"u"?yi:Pr}function yi(){throw new Error("BigInt not supported")}})(buffer)),buffer}var primordials,hasRequiredPrimordials;function requirePrimordials(){if(hasRequiredPrimordials)return primordials;hasRequiredPrimordials=1;class ur extends Error{constructor(hr){if(!Array.isArray(hr))throw new TypeError(`Expected input to be an Array, got ${typeof hr}`);let dr="";for(let mr=0;mr<hr.length;mr++)dr+=`    ${hr[mr].stack}
`;super(dr),this.name="AggregateError",this.errors=hr}}return primordials={AggregateError:ur,ArrayIsArray(cr){return Array.isArray(cr)},ArrayPrototypeIncludes(cr,hr){return cr.includes(hr)},ArrayPrototypeIndexOf(cr,hr){return cr.indexOf(hr)},ArrayPrototypeJoin(cr,hr){return cr.join(hr)},ArrayPrototypeMap(cr,hr){return cr.map(hr)},ArrayPrototypePop(cr,hr){return cr.pop(hr)},ArrayPrototypePush(cr,hr){return cr.push(hr)},ArrayPrototypeSlice(cr,hr,dr){return cr.slice(hr,dr)},Error,FunctionPrototypeCall(cr,hr,...dr){return cr.call(hr,...dr)},FunctionPrototypeSymbolHasInstance(cr,hr){return Function.prototype[Symbol.hasInstance].call(cr,hr)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(cr,hr){return Object.defineProperties(cr,hr)},ObjectDefineProperty(cr,hr,dr){return Object.defineProperty(cr,hr,dr)},ObjectGetOwnPropertyDescriptor(cr,hr){return Object.getOwnPropertyDescriptor(cr,hr)},ObjectKeys(cr){return Object.keys(cr)},ObjectSetPrototypeOf(cr,hr){return Object.setPrototypeOf(cr,hr)},Promise,PromisePrototypeCatch(cr,hr){return cr.catch(hr)},PromisePrototypeThen(cr,hr,dr){return cr.then(hr,dr)},PromiseReject(cr){return Promise.reject(cr)},PromiseResolve(cr){return Promise.resolve(cr)},ReflectApply:Reflect.apply,RegExpPrototypeTest(cr,hr){return cr.test(hr)},SafeSet:Set,String,StringPrototypeSlice(cr,hr,dr){return cr.slice(hr,dr)},StringPrototypeToLowerCase(cr){return cr.toLowerCase()},StringPrototypeToUpperCase(cr){return cr.toUpperCase()},StringPrototypeTrim(cr){return cr.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(cr,hr,dr){return cr.set(hr,dr)},Boolean,Uint8Array},primordials}var util={exports:{}},inspect,hasRequiredInspect;function requireInspect(){return hasRequiredInspect||(hasRequiredInspect=1,inspect={format(ur,...cr){return ur.replace(/%([sdifj])/g,function(...[hr,dr]){const mr=cr.shift();return dr==="f"?mr.toFixed(6):dr==="j"?JSON.stringify(mr):dr==="s"&&typeof mr=="object"?`${mr.constructor!==Object?mr.constructor.name:""} {}`.trim():mr.toString()})},inspect(ur){switch(typeof ur){case"string":if(ur.includes("'"))if(ur.includes('"')){if(!ur.includes("`")&&!ur.includes("${"))return`\`${ur}\``}else return`"${ur}"`;return`'${ur}'`;case"number":return isNaN(ur)?"NaN":Object.is(ur,-0)?String(ur):ur;case"bigint":return`${String(ur)}n`;case"boolean":case"undefined":return String(ur);case"object":return"{}"}}}),inspect}var errors,hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1;const{format:ur,inspect:cr}=requireInspect(),{AggregateError:hr}=requirePrimordials(),dr=globalThis.AggregateError||hr,mr=Symbol("kIsNodeError"),gr=["string","function","number","object","Function","Object","boolean","bigint","symbol"],br=/^([A-Z][a-z0-9]*)+$/,yr="__node_internal_",Tr={};function vr(Dr,Cr){if(!Dr)throw new Tr.ERR_INTERNAL_ASSERTION(Cr)}function Sr(Dr){let Cr="",Or=Dr.length;const qr=Dr[0]==="-"?1:0;for(;Or>=qr+4;Or-=3)Cr=`_${Dr.slice(Or-3,Or)}${Cr}`;return`${Dr.slice(0,Or)}${Cr}`}function _r(Dr,Cr,Or){if(typeof Cr=="function")return vr(Cr.length<=Or.length,`Code: ${Dr}; The provided arguments length (${Or.length}) does not match the required ones (${Cr.length}).`),Cr(...Or);const qr=(Cr.match(/%[dfijoOs]/g)||[]).length;return vr(qr===Or.length,`Code: ${Dr}; The provided arguments length (${Or.length}) does not match the required ones (${qr}).`),Or.length===0?Cr:ur(Cr,...Or)}function wr(Dr,Cr,Or){Or||(Or=Error);class qr extends Or{constructor(...Lr){super(_r(Dr,Cr,Lr))}toString(){return`${this.name} [${Dr}]: ${this.message}`}}Object.defineProperties(qr.prototype,{name:{value:Or.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Dr}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),qr.prototype.code=Dr,qr.prototype[mr]=!0,Tr[Dr]=qr}function Er(Dr){const Cr=yr+Dr.name;return Object.defineProperty(Dr,"name",{value:Cr}),Dr}function Ar(Dr,Cr){if(Dr&&Cr&&Dr!==Cr){if(Array.isArray(Cr.errors))return Cr.errors.push(Dr),Cr;const Or=new dr([Cr,Dr],Cr.message);return Or.code=Cr.code,Or}return Dr||Cr}class kr extends Error{constructor(Cr="The operation was aborted",Or=void 0){if(Or!==void 0&&typeof Or!="object")throw new Tr.ERR_INVALID_ARG_TYPE("options","Object",Or);super(Cr,Or),this.code="ABORT_ERR",this.name="AbortError"}}return wr("ERR_ASSERTION","%s",Error),wr("ERR_INVALID_ARG_TYPE",(Dr,Cr,Or)=>{vr(typeof Dr=="string","'name' must be a string"),Array.isArray(Cr)||(Cr=[Cr]);let qr="The ";Dr.endsWith(" argument")?qr+=`${Dr} `:qr+=`"${Dr}" ${Dr.includes(".")?"property":"argument"} `,qr+="must be ";const Hr=[],Lr=[],jr=[];for(const Ur of Cr)vr(typeof Ur=="string","All expected entries have to be of type string"),gr.includes(Ur)?Hr.push(Ur.toLowerCase()):br.test(Ur)?Lr.push(Ur):(vr(Ur!=="object",'The value "object" should be written as "Object"'),jr.push(Ur));if(Lr.length>0){const Ur=Hr.indexOf("object");Ur!==-1&&(Hr.splice(Hr,Ur,1),Lr.push("Object"))}if(Hr.length>0){switch(Hr.length){case 1:qr+=`of type ${Hr[0]}`;break;case 2:qr+=`one of type ${Hr[0]} or ${Hr[1]}`;break;default:{const Ur=Hr.pop();qr+=`one of type ${Hr.join(", ")}, or ${Ur}`}}(Lr.length>0||jr.length>0)&&(qr+=" or ")}if(Lr.length>0){switch(Lr.length){case 1:qr+=`an instance of ${Lr[0]}`;break;case 2:qr+=`an instance of ${Lr[0]} or ${Lr[1]}`;break;default:{const Ur=Lr.pop();qr+=`an instance of ${Lr.join(", ")}, or ${Ur}`}}jr.length>0&&(qr+=" or ")}switch(jr.length){case 0:break;case 1:jr[0].toLowerCase()!==jr[0]&&(qr+="an "),qr+=`${jr[0]}`;break;case 2:qr+=`one of ${jr[0]} or ${jr[1]}`;break;default:{const Ur=jr.pop();qr+=`one of ${jr.join(", ")}, or ${Ur}`}}if(Or==null)qr+=`. Received ${Or}`;else if(typeof Or=="function"&&Or.name)qr+=`. Received function ${Or.name}`;else if(typeof Or=="object"){var Br;if((Br=Or.constructor)!==null&&Br!==void 0&&Br.name)qr+=`. Received an instance of ${Or.constructor.name}`;else{const Ur=cr(Or,{depth:-1});qr+=`. Received ${Ur}`}}else{let Ur=cr(Or,{colors:!1});Ur.length>25&&(Ur=`${Ur.slice(0,25)}...`),qr+=`. Received type ${typeof Or} (${Ur})`}return qr},TypeError),wr("ERR_INVALID_ARG_VALUE",(Dr,Cr,Or="is invalid")=>{let qr=cr(Cr);return qr.length>128&&(qr=qr.slice(0,128)+"..."),`The ${Dr.includes(".")?"property":"argument"} '${Dr}' ${Or}. Received ${qr}`},TypeError),wr("ERR_INVALID_RETURN_VALUE",(Dr,Cr,Or)=>{var qr;const Hr=Or!=null&&(qr=Or.constructor)!==null&&qr!==void 0&&qr.name?`instance of ${Or.constructor.name}`:`type ${typeof Or}`;return`Expected ${Dr} to be returned from the "${Cr}" function but got ${Hr}.`},TypeError),wr("ERR_MISSING_ARGS",(...Dr)=>{vr(Dr.length>0,"At least one arg needs to be specified");let Cr;const Or=Dr.length;switch(Dr=(Array.isArray(Dr)?Dr:[Dr]).map(qr=>`"${qr}"`).join(" or "),Or){case 1:Cr+=`The ${Dr[0]} argument`;break;case 2:Cr+=`The ${Dr[0]} and ${Dr[1]} arguments`;break;default:{const qr=Dr.pop();Cr+=`The ${Dr.join(", ")}, and ${qr} arguments`}break}return`${Cr} must be specified`},TypeError),wr("ERR_OUT_OF_RANGE",(Dr,Cr,Or)=>{vr(Cr,'Missing "range" argument');let qr;if(Number.isInteger(Or)&&Math.abs(Or)>2**32)qr=Sr(String(Or));else if(typeof Or=="bigint"){qr=String(Or);const Hr=BigInt(2)**BigInt(32);(Or>Hr||Or<-Hr)&&(qr=Sr(qr)),qr+="n"}else qr=cr(Or);return`The value of "${Dr}" is out of range. It must be ${Cr}. Received ${qr}`},RangeError),wr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),wr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),wr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),wr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),wr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),wr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),wr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),wr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),wr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),wr("ERR_STREAM_WRITE_AFTER_END","write after end",Error),wr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),errors={AbortError:kr,aggregateTwoErrors:Er(Ar),hideStackFrames:Er,codes:Tr},errors}var browser$1={exports:{}},hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$1.exports;hasRequiredBrowser$2=1;const{AbortController:ur,AbortSignal:cr}=typeof self<"u"?self:typeof window<"u"?window:void 0;return browser$1.exports=ur,browser$1.exports.AbortSignal=cr,browser$1.exports.default=ur,browser$1.exports}var events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var ur=typeof Reflect=="object"?Reflect:null,cr=ur&&typeof ur.apply=="function"?ur.apply:function(Lr,jr,Br){return Function.prototype.apply.call(Lr,jr,Br)},hr;ur&&typeof ur.ownKeys=="function"?hr=ur.ownKeys:Object.getOwnPropertySymbols?hr=function(Lr){return Object.getOwnPropertyNames(Lr).concat(Object.getOwnPropertySymbols(Lr))}:hr=function(Lr){return Object.getOwnPropertyNames(Lr)};function dr(Hr){console&&console.warn&&console.warn(Hr)}var mr=Number.isNaN||function(Lr){return Lr!==Lr};function gr(){gr.init.call(this)}events.exports=gr,events.exports.once=Cr,gr.EventEmitter=gr,gr.prototype._events=void 0,gr.prototype._eventsCount=0,gr.prototype._maxListeners=void 0;var br=10;function yr(Hr){if(typeof Hr!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Hr)}Object.defineProperty(gr,"defaultMaxListeners",{enumerable:!0,get:function(){return br},set:function(Hr){if(typeof Hr!="number"||Hr<0||mr(Hr))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Hr+".");br=Hr}}),gr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},gr.prototype.setMaxListeners=function(Lr){if(typeof Lr!="number"||Lr<0||mr(Lr))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Lr+".");return this._maxListeners=Lr,this};function Tr(Hr){return Hr._maxListeners===void 0?gr.defaultMaxListeners:Hr._maxListeners}gr.prototype.getMaxListeners=function(){return Tr(this)},gr.prototype.emit=function(Lr){for(var jr=[],Br=1;Br<arguments.length;Br++)jr.push(arguments[Br]);var Ur=Lr==="error",Kr=this._events;if(Kr!==void 0)Ur=Ur&&Kr.error===void 0;else if(!Ur)return!1;if(Ur){var Yr;if(jr.length>0&&(Yr=jr[0]),Yr instanceof Error)throw Yr;var Wr=new Error("Unhandled error."+(Yr?" ("+Yr.message+")":""));throw Wr.context=Yr,Wr}var sa=Kr[Lr];if(sa===void 0)return!1;if(typeof sa=="function")cr(sa,this,jr);else for(var ta=sa.length,oa=Ar(sa,ta),Br=0;Br<ta;++Br)cr(oa[Br],this,jr);return!0};function vr(Hr,Lr,jr,Br){var Ur,Kr,Yr;if(yr(jr),Kr=Hr._events,Kr===void 0?(Kr=Hr._events=Object.create(null),Hr._eventsCount=0):(Kr.newListener!==void 0&&(Hr.emit("newListener",Lr,jr.listener?jr.listener:jr),Kr=Hr._events),Yr=Kr[Lr]),Yr===void 0)Yr=Kr[Lr]=jr,++Hr._eventsCount;else if(typeof Yr=="function"?Yr=Kr[Lr]=Br?[jr,Yr]:[Yr,jr]:Br?Yr.unshift(jr):Yr.push(jr),Ur=Tr(Hr),Ur>0&&Yr.length>Ur&&!Yr.warned){Yr.warned=!0;var Wr=new Error("Possible EventEmitter memory leak detected. "+Yr.length+" "+String(Lr)+" listeners added. Use emitter.setMaxListeners() to increase limit");Wr.name="MaxListenersExceededWarning",Wr.emitter=Hr,Wr.type=Lr,Wr.count=Yr.length,dr(Wr)}return Hr}gr.prototype.addListener=function(Lr,jr){return vr(this,Lr,jr,!1)},gr.prototype.on=gr.prototype.addListener,gr.prototype.prependListener=function(Lr,jr){return vr(this,Lr,jr,!0)};function Sr(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _r(Hr,Lr,jr){var Br={fired:!1,wrapFn:void 0,target:Hr,type:Lr,listener:jr},Ur=Sr.bind(Br);return Ur.listener=jr,Br.wrapFn=Ur,Ur}gr.prototype.once=function(Lr,jr){return yr(jr),this.on(Lr,_r(this,Lr,jr)),this},gr.prototype.prependOnceListener=function(Lr,jr){return yr(jr),this.prependListener(Lr,_r(this,Lr,jr)),this},gr.prototype.removeListener=function(Lr,jr){var Br,Ur,Kr,Yr,Wr;if(yr(jr),Ur=this._events,Ur===void 0)return this;if(Br=Ur[Lr],Br===void 0)return this;if(Br===jr||Br.listener===jr)--this._eventsCount===0?this._events=Object.create(null):(delete Ur[Lr],Ur.removeListener&&this.emit("removeListener",Lr,Br.listener||jr));else if(typeof Br!="function"){for(Kr=-1,Yr=Br.length-1;Yr>=0;Yr--)if(Br[Yr]===jr||Br[Yr].listener===jr){Wr=Br[Yr].listener,Kr=Yr;break}if(Kr<0)return this;Kr===0?Br.shift():kr(Br,Kr),Br.length===1&&(Ur[Lr]=Br[0]),Ur.removeListener!==void 0&&this.emit("removeListener",Lr,Wr||jr)}return this},gr.prototype.off=gr.prototype.removeListener,gr.prototype.removeAllListeners=function(Lr){var jr,Br,Ur;if(Br=this._events,Br===void 0)return this;if(Br.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Br[Lr]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Br[Lr]),this;if(arguments.length===0){var Kr=Object.keys(Br),Yr;for(Ur=0;Ur<Kr.length;++Ur)Yr=Kr[Ur],Yr!=="removeListener"&&this.removeAllListeners(Yr);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(jr=Br[Lr],typeof jr=="function")this.removeListener(Lr,jr);else if(jr!==void 0)for(Ur=jr.length-1;Ur>=0;Ur--)this.removeListener(Lr,jr[Ur]);return this};function wr(Hr,Lr,jr){var Br=Hr._events;if(Br===void 0)return[];var Ur=Br[Lr];return Ur===void 0?[]:typeof Ur=="function"?jr?[Ur.listener||Ur]:[Ur]:jr?Dr(Ur):Ar(Ur,Ur.length)}gr.prototype.listeners=function(Lr){return wr(this,Lr,!0)},gr.prototype.rawListeners=function(Lr){return wr(this,Lr,!1)},gr.listenerCount=function(Hr,Lr){return typeof Hr.listenerCount=="function"?Hr.listenerCount(Lr):Er.call(Hr,Lr)},gr.prototype.listenerCount=Er;function Er(Hr){var Lr=this._events;if(Lr!==void 0){var jr=Lr[Hr];if(typeof jr=="function")return 1;if(jr!==void 0)return jr.length}return 0}gr.prototype.eventNames=function(){return this._eventsCount>0?hr(this._events):[]};function Ar(Hr,Lr){for(var jr=new Array(Lr),Br=0;Br<Lr;++Br)jr[Br]=Hr[Br];return jr}function kr(Hr,Lr){for(;Lr+1<Hr.length;Lr++)Hr[Lr]=Hr[Lr+1];Hr.pop()}function Dr(Hr){for(var Lr=new Array(Hr.length),jr=0;jr<Lr.length;++jr)Lr[jr]=Hr[jr].listener||Hr[jr];return Lr}function Cr(Hr,Lr){return new Promise(function(jr,Br){function Ur(Yr){Hr.removeListener(Lr,Kr),Br(Yr)}function Kr(){typeof Hr.removeListener=="function"&&Hr.removeListener("error",Ur),jr([].slice.call(arguments))}qr(Hr,Lr,Kr,{once:!0}),Lr!=="error"&&Or(Hr,Ur,{once:!0})})}function Or(Hr,Lr,jr){typeof Hr.on=="function"&&qr(Hr,"error",Lr,jr)}function qr(Hr,Lr,jr,Br){if(typeof Hr.on=="function")Br.once?Hr.once(Lr,jr):Hr.on(Lr,jr);else if(typeof Hr.addEventListener=="function")Hr.addEventListener(Lr,function Ur(Kr){Br.once&&Hr.removeEventListener(Lr,Ur),jr(Kr)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Hr)}return events.exports}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,(function(ur){const cr=requireBuffer(),{format:hr,inspect:dr}=requireInspect(),{codes:{ERR_INVALID_ARG_TYPE:mr}}=requireErrors(),{kResistStopPropagation:gr,AggregateError:br,SymbolDispose:yr}=requirePrimordials(),Tr=globalThis.AbortSignal||requireBrowser$2().AbortSignal,vr=globalThis.AbortController||requireBrowser$2().AbortController,Sr=Object.getPrototypeOf(async function(){}).constructor,_r=globalThis.Blob||cr.Blob,wr=typeof _r<"u"?function(Dr){return Dr instanceof _r}:function(Dr){return!1},Er=(kr,Dr)=>{if(kr!==void 0&&(kr===null||typeof kr!="object"||!("aborted"in kr)))throw new mr(Dr,"AbortSignal",kr)},Ar=(kr,Dr)=>{if(typeof kr!="function")throw new mr(Dr,"Function",kr)};ur.exports={AggregateError:br,kEmptyObject:Object.freeze({}),once(kr){let Dr=!1;return function(...Cr){Dr||(Dr=!0,kr.apply(this,Cr))}},createDeferredPromise:function(){let kr,Dr;return{promise:new Promise((Or,qr)=>{kr=Or,Dr=qr}),resolve:kr,reject:Dr}},promisify(kr){return new Promise((Dr,Cr)=>{kr((Or,...qr)=>Or?Cr(Or):Dr(...qr))})},debuglog(){return function(){}},format:hr,inspect:dr,types:{isAsyncFunction(kr){return kr instanceof Sr},isArrayBufferView(kr){return ArrayBuffer.isView(kr)}},isBlob:wr,deprecate(kr,Dr){return kr},addAbortListener:requireEvents().addAbortListener||function(Dr,Cr){if(Dr===void 0)throw new mr("signal","AbortSignal",Dr);Er(Dr,"signal"),Ar(Cr,"listener");let Or;return Dr.aborted?queueMicrotask(()=>Cr()):(Dr.addEventListener("abort",Cr,{__proto__:null,once:!0,[gr]:!0}),Or=()=>{Dr.removeEventListener("abort",Cr)}),{__proto__:null,[yr](){var qr;(qr=Or)===null||qr===void 0||qr()}}},AbortSignalAny:Tr.any||function(Dr){if(Dr.length===1)return Dr[0];const Cr=new vr,Or=()=>Cr.abort();return Dr.forEach(qr=>{Er(qr,"signals"),qr.addEventListener("abort",Or,{once:!0})}),Cr.signal.addEventListener("abort",()=>{Dr.forEach(qr=>qr.removeEventListener("abort",Or))},{once:!0}),Cr.signal}},ur.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(util)),util.exports}var operators={},validators,hasRequiredValidators;function requireValidators(){if(hasRequiredValidators)return validators;hasRequiredValidators=1;const{ArrayIsArray:ur,ArrayPrototypeIncludes:cr,ArrayPrototypeJoin:hr,ArrayPrototypeMap:dr,NumberIsInteger:mr,NumberIsNaN:gr,NumberMAX_SAFE_INTEGER:br,NumberMIN_SAFE_INTEGER:yr,NumberParseInt:Tr,ObjectPrototypeHasOwnProperty:vr,RegExpPrototypeExec:Sr,String:_r,StringPrototypeToUpperCase:wr,StringPrototypeTrim:Er}=requirePrimordials(),{hideStackFrames:Ar,codes:{ERR_SOCKET_BAD_PORT:kr,ERR_INVALID_ARG_TYPE:Dr,ERR_INVALID_ARG_VALUE:Cr,ERR_OUT_OF_RANGE:Or,ERR_UNKNOWN_SIGNAL:qr}}=requireErrors(),{normalizeEncoding:Hr}=requireUtil(),{isAsyncFunction:Lr,isArrayBufferView:jr}=requireUtil().types,Br={};function Ur(ea){return ea===(ea|0)}function Kr(ea){return ea===ea>>>0}const Yr=/^[0-7]+$/,Wr="must be a 32-bit unsigned integer or an octal string";function sa(ea,ka,Ua){if(typeof ea>"u"&&(ea=Ua),typeof ea=="string"){if(Sr(Yr,ea)===null)throw new Cr(ka,ea,Wr);ea=Tr(ea,8)}return Ia(ea,ka),ea}const ta=Ar((ea,ka,Ua=yr,ca=br)=>{if(typeof ea!="number")throw new Dr(ka,"number",ea);if(!mr(ea))throw new Or(ka,"an integer",ea);if(ea<Ua||ea>ca)throw new Or(ka,`>= ${Ua} && <= ${ca}`,ea)}),oa=Ar((ea,ka,Ua=-2147483648,ca=2147483647)=>{if(typeof ea!="number")throw new Dr(ka,"number",ea);if(!mr(ea))throw new Or(ka,"an integer",ea);if(ea<Ua||ea>ca)throw new Or(ka,`>= ${Ua} && <= ${ca}`,ea)}),Ia=Ar((ea,ka,Ua=!1)=>{if(typeof ea!="number")throw new Dr(ka,"number",ea);if(!mr(ea))throw new Or(ka,"an integer",ea);const ca=Ua?1:0,Va=4294967295;if(ea<ca||ea>Va)throw new Or(ka,`>= ${ca} && <= ${Va}`,ea)});function $r(ea,ka){if(typeof ea!="string")throw new Dr(ka,"string",ea)}function xa(ea,ka,Ua=void 0,ca){if(typeof ea!="number")throw new Dr(ka,"number",ea);if(Ua!=null&&ea<Ua||ca!=null&&ea>ca||(Ua!=null||ca!=null)&&gr(ea))throw new Or(ka,`${Ua!=null?`>= ${Ua}`:""}${Ua!=null&&ca!=null?" && ":""}${ca!=null?`<= ${ca}`:""}`,ea)}const ua=Ar((ea,ka,Ua)=>{if(!cr(Ua,ea)){const Va="must be one of: "+hr(dr(Ua,ni=>typeof ni=="string"?`'${ni}'`:_r(ni)),", ");throw new Cr(ka,ea,Va)}});function Ba(ea,ka){if(typeof ea!="boolean")throw new Dr(ka,"boolean",ea)}function Xr(ea,ka,Ua){return ea==null||!vr(ea,ka)?Ua:ea[ka]}const Fr=Ar((ea,ka,Ua=null)=>{const ca=Xr(Ua,"allowArray",!1),Va=Xr(Ua,"allowFunction",!1);if(!Xr(Ua,"nullable",!1)&&ea===null||!ca&&ur(ea)||typeof ea!="object"&&(!Va||typeof ea!="function"))throw new Dr(ka,"Object",ea)}),Qr=Ar((ea,ka)=>{if(ea!=null&&typeof ea!="object"&&typeof ea!="function")throw new Dr(ka,"a dictionary",ea)}),ra=Ar((ea,ka,Ua=0)=>{if(!ur(ea))throw new Dr(ka,"Array",ea);if(ea.length<Ua){const ca=`must be longer than ${Ua}`;throw new Cr(ka,ea,ca)}});function Ta(ea,ka){ra(ea,ka);for(let Ua=0;Ua<ea.length;Ua++)$r(ea[Ua],`${ka}[${Ua}]`)}function Ma(ea,ka){ra(ea,ka);for(let Ua=0;Ua<ea.length;Ua++)Ba(ea[Ua],`${ka}[${Ua}]`)}function La(ea,ka){ra(ea,ka);for(let Ua=0;Ua<ea.length;Ua++){const ca=ea[Ua],Va=`${ka}[${Ua}]`;if(ca==null)throw new Dr(Va,"AbortSignal",ca);Ha(ca,Va)}}function za(ea,ka="signal"){if($r(ea,ka),Br[ea]===void 0)throw Br[wr(ea)]!==void 0?new qr(ea+" (signals must use all capital letters)"):new qr(ea)}const ya=Ar((ea,ka="buffer")=>{if(!jr(ea))throw new Dr(ka,["Buffer","TypedArray","DataView"],ea)});function pa(ea,ka){const Ua=Hr(ka),ca=ea.length;if(Ua==="hex"&&ca%2!==0)throw new Cr("encoding",ka,`is invalid for data of length ${ca}`)}function Na(ea,ka="Port",Ua=!0){if(typeof ea!="number"&&typeof ea!="string"||typeof ea=="string"&&Er(ea).length===0||+ea!==+ea>>>0||ea>65535||ea===0&&!Ua)throw new kr(ka,ea,Ua);return ea|0}const Ha=Ar((ea,ka)=>{if(ea!==void 0&&(ea===null||typeof ea!="object"||!("aborted"in ea)))throw new Dr(ka,"AbortSignal",ea)}),Xa=Ar((ea,ka)=>{if(typeof ea!="function")throw new Dr(ka,"Function",ea)}),na=Ar((ea,ka)=>{if(typeof ea!="function"||Lr(ea))throw new Dr(ka,"Function",ea)}),ia=Ar((ea,ka)=>{if(ea!==void 0)throw new Dr(ka,"undefined",ea)});function ba(ea,ka,Ua){if(!cr(Ua,ea))throw new Dr(ka,`('${hr(Ua,"|")}')`,ea)}const Oa=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Pa(ea,ka){if(typeof ea>"u"||!Sr(Oa,ea))throw new Cr(ka,ea,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function qa(ea){if(typeof ea=="string")return Pa(ea,"hints"),ea;if(ur(ea)){const ka=ea.length;let Ua="";if(ka===0)return Ua;for(let ca=0;ca<ka;ca++){const Va=ea[ca];Pa(Va,"hints"),Ua+=Va,ca!==ka-1&&(Ua+=", ")}return Ua}throw new Cr("hints",ea,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return validators={isInt32:Ur,isUint32:Kr,parseFileMode:sa,validateArray:ra,validateStringArray:Ta,validateBooleanArray:Ma,validateAbortSignalArray:La,validateBoolean:Ba,validateBuffer:ya,validateDictionary:Qr,validateEncoding:pa,validateFunction:Xa,validateInt32:oa,validateInteger:ta,validateNumber:xa,validateObject:Fr,validateOneOf:ua,validatePlainFunction:na,validatePort:Na,validateSignalName:za,validateString:$r,validateUint32:Ia,validateUndefined:ia,validateUnion:ba,validateAbortSignal:Ha,validateLinkHeaderValue:qa},validators}var endOfStream={exports:{}},browser={exports:{}},hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser.exports;hasRequiredBrowser$1=1;var ur=browser.exports={},cr,hr;function dr(){throw new Error("setTimeout has not been defined")}function mr(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cr=setTimeout:cr=dr}catch{cr=dr}try{typeof clearTimeout=="function"?hr=clearTimeout:hr=mr}catch{hr=mr}})();function gr(kr){if(cr===setTimeout)return setTimeout(kr,0);if((cr===dr||!cr)&&setTimeout)return cr=setTimeout,setTimeout(kr,0);try{return cr(kr,0)}catch{try{return cr.call(null,kr,0)}catch{return cr.call(this,kr,0)}}}function br(kr){if(hr===clearTimeout)return clearTimeout(kr);if((hr===mr||!hr)&&clearTimeout)return hr=clearTimeout,clearTimeout(kr);try{return hr(kr)}catch{try{return hr.call(null,kr)}catch{return hr.call(this,kr)}}}var yr=[],Tr=!1,vr,Sr=-1;function _r(){!Tr||!vr||(Tr=!1,vr.length?yr=vr.concat(yr):Sr=-1,yr.length&&wr())}function wr(){if(!Tr){var kr=gr(_r);Tr=!0;for(var Dr=yr.length;Dr;){for(vr=yr,yr=[];++Sr<Dr;)vr&&vr[Sr].run();Sr=-1,Dr=yr.length}vr=null,Tr=!1,br(kr)}}ur.nextTick=function(kr){var Dr=new Array(arguments.length-1);if(arguments.length>1)for(var Cr=1;Cr<arguments.length;Cr++)Dr[Cr-1]=arguments[Cr];yr.push(new Er(kr,Dr)),yr.length===1&&!Tr&&gr(wr)};function Er(kr,Dr){this.fun=kr,this.array=Dr}Er.prototype.run=function(){this.fun.apply(null,this.array)},ur.title="browser",ur.browser=!0,ur.env={},ur.argv=[],ur.version="",ur.versions={};function Ar(){}return ur.on=Ar,ur.addListener=Ar,ur.once=Ar,ur.off=Ar,ur.removeListener=Ar,ur.removeAllListeners=Ar,ur.emit=Ar,ur.prependListener=Ar,ur.prependOnceListener=Ar,ur.listeners=function(kr){return[]},ur.binding=function(kr){throw new Error("process.binding is not supported")},ur.cwd=function(){return"/"},ur.chdir=function(kr){throw new Error("process.chdir is not supported")},ur.umask=function(){return 0},browser.exports}var utils,hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;const{SymbolAsyncIterator:ur,SymbolIterator:cr,SymbolFor:hr}=requirePrimordials(),dr=hr("nodejs.stream.destroyed"),mr=hr("nodejs.stream.errored"),gr=hr("nodejs.stream.readable"),br=hr("nodejs.stream.writable"),yr=hr("nodejs.stream.disturbed"),Tr=hr("nodejs.webstream.isClosedPromise"),vr=hr("nodejs.webstream.controllerErrorFunction");function Sr(Xr,Fr=!1){var Qr;return!!(Xr&&typeof Xr.pipe=="function"&&typeof Xr.on=="function"&&(!Fr||typeof Xr.pause=="function"&&typeof Xr.resume=="function")&&(!Xr._writableState||((Qr=Xr._readableState)===null||Qr===void 0?void 0:Qr.readable)!==!1)&&(!Xr._writableState||Xr._readableState))}function _r(Xr){var Fr;return!!(Xr&&typeof Xr.write=="function"&&typeof Xr.on=="function"&&(!Xr._readableState||((Fr=Xr._writableState)===null||Fr===void 0?void 0:Fr.writable)!==!1))}function wr(Xr){return!!(Xr&&typeof Xr.pipe=="function"&&Xr._readableState&&typeof Xr.on=="function"&&typeof Xr.write=="function")}function Er(Xr){return Xr&&(Xr._readableState||Xr._writableState||typeof Xr.write=="function"&&typeof Xr.on=="function"||typeof Xr.pipe=="function"&&typeof Xr.on=="function")}function Ar(Xr){return!!(Xr&&!Er(Xr)&&typeof Xr.pipeThrough=="function"&&typeof Xr.getReader=="function"&&typeof Xr.cancel=="function")}function kr(Xr){return!!(Xr&&!Er(Xr)&&typeof Xr.getWriter=="function"&&typeof Xr.abort=="function")}function Dr(Xr){return!!(Xr&&!Er(Xr)&&typeof Xr.readable=="object"&&typeof Xr.writable=="object")}function Cr(Xr){return Ar(Xr)||kr(Xr)||Dr(Xr)}function Or(Xr,Fr){return Xr==null?!1:Fr===!0?typeof Xr[ur]=="function":Fr===!1?typeof Xr[cr]=="function":typeof Xr[ur]=="function"||typeof Xr[cr]=="function"}function qr(Xr){if(!Er(Xr))return null;const Fr=Xr._writableState,Qr=Xr._readableState,ra=Fr||Qr;return!!(Xr.destroyed||Xr[dr]||ra!=null&&ra.destroyed)}function Hr(Xr){if(!_r(Xr))return null;if(Xr.writableEnded===!0)return!0;const Fr=Xr._writableState;return Fr!=null&&Fr.errored?!1:typeof(Fr==null?void 0:Fr.ended)!="boolean"?null:Fr.ended}function Lr(Xr,Fr){if(!_r(Xr))return null;if(Xr.writableFinished===!0)return!0;const Qr=Xr._writableState;return Qr!=null&&Qr.errored?!1:typeof(Qr==null?void 0:Qr.finished)!="boolean"?null:!!(Qr.finished||Fr===!1&&Qr.ended===!0&&Qr.length===0)}function jr(Xr){if(!Sr(Xr))return null;if(Xr.readableEnded===!0)return!0;const Fr=Xr._readableState;return!Fr||Fr.errored?!1:typeof(Fr==null?void 0:Fr.ended)!="boolean"?null:Fr.ended}function Br(Xr,Fr){if(!Sr(Xr))return null;const Qr=Xr._readableState;return Qr!=null&&Qr.errored?!1:typeof(Qr==null?void 0:Qr.endEmitted)!="boolean"?null:!!(Qr.endEmitted||Fr===!1&&Qr.ended===!0&&Qr.length===0)}function Ur(Xr){return Xr&&Xr[gr]!=null?Xr[gr]:typeof(Xr==null?void 0:Xr.readable)!="boolean"?null:qr(Xr)?!1:Sr(Xr)&&Xr.readable&&!Br(Xr)}function Kr(Xr){return Xr&&Xr[br]!=null?Xr[br]:typeof(Xr==null?void 0:Xr.writable)!="boolean"?null:qr(Xr)?!1:_r(Xr)&&Xr.writable&&!Hr(Xr)}function Yr(Xr,Fr){return Er(Xr)?qr(Xr)?!0:!((Fr==null?void 0:Fr.readable)!==!1&&Ur(Xr)||(Fr==null?void 0:Fr.writable)!==!1&&Kr(Xr)):null}function Wr(Xr){var Fr,Qr;return Er(Xr)?Xr.writableErrored?Xr.writableErrored:(Fr=(Qr=Xr._writableState)===null||Qr===void 0?void 0:Qr.errored)!==null&&Fr!==void 0?Fr:null:null}function sa(Xr){var Fr,Qr;return Er(Xr)?Xr.readableErrored?Xr.readableErrored:(Fr=(Qr=Xr._readableState)===null||Qr===void 0?void 0:Qr.errored)!==null&&Fr!==void 0?Fr:null:null}function ta(Xr){if(!Er(Xr))return null;if(typeof Xr.closed=="boolean")return Xr.closed;const Fr=Xr._writableState,Qr=Xr._readableState;return typeof(Fr==null?void 0:Fr.closed)=="boolean"||typeof(Qr==null?void 0:Qr.closed)=="boolean"?(Fr==null?void 0:Fr.closed)||(Qr==null?void 0:Qr.closed):typeof Xr._closed=="boolean"&&oa(Xr)?Xr._closed:null}function oa(Xr){return typeof Xr._closed=="boolean"&&typeof Xr._defaultKeepAlive=="boolean"&&typeof Xr._removedConnection=="boolean"&&typeof Xr._removedContLen=="boolean"}function Ia(Xr){return typeof Xr._sent100=="boolean"&&oa(Xr)}function $r(Xr){var Fr;return typeof Xr._consuming=="boolean"&&typeof Xr._dumped=="boolean"&&((Fr=Xr.req)===null||Fr===void 0?void 0:Fr.upgradeOrConnect)===void 0}function xa(Xr){if(!Er(Xr))return null;const Fr=Xr._writableState,Qr=Xr._readableState,ra=Fr||Qr;return!ra&&Ia(Xr)||!!(ra&&ra.autoDestroy&&ra.emitClose&&ra.closed===!1)}function ua(Xr){var Fr;return!!(Xr&&((Fr=Xr[yr])!==null&&Fr!==void 0?Fr:Xr.readableDidRead||Xr.readableAborted))}function Ba(Xr){var Fr,Qr,ra,Ta,Ma,La,za,ya,pa,Na;return!!(Xr&&((Fr=(Qr=(ra=(Ta=(Ma=(La=Xr[mr])!==null&&La!==void 0?La:Xr.readableErrored)!==null&&Ma!==void 0?Ma:Xr.writableErrored)!==null&&Ta!==void 0?Ta:(za=Xr._readableState)===null||za===void 0?void 0:za.errorEmitted)!==null&&ra!==void 0?ra:(ya=Xr._writableState)===null||ya===void 0?void 0:ya.errorEmitted)!==null&&Qr!==void 0?Qr:(pa=Xr._readableState)===null||pa===void 0?void 0:pa.errored)!==null&&Fr!==void 0?Fr:!((Na=Xr._writableState)===null||Na===void 0)&&Na.errored))}return utils={isDestroyed:qr,kIsDestroyed:dr,isDisturbed:ua,kIsDisturbed:yr,isErrored:Ba,kIsErrored:mr,isReadable:Ur,kIsReadable:gr,kIsClosedPromise:Tr,kControllerErrorFunction:vr,kIsWritable:br,isClosed:ta,isDuplexNodeStream:wr,isFinished:Yr,isIterable:Or,isReadableNodeStream:Sr,isReadableStream:Ar,isReadableEnded:jr,isReadableFinished:Br,isReadableErrored:sa,isNodeStream:Er,isWebStream:Cr,isWritable:Kr,isWritableNodeStream:_r,isWritableStream:kr,isWritableEnded:Hr,isWritableFinished:Lr,isWritableErrored:Wr,isServerRequest:$r,isServerResponse:Ia,willEmitClose:xa,isTransformStream:Dr},utils}var hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream.exports;hasRequiredEndOfStream=1;const ur=requireBrowser$1(),{AbortError:cr,codes:hr}=requireErrors(),{ERR_INVALID_ARG_TYPE:dr,ERR_STREAM_PREMATURE_CLOSE:mr}=hr,{kEmptyObject:gr,once:br}=requireUtil(),{validateAbortSignal:yr,validateFunction:Tr,validateObject:vr,validateBoolean:Sr}=requireValidators(),{Promise:_r,PromisePrototypeThen:wr,SymbolDispose:Er}=requirePrimordials(),{isClosed:Ar,isReadable:kr,isReadableNodeStream:Dr,isReadableStream:Cr,isReadableFinished:Or,isReadableErrored:qr,isWritable:Hr,isWritableNodeStream:Lr,isWritableStream:jr,isWritableFinished:Br,isWritableErrored:Ur,isNodeStream:Kr,willEmitClose:Yr,kIsClosedPromise:Wr}=requireUtils();let sa;function ta(ua){return ua.setHeader&&typeof ua.abort=="function"}const oa=()=>{};function Ia(ua,Ba,Xr){var Fr,Qr;if(arguments.length===2?(Xr=Ba,Ba=gr):Ba==null?Ba=gr:vr(Ba,"options"),Tr(Xr,"callback"),yr(Ba.signal,"options.signal"),Xr=br(Xr),Cr(ua)||jr(ua))return $r(ua,Ba,Xr);if(!Kr(ua))throw new dr("stream",["ReadableStream","WritableStream","Stream"],ua);const ra=(Fr=Ba.readable)!==null&&Fr!==void 0?Fr:Dr(ua),Ta=(Qr=Ba.writable)!==null&&Qr!==void 0?Qr:Lr(ua),Ma=ua._writableState,La=ua._readableState,za=()=>{ua.writable||Na()};let ya=Yr(ua)&&Dr(ua)===ra&&Lr(ua)===Ta,pa=Br(ua,!1);const Na=()=>{pa=!0,ua.destroyed&&(ya=!1),!(ya&&(!ua.readable||ra))&&(!ra||Ha)&&Xr.call(ua)};let Ha=Or(ua,!1);const Xa=()=>{Ha=!0,ua.destroyed&&(ya=!1),!(ya&&(!ua.writable||Ta))&&(!Ta||pa)&&Xr.call(ua)},na=ea=>{Xr.call(ua,ea)};let ia=Ar(ua);const ba=()=>{ia=!0;const ea=Ur(ua)||qr(ua);if(ea&&typeof ea!="boolean")return Xr.call(ua,ea);if(ra&&!Ha&&Dr(ua,!0)&&!Or(ua,!1))return Xr.call(ua,new mr);if(Ta&&!pa&&!Br(ua,!1))return Xr.call(ua,new mr);Xr.call(ua)},Oa=()=>{ia=!0;const ea=Ur(ua)||qr(ua);if(ea&&typeof ea!="boolean")return Xr.call(ua,ea);Xr.call(ua)},Pa=()=>{ua.req.on("finish",Na)};ta(ua)?(ua.on("complete",Na),ya||ua.on("abort",ba),ua.req?Pa():ua.on("request",Pa)):Ta&&!Ma&&(ua.on("end",za),ua.on("close",za)),!ya&&typeof ua.aborted=="boolean"&&ua.on("aborted",ba),ua.on("end",Xa),ua.on("finish",Na),Ba.error!==!1&&ua.on("error",na),ua.on("close",ba),ia?ur.nextTick(ba):Ma!=null&&Ma.errorEmitted||La!=null&&La.errorEmitted?ya||ur.nextTick(Oa):(!ra&&(!ya||kr(ua))&&(pa||Hr(ua)===!1)||!Ta&&(!ya||Hr(ua))&&(Ha||kr(ua)===!1)||La&&ua.req&&ua.aborted)&&ur.nextTick(Oa);const qa=()=>{Xr=oa,ua.removeListener("aborted",ba),ua.removeListener("complete",Na),ua.removeListener("abort",ba),ua.removeListener("request",Pa),ua.req&&ua.req.removeListener("finish",Na),ua.removeListener("end",za),ua.removeListener("close",za),ua.removeListener("finish",Na),ua.removeListener("end",Xa),ua.removeListener("error",na),ua.removeListener("close",ba)};if(Ba.signal&&!ia){const ea=()=>{const ka=Xr;qa(),ka.call(ua,new cr(void 0,{cause:Ba.signal.reason}))};if(Ba.signal.aborted)ur.nextTick(ea);else{sa=sa||requireUtil().addAbortListener;const ka=sa(Ba.signal,ea),Ua=Xr;Xr=br((...ca)=>{ka[Er](),Ua.apply(ua,ca)})}}return qa}function $r(ua,Ba,Xr){let Fr=!1,Qr=oa;if(Ba.signal)if(Qr=()=>{Fr=!0,Xr.call(ua,new cr(void 0,{cause:Ba.signal.reason}))},Ba.signal.aborted)ur.nextTick(Qr);else{sa=sa||requireUtil().addAbortListener;const Ta=sa(Ba.signal,Qr),Ma=Xr;Xr=br((...La)=>{Ta[Er](),Ma.apply(ua,La)})}const ra=(...Ta)=>{Fr||ur.nextTick(()=>Xr.apply(ua,Ta))};return wr(ua[Wr].promise,ra,ra),oa}function xa(ua,Ba){var Xr;let Fr=!1;return Ba===null&&(Ba=gr),(Xr=Ba)!==null&&Xr!==void 0&&Xr.cleanup&&(Sr(Ba.cleanup,"cleanup"),Fr=Ba.cleanup),new _r((Qr,ra)=>{const Ta=Ia(ua,Ba,Ma=>{Fr&&Ta(),Ma?ra(Ma):Qr()})})}return endOfStream.exports=Ia,endOfStream.exports.finished=xa,endOfStream.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;const ur=requireBrowser$1(),{aggregateTwoErrors:cr,codes:{ERR_MULTIPLE_CALLBACK:hr},AbortError:dr}=requireErrors(),{Symbol:mr}=requirePrimordials(),{kIsDestroyed:gr,isDestroyed:br,isFinished:yr,isServerRequest:Tr}=requireUtils(),vr=mr("kDestroy"),Sr=mr("kConstruct");function _r(Yr,Wr,sa){Yr&&(Yr.stack,Wr&&!Wr.errored&&(Wr.errored=Yr),sa&&!sa.errored&&(sa.errored=Yr))}function wr(Yr,Wr){const sa=this._readableState,ta=this._writableState,oa=ta||sa;return ta!=null&&ta.destroyed||sa!=null&&sa.destroyed?(typeof Wr=="function"&&Wr(),this):(_r(Yr,ta,sa),ta&&(ta.destroyed=!0),sa&&(sa.destroyed=!0),oa.constructed?Er(this,Yr,Wr):this.once(vr,function(Ia){Er(this,cr(Ia,Yr),Wr)}),this)}function Er(Yr,Wr,sa){let ta=!1;function oa(Ia){if(ta)return;ta=!0;const $r=Yr._readableState,xa=Yr._writableState;_r(Ia,xa,$r),xa&&(xa.closed=!0),$r&&($r.closed=!0),typeof sa=="function"&&sa(Ia),Ia?ur.nextTick(Ar,Yr,Ia):ur.nextTick(kr,Yr)}try{Yr._destroy(Wr||null,oa)}catch(Ia){oa(Ia)}}function Ar(Yr,Wr){Dr(Yr,Wr),kr(Yr)}function kr(Yr){const Wr=Yr._readableState,sa=Yr._writableState;sa&&(sa.closeEmitted=!0),Wr&&(Wr.closeEmitted=!0),(sa!=null&&sa.emitClose||Wr!=null&&Wr.emitClose)&&Yr.emit("close")}function Dr(Yr,Wr){const sa=Yr._readableState,ta=Yr._writableState;ta!=null&&ta.errorEmitted||sa!=null&&sa.errorEmitted||(ta&&(ta.errorEmitted=!0),sa&&(sa.errorEmitted=!0),Yr.emit("error",Wr))}function Cr(){const Yr=this._readableState,Wr=this._writableState;Yr&&(Yr.constructed=!0,Yr.closed=!1,Yr.closeEmitted=!1,Yr.destroyed=!1,Yr.errored=null,Yr.errorEmitted=!1,Yr.reading=!1,Yr.ended=Yr.readable===!1,Yr.endEmitted=Yr.readable===!1),Wr&&(Wr.constructed=!0,Wr.destroyed=!1,Wr.closed=!1,Wr.closeEmitted=!1,Wr.errored=null,Wr.errorEmitted=!1,Wr.finalCalled=!1,Wr.prefinished=!1,Wr.ended=Wr.writable===!1,Wr.ending=Wr.writable===!1,Wr.finished=Wr.writable===!1)}function Or(Yr,Wr,sa){const ta=Yr._readableState,oa=Yr._writableState;if(oa!=null&&oa.destroyed||ta!=null&&ta.destroyed)return this;ta!=null&&ta.autoDestroy||oa!=null&&oa.autoDestroy?Yr.destroy(Wr):Wr&&(Wr.stack,oa&&!oa.errored&&(oa.errored=Wr),ta&&!ta.errored&&(ta.errored=Wr),sa?ur.nextTick(Dr,Yr,Wr):Dr(Yr,Wr))}function qr(Yr,Wr){if(typeof Yr._construct!="function")return;const sa=Yr._readableState,ta=Yr._writableState;sa&&(sa.constructed=!1),ta&&(ta.constructed=!1),Yr.once(Sr,Wr),!(Yr.listenerCount(Sr)>1)&&ur.nextTick(Hr,Yr)}function Hr(Yr){let Wr=!1;function sa(ta){if(Wr){Or(Yr,ta??new hr);return}Wr=!0;const oa=Yr._readableState,Ia=Yr._writableState,$r=Ia||oa;oa&&(oa.constructed=!0),Ia&&(Ia.constructed=!0),$r.destroyed?Yr.emit(vr,ta):ta?Or(Yr,ta,!0):ur.nextTick(Lr,Yr)}try{Yr._construct(ta=>{ur.nextTick(sa,ta)})}catch(ta){ur.nextTick(sa,ta)}}function Lr(Yr){Yr.emit(Sr)}function jr(Yr){return(Yr==null?void 0:Yr.setHeader)&&typeof Yr.abort=="function"}function Br(Yr){Yr.emit("close")}function Ur(Yr,Wr){Yr.emit("error",Wr),ur.nextTick(Br,Yr)}function Kr(Yr,Wr){!Yr||br(Yr)||(!Wr&&!yr(Yr)&&(Wr=new dr),Tr(Yr)?(Yr.socket=null,Yr.destroy(Wr)):jr(Yr)?Yr.abort():jr(Yr.req)?Yr.req.abort():typeof Yr.destroy=="function"?Yr.destroy(Wr):typeof Yr.close=="function"?Yr.close():Wr?ur.nextTick(Ur,Yr,Wr):ur.nextTick(Br,Yr),Yr.destroyed||(Yr[gr]=!0))}return destroy_1={construct:qr,destroyer:Kr,destroy:wr,undestroy:Cr,errorOrDestroy:Or},destroy_1}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;const{ArrayIsArray:ur,ObjectSetPrototypeOf:cr}=requirePrimordials(),{EventEmitter:hr}=requireEvents();function dr(gr){hr.call(this,gr)}cr(dr.prototype,hr.prototype),cr(dr,hr),dr.prototype.pipe=function(gr,br){const yr=this;function Tr(kr){gr.writable&&gr.write(kr)===!1&&yr.pause&&yr.pause()}yr.on("data",Tr);function vr(){yr.readable&&yr.resume&&yr.resume()}gr.on("drain",vr),!gr._isStdio&&(!br||br.end!==!1)&&(yr.on("end",_r),yr.on("close",wr));let Sr=!1;function _r(){Sr||(Sr=!0,gr.end())}function wr(){Sr||(Sr=!0,typeof gr.destroy=="function"&&gr.destroy())}function Er(kr){Ar(),hr.listenerCount(this,"error")===0&&this.emit("error",kr)}mr(yr,"error",Er),mr(gr,"error",Er);function Ar(){yr.removeListener("data",Tr),gr.removeListener("drain",vr),yr.removeListener("end",_r),yr.removeListener("close",wr),yr.removeListener("error",Er),gr.removeListener("error",Er),yr.removeListener("end",Ar),yr.removeListener("close",Ar),gr.removeListener("close",Ar)}return yr.on("end",Ar),yr.on("close",Ar),gr.on("close",Ar),gr.emit("pipe",yr),gr};function mr(gr,br,yr){if(typeof gr.prependListener=="function")return gr.prependListener(br,yr);!gr._events||!gr._events[br]?gr.on(br,yr):ur(gr._events[br])?gr._events[br].unshift(yr):gr._events[br]=[yr,gr._events[br]]}return legacy={Stream:dr,prependListener:mr},legacy}var addAbortSignal={exports:{}},hasRequiredAddAbortSignal;function requireAddAbortSignal(){return hasRequiredAddAbortSignal||(hasRequiredAddAbortSignal=1,(function(ur){const{SymbolDispose:cr}=requirePrimordials(),{AbortError:hr,codes:dr}=requireErrors(),{isNodeStream:mr,isWebStream:gr,kControllerErrorFunction:br}=requireUtils(),yr=requireEndOfStream(),{ERR_INVALID_ARG_TYPE:Tr}=dr;let vr;const Sr=(_r,wr)=>{if(typeof _r!="object"||!("aborted"in _r))throw new Tr(wr,"AbortSignal",_r)};ur.exports.addAbortSignal=function(wr,Er){if(Sr(wr,"signal"),!mr(Er)&&!gr(Er))throw new Tr("stream",["ReadableStream","WritableStream","Stream"],Er);return ur.exports.addAbortSignalNoValidate(wr,Er)},ur.exports.addAbortSignalNoValidate=function(_r,wr){if(typeof _r!="object"||!("aborted"in _r))return wr;const Er=mr(wr)?()=>{wr.destroy(new hr(void 0,{cause:_r.reason}))}:()=>{wr[br](new hr(void 0,{cause:_r.reason}))};if(_r.aborted)Er();else{vr=vr||requireUtil().addAbortListener;const Ar=vr(_r,Er);yr(wr,Ar[cr])}return wr}})(addAbortSignal)),addAbortSignal.exports}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;const{StringPrototypeSlice:ur,SymbolIterator:cr,TypedArrayPrototypeSet:hr,Uint8Array:dr}=requirePrimordials(),{Buffer:mr}=requireBuffer(),{inspect:gr}=requireUtil();return buffer_list=class{constructor(){this.head=null,this.tail=null,this.length=0}push(yr){const Tr={data:yr,next:null};this.length>0?this.tail.next=Tr:this.head=Tr,this.tail=Tr,++this.length}unshift(yr){const Tr={data:yr,next:this.head};this.length===0&&(this.tail=Tr),this.head=Tr,++this.length}shift(){if(this.length===0)return;const yr=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,yr}clear(){this.head=this.tail=null,this.length=0}join(yr){if(this.length===0)return"";let Tr=this.head,vr=""+Tr.data;for(;(Tr=Tr.next)!==null;)vr+=yr+Tr.data;return vr}concat(yr){if(this.length===0)return mr.alloc(0);const Tr=mr.allocUnsafe(yr>>>0);let vr=this.head,Sr=0;for(;vr;)hr(Tr,vr.data,Sr),Sr+=vr.data.length,vr=vr.next;return Tr}consume(yr,Tr){const vr=this.head.data;if(yr<vr.length){const Sr=vr.slice(0,yr);return this.head.data=vr.slice(yr),Sr}return yr===vr.length?this.shift():Tr?this._getString(yr):this._getBuffer(yr)}first(){return this.head.data}*[cr](){for(let yr=this.head;yr;yr=yr.next)yield yr.data}_getString(yr){let Tr="",vr=this.head,Sr=0;do{const _r=vr.data;if(yr>_r.length)Tr+=_r,yr-=_r.length;else{yr===_r.length?(Tr+=_r,++Sr,vr.next?this.head=vr.next:this.head=this.tail=null):(Tr+=ur(_r,0,yr),this.head=vr,vr.data=ur(_r,yr));break}++Sr}while((vr=vr.next)!==null);return this.length-=Sr,Tr}_getBuffer(yr){const Tr=mr.allocUnsafe(yr),vr=yr;let Sr=this.head,_r=0;do{const wr=Sr.data;if(yr>wr.length)hr(Tr,wr,vr-yr),yr-=wr.length;else{yr===wr.length?(hr(Tr,wr,vr-yr),++_r,Sr.next?this.head=Sr.next:this.head=this.tail=null):(hr(Tr,new dr(wr.buffer,wr.byteOffset,yr),vr-yr),this.head=Sr,Sr.data=wr.slice(yr));break}++_r}while((Sr=Sr.next)!==null);return this.length-=_r,Tr}[Symbol.for("nodejs.util.inspect.custom")](yr,Tr){return gr(this,{...Tr,depth:0,customInspect:!1})}},buffer_list}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;const{MathFloor:ur,NumberIsInteger:cr}=requirePrimordials(),{validateInteger:hr}=requireValidators(),{ERR_INVALID_ARG_VALUE:dr}=requireErrors().codes;let mr=16*1024,gr=16;function br(Sr,_r,wr){return Sr.highWaterMark!=null?Sr.highWaterMark:_r?Sr[wr]:null}function yr(Sr){return Sr?gr:mr}function Tr(Sr,_r){hr(_r,"value",0),Sr?gr=_r:mr=_r}function vr(Sr,_r,wr,Er){const Ar=br(_r,Er,wr);if(Ar!=null){if(!cr(Ar)||Ar<0){const kr=Er?`options.${wr}`:"options.highWaterMark";throw new dr(kr,Ar)}return ur(Ar)}return yr(Sr.objectMode)}return state={getHighWaterMark:vr,getDefaultHighWaterMark:yr,setDefaultHighWaterMark:Tr},state}var string_decoder={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,(function(ur,cr){var hr=requireBuffer(),dr=hr.Buffer;function mr(br,yr){for(var Tr in br)yr[Tr]=br[Tr]}dr.from&&dr.alloc&&dr.allocUnsafe&&dr.allocUnsafeSlow?ur.exports=hr:(mr(hr,cr),cr.Buffer=gr);function gr(br,yr,Tr){return dr(br,yr,Tr)}gr.prototype=Object.create(dr.prototype),mr(dr,gr),gr.from=function(br,yr,Tr){if(typeof br=="number")throw new TypeError("Argument must not be a number");return dr(br,yr,Tr)},gr.alloc=function(br,yr,Tr){if(typeof br!="number")throw new TypeError("Argument must be a number");var vr=dr(br);return yr!==void 0?typeof Tr=="string"?vr.fill(yr,Tr):vr.fill(yr):vr.fill(0),vr},gr.allocUnsafe=function(br){if(typeof br!="number")throw new TypeError("Argument must be a number");return dr(br)},gr.allocUnsafeSlow=function(br){if(typeof br!="number")throw new TypeError("Argument must be a number");return hr.SlowBuffer(br)}})(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var ur=requireSafeBuffer().Buffer,cr=ur.isEncoding||function(Cr){switch(Cr=""+Cr,Cr&&Cr.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function hr(Cr){if(!Cr)return"utf8";for(var Or;;)switch(Cr){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Cr;default:if(Or)return;Cr=(""+Cr).toLowerCase(),Or=!0}}function dr(Cr){var Or=hr(Cr);if(typeof Or!="string"&&(ur.isEncoding===cr||!cr(Cr)))throw new Error("Unknown encoding: "+Cr);return Or||Cr}string_decoder.StringDecoder=mr;function mr(Cr){this.encoding=dr(Cr);var Or;switch(this.encoding){case"utf16le":this.text=_r,this.end=wr,Or=4;break;case"utf8":this.fillLast=Tr,Or=4;break;case"base64":this.text=Er,this.end=Ar,Or=3;break;default:this.write=kr,this.end=Dr;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=ur.allocUnsafe(Or)}mr.prototype.write=function(Cr){if(Cr.length===0)return"";var Or,qr;if(this.lastNeed){if(Or=this.fillLast(Cr),Or===void 0)return"";qr=this.lastNeed,this.lastNeed=0}else qr=0;return qr<Cr.length?Or?Or+this.text(Cr,qr):this.text(Cr,qr):Or||""},mr.prototype.end=Sr,mr.prototype.text=vr,mr.prototype.fillLast=function(Cr){if(this.lastNeed<=Cr.length)return Cr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Cr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Cr.length),this.lastNeed-=Cr.length};function gr(Cr){return Cr<=127?0:Cr>>5===6?2:Cr>>4===14?3:Cr>>3===30?4:Cr>>6===2?-1:-2}function br(Cr,Or,qr){var Hr=Or.length-1;if(Hr<qr)return 0;var Lr=gr(Or[Hr]);return Lr>=0?(Lr>0&&(Cr.lastNeed=Lr-1),Lr):--Hr<qr||Lr===-2?0:(Lr=gr(Or[Hr]),Lr>=0?(Lr>0&&(Cr.lastNeed=Lr-2),Lr):--Hr<qr||Lr===-2?0:(Lr=gr(Or[Hr]),Lr>=0?(Lr>0&&(Lr===2?Lr=0:Cr.lastNeed=Lr-3),Lr):0))}function yr(Cr,Or,qr){if((Or[0]&192)!==128)return Cr.lastNeed=0,"";if(Cr.lastNeed>1&&Or.length>1){if((Or[1]&192)!==128)return Cr.lastNeed=1,"";if(Cr.lastNeed>2&&Or.length>2&&(Or[2]&192)!==128)return Cr.lastNeed=2,""}}function Tr(Cr){var Or=this.lastTotal-this.lastNeed,qr=yr(this,Cr);if(qr!==void 0)return qr;if(this.lastNeed<=Cr.length)return Cr.copy(this.lastChar,Or,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Cr.copy(this.lastChar,Or,0,Cr.length),this.lastNeed-=Cr.length}function vr(Cr,Or){var qr=br(this,Cr,Or);if(!this.lastNeed)return Cr.toString("utf8",Or);this.lastTotal=qr;var Hr=Cr.length-(qr-this.lastNeed);return Cr.copy(this.lastChar,0,Hr),Cr.toString("utf8",Or,Hr)}function Sr(Cr){var Or=Cr&&Cr.length?this.write(Cr):"";return this.lastNeed?Or+"":Or}function _r(Cr,Or){if((Cr.length-Or)%2===0){var qr=Cr.toString("utf16le",Or);if(qr){var Hr=qr.charCodeAt(qr.length-1);if(Hr>=55296&&Hr<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Cr[Cr.length-2],this.lastChar[1]=Cr[Cr.length-1],qr.slice(0,-1)}return qr}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Cr[Cr.length-1],Cr.toString("utf16le",Or,Cr.length-1)}function wr(Cr){var Or=Cr&&Cr.length?this.write(Cr):"";if(this.lastNeed){var qr=this.lastTotal-this.lastNeed;return Or+this.lastChar.toString("utf16le",0,qr)}return Or}function Er(Cr,Or){var qr=(Cr.length-Or)%3;return qr===0?Cr.toString("base64",Or):(this.lastNeed=3-qr,this.lastTotal=3,qr===1?this.lastChar[0]=Cr[Cr.length-1]:(this.lastChar[0]=Cr[Cr.length-2],this.lastChar[1]=Cr[Cr.length-1]),Cr.toString("base64",Or,Cr.length-qr))}function Ar(Cr){var Or=Cr&&Cr.length?this.write(Cr):"";return this.lastNeed?Or+this.lastChar.toString("base64",0,3-this.lastNeed):Or}function kr(Cr){return Cr.toString(this.encoding)}function Dr(Cr){return Cr&&Cr.length?this.write(Cr):""}return string_decoder}var from_1,hasRequiredFrom;function requireFrom(){if(hasRequiredFrom)return from_1;hasRequiredFrom=1;const ur=requireBrowser$1(),{PromisePrototypeThen:cr,SymbolAsyncIterator:hr,SymbolIterator:dr}=requirePrimordials(),{Buffer:mr}=requireBuffer(),{ERR_INVALID_ARG_TYPE:gr,ERR_STREAM_NULL_VALUES:br}=requireErrors().codes;function yr(Tr,vr,Sr){let _r;if(typeof vr=="string"||vr instanceof mr)return new Tr({objectMode:!0,...Sr,read(){this.push(vr),this.push(null)}});let wr;if(vr&&vr[hr])wr=!0,_r=vr[hr]();else if(vr&&vr[dr])wr=!1,_r=vr[dr]();else throw new gr("iterable",["Iterable"],vr);const Er=new Tr({objectMode:!0,highWaterMark:1,...Sr});let Ar=!1;Er._read=function(){Ar||(Ar=!0,Dr())},Er._destroy=function(Cr,Or){cr(kr(Cr),()=>ur.nextTick(Or,Cr),qr=>ur.nextTick(Or,qr||Cr))};async function kr(Cr){const Or=Cr!=null,qr=typeof _r.throw=="function";if(Or&&qr){const{value:Hr,done:Lr}=await _r.throw(Cr);if(await Hr,Lr)return}if(typeof _r.return=="function"){const{value:Hr}=await _r.return();await Hr}}async function Dr(){for(;;){try{const{value:Cr,done:Or}=wr?await _r.next():_r.next();if(Or)Er.push(null);else{const qr=Cr&&typeof Cr.then=="function"?await Cr:Cr;if(qr===null)throw Ar=!1,new br;if(Er.push(qr))continue;Ar=!1}}catch(Cr){Er.destroy(Cr)}break}}return Er}return from_1=yr,from_1}var readable,hasRequiredReadable;function requireReadable(){if(hasRequiredReadable)return readable;hasRequiredReadable=1;const ur=requireBrowser$1(),{ArrayPrototypeIndexOf:cr,NumberIsInteger:hr,NumberIsNaN:dr,NumberParseInt:mr,ObjectDefineProperties:gr,ObjectKeys:br,ObjectSetPrototypeOf:yr,Promise:Tr,SafeSet:vr,SymbolAsyncDispose:Sr,SymbolAsyncIterator:_r,Symbol:wr}=requirePrimordials();readable=ca,ca.ReadableState=Ua;const{EventEmitter:Er}=requireEvents(),{Stream:Ar,prependListener:kr}=requireLegacy(),{Buffer:Dr}=requireBuffer(),{addAbortSignal:Cr}=requireAddAbortSignal(),Or=requireEndOfStream();let qr=requireUtil().debuglog("stream",Nr=>{qr=Nr});const Hr=requireBuffer_list(),Lr=requireDestroy(),{getHighWaterMark:jr,getDefaultHighWaterMark:Br}=requireState(),{aggregateTwoErrors:Ur,codes:{ERR_INVALID_ARG_TYPE:Kr,ERR_METHOD_NOT_IMPLEMENTED:Yr,ERR_OUT_OF_RANGE:Wr,ERR_STREAM_PUSH_AFTER_EOF:sa,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ta},AbortError:oa}=requireErrors(),{validateObject:Ia}=requireValidators(),$r=wr("kPaused"),{StringDecoder:xa}=requireString_decoder(),ua=requireFrom();yr(ca.prototype,Ar.prototype),yr(ca,Ar);const Ba=()=>{},{errorOrDestroy:Xr}=Lr,Fr=1,Qr=2,ra=4,Ta=8,Ma=16,La=32,za=64,ya=128,pa=256,Na=512,Ha=1024,Xa=2048,na=4096,ia=8192,ba=16384,Oa=32768,Pa=65536,qa=1<<17,ea=1<<18;function ka(Nr){return{enumerable:!1,get(){return(this.state&Nr)!==0},set(Gr){Gr?this.state|=Nr:this.state&=~Nr}}}gr(Ua.prototype,{objectMode:ka(Fr),ended:ka(Qr),endEmitted:ka(ra),reading:ka(Ta),constructed:ka(Ma),sync:ka(La),needReadable:ka(za),emittedReadable:ka(ya),readableListening:ka(pa),resumeScheduled:ka(Na),errorEmitted:ka(Ha),emitClose:ka(Xa),autoDestroy:ka(na),destroyed:ka(ia),closed:ka(ba),closeEmitted:ka(Oa),multiAwaitDrain:ka(Pa),readingMore:ka(qa),dataEmitted:ka(ea)});function Ua(Nr,Gr,Sa){typeof Sa!="boolean"&&(Sa=Gr instanceof requireDuplex()),this.state=Xa|na|Ma|La,Nr&&Nr.objectMode&&(this.state|=Fr),Sa&&Nr&&Nr.readableObjectMode&&(this.state|=Fr),this.highWaterMark=Nr?jr(this,Nr,"readableHighWaterMark",Sa):Br(!1),this.buffer=new Hr,this.length=0,this.pipes=[],this.flowing=null,this[$r]=null,Nr&&Nr.emitClose===!1&&(this.state&=~Xa),Nr&&Nr.autoDestroy===!1&&(this.state&=~na),this.errored=null,this.defaultEncoding=Nr&&Nr.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Nr&&Nr.encoding&&(this.decoder=new xa(Nr.encoding),this.encoding=Nr.encoding)}function ca(Nr){if(!(this instanceof ca))return new ca(Nr);const Gr=this instanceof requireDuplex();this._readableState=new Ua(Nr,this,Gr),Nr&&(typeof Nr.read=="function"&&(this._read=Nr.read),typeof Nr.destroy=="function"&&(this._destroy=Nr.destroy),typeof Nr.construct=="function"&&(this._construct=Nr.construct),Nr.signal&&!Gr&&Cr(Nr.signal,this)),Ar.call(this,Nr),Lr.construct(this,()=>{this._readableState.needReadable&&aa(this,this._readableState)})}ca.prototype.destroy=Lr.destroy,ca.prototype._undestroy=Lr.undestroy,ca.prototype._destroy=function(Nr,Gr){Gr(Nr)},ca.prototype[Er.captureRejectionSymbol]=function(Nr){this.destroy(Nr)},ca.prototype[Sr]=function(){let Nr;return this.destroyed||(Nr=this.readableEnded?null:new oa,this.destroy(Nr)),new Tr((Gr,Sa)=>Or(this,Da=>Da&&Da!==Nr?Sa(Da):Gr(null)))},ca.prototype.push=function(Nr,Gr){return Va(this,Nr,Gr,!1)},ca.prototype.unshift=function(Nr,Gr){return Va(this,Nr,Gr,!0)};function Va(Nr,Gr,Sa,Da){qr("readableAddChunk",Gr);const ja=Nr._readableState;let Ka;if((ja.state&Fr)===0&&(typeof Gr=="string"?(Sa=Sa||ja.defaultEncoding,ja.encoding!==Sa&&(Da&&ja.encoding?Gr=Dr.from(Gr,Sa).toString(ja.encoding):(Gr=Dr.from(Gr,Sa),Sa=""))):Gr instanceof Dr?Sa="":Ar._isUint8Array(Gr)?(Gr=Ar._uint8ArrayToBuffer(Gr),Sa=""):Gr!=null&&(Ka=new Kr("chunk",["string","Buffer","Uint8Array"],Gr))),Ka)Xr(Nr,Ka);else if(Gr===null)ja.state&=~Ta,Rr(Nr,ja);else if((ja.state&Fr)!==0||Gr&&Gr.length>0)if(Da)if((ja.state&ra)!==0)Xr(Nr,new ta);else{if(ja.destroyed||ja.errored)return!1;ni(Nr,ja,Gr,!0)}else if(ja.ended)Xr(Nr,new sa);else{if(ja.destroyed||ja.errored)return!1;ja.state&=~Ta,ja.decoder&&!Sa?(Gr=ja.decoder.write(Gr),ja.objectMode||Gr.length!==0?ni(Nr,ja,Gr,!1):aa(Nr,ja)):ni(Nr,ja,Gr,!1)}else Da||(ja.state&=~Ta,aa(Nr,ja));return!ja.ended&&(ja.length<ja.highWaterMark||ja.length===0)}function ni(Nr,Gr,Sa,Da){Gr.flowing&&Gr.length===0&&!Gr.sync&&Nr.listenerCount("data")>0?((Gr.state&Pa)!==0?Gr.awaitDrainWriters.clear():Gr.awaitDrainWriters=null,Gr.dataEmitted=!0,Nr.emit("data",Sa)):(Gr.length+=Gr.objectMode?1:Sa.length,Da?Gr.buffer.unshift(Sa):Gr.buffer.push(Sa),(Gr.state&za)!==0&&Mr(Nr)),aa(Nr,Gr)}ca.prototype.isPaused=function(){const Nr=this._readableState;return Nr[$r]===!0||Nr.flowing===!1},ca.prototype.setEncoding=function(Nr){const Gr=new xa(Nr);this._readableState.decoder=Gr,this._readableState.encoding=this._readableState.decoder.encoding;const Sa=this._readableState.buffer;let Da="";for(const ja of Sa)Da+=Gr.write(ja);return Sa.clear(),Da!==""&&Sa.push(Da),this._readableState.length=Da.length,this};const ii=1073741824;function yi(Nr){if(Nr>ii)throw new Wr("size","<= 1GiB",Nr);return Nr--,Nr|=Nr>>>1,Nr|=Nr>>>2,Nr|=Nr>>>4,Nr|=Nr>>>8,Nr|=Nr>>>16,Nr++,Nr}function Pr(Nr,Gr){return Nr<=0||Gr.length===0&&Gr.ended?0:(Gr.state&Fr)!==0?1:dr(Nr)?Gr.flowing&&Gr.length?Gr.buffer.first().length:Gr.length:Nr<=Gr.length?Nr:Gr.ended?Gr.length:0}ca.prototype.read=function(Nr){qr("read",Nr),Nr===void 0?Nr=NaN:hr(Nr)||(Nr=mr(Nr,10));const Gr=this._readableState,Sa=Nr;if(Nr>Gr.highWaterMark&&(Gr.highWaterMark=yi(Nr)),Nr!==0&&(Gr.state&=~ya),Nr===0&&Gr.needReadable&&((Gr.highWaterMark!==0?Gr.length>=Gr.highWaterMark:Gr.length>0)||Gr.ended))return qr("read: emitReadable",Gr.length,Gr.ended),Gr.length===0&&Gr.ended?_s(this):Mr(this),null;if(Nr=Pr(Nr,Gr),Nr===0&&Gr.ended)return Gr.length===0&&_s(this),null;let Da=(Gr.state&za)!==0;if(qr("need readable",Da),(Gr.length===0||Gr.length-Nr<Gr.highWaterMark)&&(Da=!0,qr("length less than watermark",Da)),Gr.ended||Gr.reading||Gr.destroyed||Gr.errored||!Gr.constructed)Da=!1,qr("reading, ended or constructing",Da);else if(Da){qr("do read"),Gr.state|=Ta|La,Gr.length===0&&(Gr.state|=za);try{this._read(Gr.highWaterMark)}catch(Ka){Xr(this,Ka)}Gr.state&=~La,Gr.reading||(Nr=Pr(Sa,Gr))}let ja;return Nr>0?ja=Ds(Nr,Gr):ja=null,ja===null?(Gr.needReadable=Gr.length<=Gr.highWaterMark,Nr=0):(Gr.length-=Nr,Gr.multiAwaitDrain?Gr.awaitDrainWriters.clear():Gr.awaitDrainWriters=null),Gr.length===0&&(Gr.ended||(Gr.needReadable=!0),Sa!==Nr&&Gr.ended&&_s(this)),ja!==null&&!Gr.errorEmitted&&!Gr.closeEmitted&&(Gr.dataEmitted=!0,this.emit("data",ja)),ja};function Rr(Nr,Gr){if(qr("onEofChunk"),!Gr.ended){if(Gr.decoder){const Sa=Gr.decoder.end();Sa&&Sa.length&&(Gr.buffer.push(Sa),Gr.length+=Gr.objectMode?1:Sa.length)}Gr.ended=!0,Gr.sync?Mr(Nr):(Gr.needReadable=!1,Gr.emittedReadable=!0,Vr(Nr))}}function Mr(Nr){const Gr=Nr._readableState;qr("emitReadable",Gr.needReadable,Gr.emittedReadable),Gr.needReadable=!1,Gr.emittedReadable||(qr("emitReadable",Gr.flowing),Gr.emittedReadable=!0,ur.nextTick(Vr,Nr))}function Vr(Nr){const Gr=Nr._readableState;qr("emitReadable_",Gr.destroyed,Gr.length,Gr.ended),!Gr.destroyed&&!Gr.errored&&(Gr.length||Gr.ended)&&(Nr.emit("readable"),Gr.emittedReadable=!1),Gr.needReadable=!Gr.flowing&&!Gr.ended&&Gr.length<=Gr.highWaterMark,hi(Nr)}function aa(Nr,Gr){!Gr.readingMore&&Gr.constructed&&(Gr.readingMore=!0,ur.nextTick(fa,Nr,Gr))}function fa(Nr,Gr){for(;!Gr.reading&&!Gr.ended&&(Gr.length<Gr.highWaterMark||Gr.flowing&&Gr.length===0);){const Sa=Gr.length;if(qr("maybeReadMore read 0"),Nr.read(0),Sa===Gr.length)break}Gr.readingMore=!1}ca.prototype._read=function(Nr){throw new Yr("_read()")},ca.prototype.pipe=function(Nr,Gr){const Sa=this,Da=this._readableState;Da.pipes.length===1&&(Da.multiAwaitDrain||(Da.multiAwaitDrain=!0,Da.awaitDrainWriters=new vr(Da.awaitDrainWriters?[Da.awaitDrainWriters]:[]))),Da.pipes.push(Nr),qr("pipe count=%d opts=%j",Da.pipes.length,Gr);const Ka=(!Gr||Gr.end!==!1)&&Nr!==ur.stdout&&Nr!==ur.stderr?ga:Ms;Da.endEmitted?ur.nextTick(Ka):Sa.once("end",Ka),Nr.on("unpipe",si);function si(Ts,Yi){qr("onunpipe"),Ts===Sa&&Yi&&Yi.hasUnpiped===!1&&(Yi.hasUnpiped=!0,li())}function ga(){qr("onend"),Nr.end()}let $a,ti=!1;function li(){qr("cleanup"),Nr.removeListener("close",os),Nr.removeListener("finish",es),$a&&Nr.removeListener("drain",$a),Nr.removeListener("error",ki),Nr.removeListener("unpipe",si),Sa.removeListener("end",ga),Sa.removeListener("end",Ms),Sa.removeListener("data",Di),ti=!0,$a&&Da.awaitDrainWriters&&(!Nr._writableState||Nr._writableState.needDrain)&&$a()}function _i(){ti||(Da.pipes.length===1&&Da.pipes[0]===Nr?(qr("false write response, pause",0),Da.awaitDrainWriters=Nr,Da.multiAwaitDrain=!1):Da.pipes.length>1&&Da.pipes.includes(Nr)&&(qr("false write response, pause",Da.awaitDrainWriters.size),Da.awaitDrainWriters.add(Nr)),Sa.pause()),$a||($a=Aa(Sa,Nr),Nr.on("drain",$a))}Sa.on("data",Di);function Di(Ts){qr("ondata");const Yi=Nr.write(Ts);qr("dest.write",Yi),Yi===!1&&_i()}function ki(Ts){if(qr("onerror",Ts),Ms(),Nr.removeListener("error",ki),Nr.listenerCount("error")===0){const Yi=Nr._writableState||Nr._readableState;Yi&&!Yi.errorEmitted?Xr(Nr,Ts):Nr.emit("error",Ts)}}kr(Nr,"error",ki);function os(){Nr.removeListener("finish",es),Ms()}Nr.once("close",os);function es(){qr("onfinish"),Nr.removeListener("close",os),Ms()}Nr.once("finish",es);function Ms(){qr("unpipe"),Sa.unpipe(Nr)}return Nr.emit("pipe",Sa),Nr.writableNeedDrain===!0?_i():Da.flowing||(qr("pipe resume"),Sa.resume()),Nr};function Aa(Nr,Gr){return function(){const Da=Nr._readableState;Da.awaitDrainWriters===Gr?(qr("pipeOnDrain",1),Da.awaitDrainWriters=null):Da.multiAwaitDrain&&(qr("pipeOnDrain",Da.awaitDrainWriters.size),Da.awaitDrainWriters.delete(Gr)),(!Da.awaitDrainWriters||Da.awaitDrainWriters.size===0)&&Nr.listenerCount("data")&&Nr.resume()}}ca.prototype.unpipe=function(Nr){const Gr=this._readableState,Sa={hasUnpiped:!1};if(Gr.pipes.length===0)return this;if(!Nr){const ja=Gr.pipes;Gr.pipes=[],this.pause();for(let Ka=0;Ka<ja.length;Ka++)ja[Ka].emit("unpipe",this,{hasUnpiped:!1});return this}const Da=cr(Gr.pipes,Nr);return Da===-1?this:(Gr.pipes.splice(Da,1),Gr.pipes.length===0&&this.pause(),Nr.emit("unpipe",this,Sa),this)},ca.prototype.on=function(Nr,Gr){const Sa=Ar.prototype.on.call(this,Nr,Gr),Da=this._readableState;return Nr==="data"?(Da.readableListening=this.listenerCount("readable")>0,Da.flowing!==!1&&this.resume()):Nr==="readable"&&!Da.endEmitted&&!Da.readableListening&&(Da.readableListening=Da.needReadable=!0,Da.flowing=!1,Da.emittedReadable=!1,qr("on readable",Da.length,Da.reading),Da.length?Mr(this):Da.reading||ur.nextTick(ei,this)),Sa},ca.prototype.addListener=ca.prototype.on,ca.prototype.removeListener=function(Nr,Gr){const Sa=Ar.prototype.removeListener.call(this,Nr,Gr);return Nr==="readable"&&ur.nextTick(Wa,this),Sa},ca.prototype.off=ca.prototype.removeListener,ca.prototype.removeAllListeners=function(Nr){const Gr=Ar.prototype.removeAllListeners.apply(this,arguments);return(Nr==="readable"||Nr===void 0)&&ur.nextTick(Wa,this),Gr};function Wa(Nr){const Gr=Nr._readableState;Gr.readableListening=Nr.listenerCount("readable")>0,Gr.resumeScheduled&&Gr[$r]===!1?Gr.flowing=!0:Nr.listenerCount("data")>0?Nr.resume():Gr.readableListening||(Gr.flowing=null)}function ei(Nr){qr("readable nexttick read 0"),Nr.read(0)}ca.prototype.resume=function(){const Nr=this._readableState;return Nr.flowing||(qr("resume"),Nr.flowing=!Nr.readableListening,Ja(this,Nr)),Nr[$r]=!1,this};function Ja(Nr,Gr){Gr.resumeScheduled||(Gr.resumeScheduled=!0,ur.nextTick(xi,Nr,Gr))}function xi(Nr,Gr){qr("resume",Gr.reading),Gr.reading||Nr.read(0),Gr.resumeScheduled=!1,Nr.emit("resume"),hi(Nr),Gr.flowing&&!Gr.reading&&Nr.read(0)}ca.prototype.pause=function(){return qr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(qr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[$r]=!0,this};function hi(Nr){const Gr=Nr._readableState;for(qr("flow",Gr.flowing);Gr.flowing&&Nr.read()!==null;);}ca.prototype.wrap=function(Nr){let Gr=!1;Nr.on("data",Da=>{!this.push(Da)&&Nr.pause&&(Gr=!0,Nr.pause())}),Nr.on("end",()=>{this.push(null)}),Nr.on("error",Da=>{Xr(this,Da)}),Nr.on("close",()=>{this.destroy()}),Nr.on("destroy",()=>{this.destroy()}),this._read=()=>{Gr&&Nr.resume&&(Gr=!1,Nr.resume())};const Sa=br(Nr);for(let Da=1;Da<Sa.length;Da++){const ja=Sa[Da];this[ja]===void 0&&typeof Nr[ja]=="function"&&(this[ja]=Nr[ja].bind(Nr))}return this},ca.prototype[_r]=function(){return Fl(this)},ca.prototype.iterator=function(Nr){return Nr!==void 0&&Ia(Nr,"options"),Fl(this,Nr)};function Fl(Nr,Gr){typeof Nr.read!="function"&&(Nr=ca.wrap(Nr,{objectMode:!0}));const Sa=Js(Nr,Gr);return Sa.stream=Nr,Sa}async function*Js(Nr,Gr){let Sa=Ba;function Da(si){this===Nr?(Sa(),Sa=Ba):Sa=si}Nr.on("readable",Da);let ja;const Ka=Or(Nr,{writable:!1},si=>{ja=si?Ur(ja,si):null,Sa(),Sa=Ba});try{for(;;){const si=Nr.destroyed?null:Nr.read();if(si!==null)yield si;else{if(ja)throw ja;if(ja===null)return;await new Tr(Da)}}}catch(si){throw ja=Ur(ja,si),ja}finally{(ja||(Gr==null?void 0:Gr.destroyOnReturn)!==!1)&&(ja===void 0||Nr._readableState.autoDestroy)?Lr.destroyer(Nr,null):(Nr.off("readable",Da),Ka())}}gr(ca.prototype,{readable:{__proto__:null,get(){const Nr=this._readableState;return!!Nr&&Nr.readable!==!1&&!Nr.destroyed&&!Nr.errorEmitted&&!Nr.endEmitted},set(Nr){this._readableState&&(this._readableState.readable=!!Nr)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Nr){this._readableState&&(this._readableState.flowing=Nr)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Nr){this._readableState&&(this._readableState.destroyed=Nr)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),gr(Ua.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[$r]!==!1},set(Nr){this[$r]=!!Nr}}}),ca._fromList=Ds;function Ds(Nr,Gr){if(Gr.length===0)return null;let Sa;return Gr.objectMode?Sa=Gr.buffer.shift():!Nr||Nr>=Gr.length?(Gr.decoder?Sa=Gr.buffer.join(""):Gr.buffer.length===1?Sa=Gr.buffer.first():Sa=Gr.buffer.concat(Gr.length),Gr.buffer.clear()):Sa=Gr.buffer.consume(Nr,Gr.decoder),Sa}function _s(Nr){const Gr=Nr._readableState;qr("endReadable",Gr.endEmitted),Gr.endEmitted||(Gr.ended=!0,ur.nextTick(xs,Gr,Nr))}function xs(Nr,Gr){if(qr("endReadableNT",Nr.endEmitted,Nr.length),!Nr.errored&&!Nr.closeEmitted&&!Nr.endEmitted&&Nr.length===0){if(Nr.endEmitted=!0,Gr.emit("end"),Gr.writable&&Gr.allowHalfOpen===!1)ur.nextTick(wa,Gr);else if(Nr.autoDestroy){const Sa=Gr._writableState;(!Sa||Sa.autoDestroy&&(Sa.finished||Sa.writable===!1))&&Gr.destroy()}}}function wa(Nr){Nr.writable&&!Nr.writableEnded&&!Nr.destroyed&&Nr.end()}ca.from=function(Nr,Gr){return ua(ca,Nr,Gr)};let Ea;function Fa(){return Ea===void 0&&(Ea={}),Ea}return ca.fromWeb=function(Nr,Gr){return Fa().newStreamReadableFromReadableStream(Nr,Gr)},ca.toWeb=function(Nr,Gr){return Fa().newReadableStreamFromStreamReadable(Nr,Gr)},ca.wrap=function(Nr,Gr){var Sa,Da;return new ca({objectMode:(Sa=(Da=Nr.readableObjectMode)!==null&&Da!==void 0?Da:Nr.objectMode)!==null&&Sa!==void 0?Sa:!0,...Gr,destroy(ja,Ka){Lr.destroyer(Nr,ja),Ka(ja)}}).wrap(Nr)},readable}var writable,hasRequiredWritable;function requireWritable(){if(hasRequiredWritable)return writable;hasRequiredWritable=1;const ur=requireBrowser$1(),{ArrayPrototypeSlice:cr,Error:hr,FunctionPrototypeSymbolHasInstance:dr,ObjectDefineProperty:mr,ObjectDefineProperties:gr,ObjectSetPrototypeOf:br,StringPrototypeToLowerCase:yr,Symbol:Tr,SymbolHasInstance:vr}=requirePrimordials();writable=Ia,Ia.WritableState=ta;const{EventEmitter:Sr}=requireEvents(),_r=requireLegacy().Stream,{Buffer:wr}=requireBuffer(),Er=requireDestroy(),{addAbortSignal:Ar}=requireAddAbortSignal(),{getHighWaterMark:kr,getDefaultHighWaterMark:Dr}=requireState(),{ERR_INVALID_ARG_TYPE:Cr,ERR_METHOD_NOT_IMPLEMENTED:Or,ERR_MULTIPLE_CALLBACK:qr,ERR_STREAM_CANNOT_PIPE:Hr,ERR_STREAM_DESTROYED:Lr,ERR_STREAM_ALREADY_FINISHED:jr,ERR_STREAM_NULL_VALUES:Br,ERR_STREAM_WRITE_AFTER_END:Ur,ERR_UNKNOWN_ENCODING:Kr}=requireErrors().codes,{errorOrDestroy:Yr}=Er;br(Ia.prototype,_r.prototype),br(Ia,_r);function Wr(){}const sa=Tr("kOnFinished");function ta(na,ia,ba){typeof ba!="boolean"&&(ba=ia instanceof requireDuplex()),this.objectMode=!!(na&&na.objectMode),ba&&(this.objectMode=this.objectMode||!!(na&&na.writableObjectMode)),this.highWaterMark=na?kr(this,na,"writableHighWaterMark",ba):Dr(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const Oa=!!(na&&na.decodeStrings===!1);this.decodeStrings=!Oa,this.defaultEncoding=na&&na.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Xr.bind(void 0,ia),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,oa(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!na||na.emitClose!==!1,this.autoDestroy=!na||na.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[sa]=[]}function oa(na){na.buffered=[],na.bufferedIndex=0,na.allBuffers=!0,na.allNoop=!0}ta.prototype.getBuffer=function(){return cr(this.buffered,this.bufferedIndex)},mr(ta.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Ia(na){const ia=this instanceof requireDuplex();if(!ia&&!dr(Ia,this))return new Ia(na);this._writableState=new ta(na,this,ia),na&&(typeof na.write=="function"&&(this._write=na.write),typeof na.writev=="function"&&(this._writev=na.writev),typeof na.destroy=="function"&&(this._destroy=na.destroy),typeof na.final=="function"&&(this._final=na.final),typeof na.construct=="function"&&(this._construct=na.construct),na.signal&&Ar(na.signal,this)),_r.call(this,na),Er.construct(this,()=>{const ba=this._writableState;ba.writing||Ta(this,ba),ya(this,ba)})}mr(Ia,vr,{__proto__:null,value:function(na){return dr(this,na)?!0:this!==Ia?!1:na&&na._writableState instanceof ta}}),Ia.prototype.pipe=function(){Yr(this,new Hr)};function $r(na,ia,ba,Oa){const Pa=na._writableState;if(typeof ba=="function")Oa=ba,ba=Pa.defaultEncoding;else{if(!ba)ba=Pa.defaultEncoding;else if(ba!=="buffer"&&!wr.isEncoding(ba))throw new Kr(ba);typeof Oa!="function"&&(Oa=Wr)}if(ia===null)throw new Br;if(!Pa.objectMode)if(typeof ia=="string")Pa.decodeStrings!==!1&&(ia=wr.from(ia,ba),ba="buffer");else if(ia instanceof wr)ba="buffer";else if(_r._isUint8Array(ia))ia=_r._uint8ArrayToBuffer(ia),ba="buffer";else throw new Cr("chunk",["string","Buffer","Uint8Array"],ia);let qa;return Pa.ending?qa=new Ur:Pa.destroyed&&(qa=new Lr("write")),qa?(ur.nextTick(Oa,qa),Yr(na,qa,!0),qa):(Pa.pendingcb++,xa(na,Pa,ia,ba,Oa))}Ia.prototype.write=function(na,ia,ba){return $r(this,na,ia,ba)===!0},Ia.prototype.cork=function(){this._writableState.corked++},Ia.prototype.uncork=function(){const na=this._writableState;na.corked&&(na.corked--,na.writing||Ta(this,na))},Ia.prototype.setDefaultEncoding=function(ia){if(typeof ia=="string"&&(ia=yr(ia)),!wr.isEncoding(ia))throw new Kr(ia);return this._writableState.defaultEncoding=ia,this};function xa(na,ia,ba,Oa,Pa){const qa=ia.objectMode?1:ba.length;ia.length+=qa;const ea=ia.length<ia.highWaterMark;return ea||(ia.needDrain=!0),ia.writing||ia.corked||ia.errored||!ia.constructed?(ia.buffered.push({chunk:ba,encoding:Oa,callback:Pa}),ia.allBuffers&&Oa!=="buffer"&&(ia.allBuffers=!1),ia.allNoop&&Pa!==Wr&&(ia.allNoop=!1)):(ia.writelen=qa,ia.writecb=Pa,ia.writing=!0,ia.sync=!0,na._write(ba,Oa,ia.onwrite),ia.sync=!1),ea&&!ia.errored&&!ia.destroyed}function ua(na,ia,ba,Oa,Pa,qa,ea){ia.writelen=Oa,ia.writecb=ea,ia.writing=!0,ia.sync=!0,ia.destroyed?ia.onwrite(new Lr("write")):ba?na._writev(Pa,ia.onwrite):na._write(Pa,qa,ia.onwrite),ia.sync=!1}function Ba(na,ia,ba,Oa){--ia.pendingcb,Oa(ba),ra(ia),Yr(na,ba)}function Xr(na,ia){const ba=na._writableState,Oa=ba.sync,Pa=ba.writecb;if(typeof Pa!="function"){Yr(na,new qr);return}ba.writing=!1,ba.writecb=null,ba.length-=ba.writelen,ba.writelen=0,ia?(ia.stack,ba.errored||(ba.errored=ia),na._readableState&&!na._readableState.errored&&(na._readableState.errored=ia),Oa?ur.nextTick(Ba,na,ba,ia,Pa):Ba(na,ba,ia,Pa)):(ba.buffered.length>ba.bufferedIndex&&Ta(na,ba),Oa?ba.afterWriteTickInfo!==null&&ba.afterWriteTickInfo.cb===Pa?ba.afterWriteTickInfo.count++:(ba.afterWriteTickInfo={count:1,cb:Pa,stream:na,state:ba},ur.nextTick(Fr,ba.afterWriteTickInfo)):Qr(na,ba,1,Pa))}function Fr({stream:na,state:ia,count:ba,cb:Oa}){return ia.afterWriteTickInfo=null,Qr(na,ia,ba,Oa)}function Qr(na,ia,ba,Oa){for(!ia.ending&&!na.destroyed&&ia.length===0&&ia.needDrain&&(ia.needDrain=!1,na.emit("drain"));ba-- >0;)ia.pendingcb--,Oa();ia.destroyed&&ra(ia),ya(na,ia)}function ra(na){if(na.writing)return;for(let Pa=na.bufferedIndex;Pa<na.buffered.length;++Pa){var ia;const{chunk:qa,callback:ea}=na.buffered[Pa],ka=na.objectMode?1:qa.length;na.length-=ka,ea((ia=na.errored)!==null&&ia!==void 0?ia:new Lr("write"))}const ba=na[sa].splice(0);for(let Pa=0;Pa<ba.length;Pa++){var Oa;ba[Pa]((Oa=na.errored)!==null&&Oa!==void 0?Oa:new Lr("end"))}oa(na)}function Ta(na,ia){if(ia.corked||ia.bufferProcessing||ia.destroyed||!ia.constructed)return;const{buffered:ba,bufferedIndex:Oa,objectMode:Pa}=ia,qa=ba.length-Oa;if(!qa)return;let ea=Oa;if(ia.bufferProcessing=!0,qa>1&&na._writev){ia.pendingcb-=qa-1;const ka=ia.allNoop?Wr:ca=>{for(let Va=ea;Va<ba.length;++Va)ba[Va].callback(ca)},Ua=ia.allNoop&&ea===0?ba:cr(ba,ea);Ua.allBuffers=ia.allBuffers,ua(na,ia,!0,ia.length,Ua,"",ka),oa(ia)}else{do{const{chunk:ka,encoding:Ua,callback:ca}=ba[ea];ba[ea++]=null;const Va=Pa?1:ka.length;ua(na,ia,!1,Va,ka,Ua,ca)}while(ea<ba.length&&!ia.writing);ea===ba.length?oa(ia):ea>256?(ba.splice(0,ea),ia.bufferedIndex=0):ia.bufferedIndex=ea}ia.bufferProcessing=!1}Ia.prototype._write=function(na,ia,ba){if(this._writev)this._writev([{chunk:na,encoding:ia}],ba);else throw new Or("_write()")},Ia.prototype._writev=null,Ia.prototype.end=function(na,ia,ba){const Oa=this._writableState;typeof na=="function"?(ba=na,na=null,ia=null):typeof ia=="function"&&(ba=ia,ia=null);let Pa;if(na!=null){const qa=$r(this,na,ia);qa instanceof hr&&(Pa=qa)}return Oa.corked&&(Oa.corked=1,this.uncork()),Pa||(!Oa.errored&&!Oa.ending?(Oa.ending=!0,ya(this,Oa,!0),Oa.ended=!0):Oa.finished?Pa=new jr("end"):Oa.destroyed&&(Pa=new Lr("end"))),typeof ba=="function"&&(Pa||Oa.finished?ur.nextTick(ba,Pa):Oa[sa].push(ba)),this};function Ma(na){return na.ending&&!na.destroyed&&na.constructed&&na.length===0&&!na.errored&&na.buffered.length===0&&!na.finished&&!na.writing&&!na.errorEmitted&&!na.closeEmitted}function La(na,ia){let ba=!1;function Oa(Pa){if(ba){Yr(na,Pa??qr());return}if(ba=!0,ia.pendingcb--,Pa){const qa=ia[sa].splice(0);for(let ea=0;ea<qa.length;ea++)qa[ea](Pa);Yr(na,Pa,ia.sync)}else Ma(ia)&&(ia.prefinished=!0,na.emit("prefinish"),ia.pendingcb++,ur.nextTick(pa,na,ia))}ia.sync=!0,ia.pendingcb++;try{na._final(Oa)}catch(Pa){Oa(Pa)}ia.sync=!1}function za(na,ia){!ia.prefinished&&!ia.finalCalled&&(typeof na._final=="function"&&!ia.destroyed?(ia.finalCalled=!0,La(na,ia)):(ia.prefinished=!0,na.emit("prefinish")))}function ya(na,ia,ba){Ma(ia)&&(za(na,ia),ia.pendingcb===0&&(ba?(ia.pendingcb++,ur.nextTick((Oa,Pa)=>{Ma(Pa)?pa(Oa,Pa):Pa.pendingcb--},na,ia)):Ma(ia)&&(ia.pendingcb++,pa(na,ia))))}function pa(na,ia){ia.pendingcb--,ia.finished=!0;const ba=ia[sa].splice(0);for(let Oa=0;Oa<ba.length;Oa++)ba[Oa]();if(na.emit("finish"),ia.autoDestroy){const Oa=na._readableState;(!Oa||Oa.autoDestroy&&(Oa.endEmitted||Oa.readable===!1))&&na.destroy()}}gr(Ia.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(na){this._writableState&&(this._writableState.destroyed=na)}},writable:{__proto__:null,get(){const na=this._writableState;return!!na&&na.writable!==!1&&!na.destroyed&&!na.errored&&!na.ending&&!na.ended},set(na){this._writableState&&(this._writableState.writable=!!na)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const na=this._writableState;return na?!na.destroyed&&!na.ending&&na.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Na=Er.destroy;Ia.prototype.destroy=function(na,ia){const ba=this._writableState;return!ba.destroyed&&(ba.bufferedIndex<ba.buffered.length||ba[sa].length)&&ur.nextTick(ra,ba),Na.call(this,na,ia),this},Ia.prototype._undestroy=Er.undestroy,Ia.prototype._destroy=function(na,ia){ia(na)},Ia.prototype[Sr.captureRejectionSymbol]=function(na){this.destroy(na)};let Ha;function Xa(){return Ha===void 0&&(Ha={}),Ha}return Ia.fromWeb=function(na,ia){return Xa().newStreamWritableFromWritableStream(na,ia)},Ia.toWeb=function(na){return Xa().newWritableStreamFromStreamWritable(na)},writable}var duplexify,hasRequiredDuplexify;function requireDuplexify(){if(hasRequiredDuplexify)return duplexify;hasRequiredDuplexify=1;const ur=requireBrowser$1(),cr=requireBuffer(),{isReadable:hr,isWritable:dr,isIterable:mr,isNodeStream:gr,isReadableNodeStream:br,isWritableNodeStream:yr,isDuplexNodeStream:Tr,isReadableStream:vr,isWritableStream:Sr}=requireUtils(),_r=requireEndOfStream(),{AbortError:wr,codes:{ERR_INVALID_ARG_TYPE:Er,ERR_INVALID_RETURN_VALUE:Ar}}=requireErrors(),{destroyer:kr}=requireDestroy(),Dr=requireDuplex(),Cr=requireReadable(),Or=requireWritable(),{createDeferredPromise:qr}=requireUtil(),Hr=requireFrom(),Lr=globalThis.Blob||cr.Blob,jr=typeof Lr<"u"?function(ta){return ta instanceof Lr}:function(ta){return!1},Br=globalThis.AbortController||requireBrowser$2().AbortController,{FunctionPrototypeCall:Ur}=requirePrimordials();class Kr extends Dr{constructor(ta){super(ta),(ta==null?void 0:ta.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(ta==null?void 0:ta.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}duplexify=function sa(ta,oa){if(Tr(ta))return ta;if(br(ta))return Wr({readable:ta});if(yr(ta))return Wr({writable:ta});if(gr(ta))return Wr({writable:!1,readable:!1});if(vr(ta))return Wr({readable:Cr.fromWeb(ta)});if(Sr(ta))return Wr({writable:Or.fromWeb(ta)});if(typeof ta=="function"){const{value:$r,write:xa,final:ua,destroy:Ba}=Yr(ta);if(mr($r))return Hr(Kr,$r,{objectMode:!0,write:xa,final:ua,destroy:Ba});const Xr=$r==null?void 0:$r.then;if(typeof Xr=="function"){let Fr;const Qr=Ur(Xr,$r,ra=>{if(ra!=null)throw new Ar("nully","body",ra)},ra=>{kr(Fr,ra)});return Fr=new Kr({objectMode:!0,readable:!1,write:xa,final(ra){ua(async()=>{try{await Qr,ur.nextTick(ra,null)}catch(Ta){ur.nextTick(ra,Ta)}})},destroy:Ba})}throw new Ar("Iterable, AsyncIterable or AsyncFunction",oa,$r)}if(jr(ta))return sa(ta.arrayBuffer());if(mr(ta))return Hr(Kr,ta,{objectMode:!0,writable:!1});if(vr(ta==null?void 0:ta.readable)&&Sr(ta==null?void 0:ta.writable))return Kr.fromWeb(ta);if(typeof(ta==null?void 0:ta.writable)=="object"||typeof(ta==null?void 0:ta.readable)=="object"){const $r=ta!=null&&ta.readable?br(ta==null?void 0:ta.readable)?ta==null?void 0:ta.readable:sa(ta.readable):void 0,xa=ta!=null&&ta.writable?yr(ta==null?void 0:ta.writable)?ta==null?void 0:ta.writable:sa(ta.writable):void 0;return Wr({readable:$r,writable:xa})}const Ia=ta==null?void 0:ta.then;if(typeof Ia=="function"){let $r;return Ur(Ia,ta,xa=>{xa!=null&&$r.push(xa),$r.push(null)},xa=>{kr($r,xa)}),$r=new Kr({objectMode:!0,writable:!1,read(){}})}throw new Er(oa,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],ta)};function Yr(sa){let{promise:ta,resolve:oa}=qr();const Ia=new Br,$r=Ia.signal;return{value:sa((async function*(){for(;;){const ua=ta;ta=null;const{chunk:Ba,done:Xr,cb:Fr}=await ua;if(ur.nextTick(Fr),Xr)return;if($r.aborted)throw new wr(void 0,{cause:$r.reason});({promise:ta,resolve:oa}=qr()),yield Ba}})(),{signal:$r}),write(ua,Ba,Xr){const Fr=oa;oa=null,Fr({chunk:ua,done:!1,cb:Xr})},final(ua){const Ba=oa;oa=null,Ba({done:!0,cb:ua})},destroy(ua,Ba){Ia.abort(),Ba(ua)}}}function Wr(sa){const ta=sa.readable&&typeof sa.readable.read!="function"?Cr.wrap(sa.readable):sa.readable,oa=sa.writable;let Ia=!!hr(ta),$r=!!dr(oa),xa,ua,Ba,Xr,Fr;function Qr(ra){const Ta=Xr;Xr=null,Ta?Ta(ra):ra&&Fr.destroy(ra)}return Fr=new Kr({readableObjectMode:!!(ta!=null&&ta.readableObjectMode),writableObjectMode:!!(oa!=null&&oa.writableObjectMode),readable:Ia,writable:$r}),$r&&(_r(oa,ra=>{$r=!1,ra&&kr(ta,ra),Qr(ra)}),Fr._write=function(ra,Ta,Ma){oa.write(ra,Ta)?Ma():xa=Ma},Fr._final=function(ra){oa.end(),ua=ra},oa.on("drain",function(){if(xa){const ra=xa;xa=null,ra()}}),oa.on("finish",function(){if(ua){const ra=ua;ua=null,ra()}})),Ia&&(_r(ta,ra=>{Ia=!1,ra&&kr(ta,ra),Qr(ra)}),ta.on("readable",function(){if(Ba){const ra=Ba;Ba=null,ra()}}),ta.on("end",function(){Fr.push(null)}),Fr._read=function(){for(;;){const ra=ta.read();if(ra===null){Ba=Fr._read;return}if(!Fr.push(ra))return}}),Fr._destroy=function(ra,Ta){!ra&&Xr!==null&&(ra=new wr),Ba=null,xa=null,ua=null,Xr===null?Ta(ra):(Xr=Ta,kr(oa,ra),kr(ta,ra))},Fr}return duplexify}var duplex,hasRequiredDuplex;function requireDuplex(){if(hasRequiredDuplex)return duplex;hasRequiredDuplex=1;const{ObjectDefineProperties:ur,ObjectGetOwnPropertyDescriptor:cr,ObjectKeys:hr,ObjectSetPrototypeOf:dr}=requirePrimordials();duplex=br;const mr=requireReadable(),gr=requireWritable();dr(br.prototype,mr.prototype),dr(br,mr);{const Sr=hr(gr.prototype);for(let _r=0;_r<Sr.length;_r++){const wr=Sr[_r];br.prototype[wr]||(br.prototype[wr]=gr.prototype[wr])}}function br(Sr){if(!(this instanceof br))return new br(Sr);mr.call(this,Sr),gr.call(this,Sr),Sr?(this.allowHalfOpen=Sr.allowHalfOpen!==!1,Sr.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),Sr.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}ur(br.prototype,{writable:{__proto__:null,...cr(gr.prototype,"writable")},writableHighWaterMark:{__proto__:null,...cr(gr.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...cr(gr.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...cr(gr.prototype,"writableBuffer")},writableLength:{__proto__:null,...cr(gr.prototype,"writableLength")},writableFinished:{__proto__:null,...cr(gr.prototype,"writableFinished")},writableCorked:{__proto__:null,...cr(gr.prototype,"writableCorked")},writableEnded:{__proto__:null,...cr(gr.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...cr(gr.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(Sr){this._readableState&&this._writableState&&(this._readableState.destroyed=Sr,this._writableState.destroyed=Sr)}}});let yr;function Tr(){return yr===void 0&&(yr={}),yr}br.fromWeb=function(Sr,_r){return Tr().newStreamDuplexFromReadableWritablePair(Sr,_r)},br.toWeb=function(Sr){return Tr().newReadableWritablePairFromDuplex(Sr)};let vr;return br.from=function(Sr){return vr||(vr=requireDuplexify()),vr(Sr,"body")},duplex}var transform,hasRequiredTransform;function requireTransform(){if(hasRequiredTransform)return transform;hasRequiredTransform=1;const{ObjectSetPrototypeOf:ur,Symbol:cr}=requirePrimordials();transform=br;const{ERR_METHOD_NOT_IMPLEMENTED:hr}=requireErrors().codes,dr=requireDuplex(),{getHighWaterMark:mr}=requireState();ur(br.prototype,dr.prototype),ur(br,dr);const gr=cr("kCallback");function br(vr){if(!(this instanceof br))return new br(vr);const Sr=vr?mr(this,vr,"readableHighWaterMark",!0):null;Sr===0&&(vr={...vr,highWaterMark:null,readableHighWaterMark:Sr,writableHighWaterMark:vr.writableHighWaterMark||0}),dr.call(this,vr),this._readableState.sync=!1,this[gr]=null,vr&&(typeof vr.transform=="function"&&(this._transform=vr.transform),typeof vr.flush=="function"&&(this._flush=vr.flush)),this.on("prefinish",Tr)}function yr(vr){typeof this._flush=="function"&&!this.destroyed?this._flush((Sr,_r)=>{if(Sr){vr?vr(Sr):this.destroy(Sr);return}_r!=null&&this.push(_r),this.push(null),vr&&vr()}):(this.push(null),vr&&vr())}function Tr(){this._final!==yr&&yr.call(this)}return br.prototype._final=yr,br.prototype._transform=function(vr,Sr,_r){throw new hr("_transform()")},br.prototype._write=function(vr,Sr,_r){const wr=this._readableState,Er=this._writableState,Ar=wr.length;this._transform(vr,Sr,(kr,Dr)=>{if(kr){_r(kr);return}Dr!=null&&this.push(Dr),Er.ended||Ar===wr.length||wr.length<wr.highWaterMark?_r():this[gr]=_r})},br.prototype._read=function(){if(this[gr]){const vr=this[gr];this[gr]=null,vr()}},transform}var passthrough,hasRequiredPassthrough;function requirePassthrough(){if(hasRequiredPassthrough)return passthrough;hasRequiredPassthrough=1;const{ObjectSetPrototypeOf:ur}=requirePrimordials();passthrough=hr;const cr=requireTransform();ur(hr.prototype,cr.prototype),ur(hr,cr);function hr(dr){if(!(this instanceof hr))return new hr(dr);cr.call(this,dr)}return hr.prototype._transform=function(dr,mr,gr){gr(null,dr)},passthrough}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;const ur=requireBrowser$1(),{ArrayIsArray:cr,Promise:hr,SymbolAsyncIterator:dr,SymbolDispose:mr}=requirePrimordials(),gr=requireEndOfStream(),{once:br}=requireUtil(),yr=requireDestroy(),Tr=requireDuplex(),{aggregateTwoErrors:vr,codes:{ERR_INVALID_ARG_TYPE:Sr,ERR_INVALID_RETURN_VALUE:_r,ERR_MISSING_ARGS:wr,ERR_STREAM_DESTROYED:Er,ERR_STREAM_PREMATURE_CLOSE:Ar},AbortError:kr}=requireErrors(),{validateFunction:Dr,validateAbortSignal:Cr}=requireValidators(),{isIterable:Or,isReadable:qr,isReadableNodeStream:Hr,isNodeStream:Lr,isTransformStream:jr,isWebStream:Br,isReadableStream:Ur,isReadableFinished:Kr}=requireUtils(),Yr=globalThis.AbortController||requireBrowser$2().AbortController;let Wr,sa,ta;function oa(ra,Ta,Ma){let La=!1;ra.on("close",()=>{La=!0});const za=gr(ra,{readable:Ta,writable:Ma},ya=>{La=!ya});return{destroy:ya=>{La||(La=!0,yr.destroyer(ra,ya||new Er("pipe")))},cleanup:za}}function Ia(ra){return Dr(ra[ra.length-1],"streams[stream.length - 1]"),ra.pop()}function $r(ra){if(Or(ra))return ra;if(Hr(ra))return xa(ra);throw new Sr("val",["Readable","Iterable","AsyncIterable"],ra)}async function*xa(ra){sa||(sa=requireReadable()),yield*sa.prototype[dr].call(ra)}async function ua(ra,Ta,Ma,{end:La}){let za,ya=null;const pa=Xa=>{if(Xa&&(za=Xa),ya){const na=ya;ya=null,na()}},Na=()=>new hr((Xa,na)=>{za?na(za):ya=()=>{za?na(za):Xa()}});Ta.on("drain",pa);const Ha=gr(Ta,{readable:!1},pa);try{Ta.writableNeedDrain&&await Na();for await(const Xa of ra)Ta.write(Xa)||await Na();La&&(Ta.end(),await Na()),Ma()}catch(Xa){Ma(za!==Xa?vr(za,Xa):Xa)}finally{Ha(),Ta.off("drain",pa)}}async function Ba(ra,Ta,Ma,{end:La}){jr(Ta)&&(Ta=Ta.writable);const za=Ta.getWriter();try{for await(const ya of ra)await za.ready,za.write(ya).catch(()=>{});await za.ready,La&&await za.close(),Ma()}catch(ya){try{await za.abort(ya),Ma(ya)}catch(pa){Ma(pa)}}}function Xr(...ra){return Fr(ra,br(Ia(ra)))}function Fr(ra,Ta,Ma){if(ra.length===1&&cr(ra[0])&&(ra=ra[0]),ra.length<2)throw new wr("streams");const La=new Yr,za=La.signal,ya=Ma==null?void 0:Ma.signal,pa=[];Cr(ya,"options.signal");function Na(){Pa(new kr)}ta=ta||requireUtil().addAbortListener;let Ha;ya&&(Ha=ta(ya,Na));let Xa,na;const ia=[];let ba=0;function Oa(ca){Pa(ca,--ba===0)}function Pa(ca,Va){var ni;if(ca&&(!Xa||Xa.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Xa=ca),!(!Xa&&!Va)){for(;ia.length;)ia.shift()(Xa);(ni=Ha)===null||ni===void 0||ni[mr](),La.abort(),Va&&(Xa||pa.forEach(ii=>ii()),ur.nextTick(Ta,Xa,na))}}let qa;for(let ca=0;ca<ra.length;ca++){const Va=ra[ca],ni=ca<ra.length-1,ii=ca>0,yi=ni||(Ma==null?void 0:Ma.end)!==!1,Pr=ca===ra.length-1;if(Lr(Va)){let Rr=function(Mr){Mr&&Mr.name!=="AbortError"&&Mr.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Oa(Mr)};var Ua=Rr;if(yi){const{destroy:Mr,cleanup:Vr}=oa(Va,ni,ii);ia.push(Mr),qr(Va)&&Pr&&pa.push(Vr)}Va.on("error",Rr),qr(Va)&&Pr&&pa.push(()=>{Va.removeListener("error",Rr)})}if(ca===0)if(typeof Va=="function"){if(qa=Va({signal:za}),!Or(qa))throw new _r("Iterable, AsyncIterable or Stream","source",qa)}else Or(Va)||Hr(Va)||jr(Va)?qa=Va:qa=Tr.from(Va);else if(typeof Va=="function"){if(jr(qa)){var ea;qa=$r((ea=qa)===null||ea===void 0?void 0:ea.readable)}else qa=$r(qa);if(qa=Va(qa,{signal:za}),ni){if(!Or(qa,!0))throw new _r("AsyncIterable",`transform[${ca-1}]`,qa)}else{var ka;Wr||(Wr=requirePassthrough());const Rr=new Wr({objectMode:!0}),Mr=(ka=qa)===null||ka===void 0?void 0:ka.then;if(typeof Mr=="function")ba++,Mr.call(qa,fa=>{na=fa,fa!=null&&Rr.write(fa),yi&&Rr.end(),ur.nextTick(Oa)},fa=>{Rr.destroy(fa),ur.nextTick(Oa,fa)});else if(Or(qa,!0))ba++,ua(qa,Rr,Oa,{end:yi});else if(Ur(qa)||jr(qa)){const fa=qa.readable||qa;ba++,ua(fa,Rr,Oa,{end:yi})}else throw new _r("AsyncIterable or Promise","destination",qa);qa=Rr;const{destroy:Vr,cleanup:aa}=oa(qa,!1,!0);ia.push(Vr),Pr&&pa.push(aa)}}else if(Lr(Va)){if(Hr(qa)){ba+=2;const Rr=Qr(qa,Va,Oa,{end:yi});qr(Va)&&Pr&&pa.push(Rr)}else if(jr(qa)||Ur(qa)){const Rr=qa.readable||qa;ba++,ua(Rr,Va,Oa,{end:yi})}else if(Or(qa))ba++,ua(qa,Va,Oa,{end:yi});else throw new Sr("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],qa);qa=Va}else if(Br(Va)){if(Hr(qa))ba++,Ba($r(qa),Va,Oa,{end:yi});else if(Ur(qa)||Or(qa))ba++,Ba(qa,Va,Oa,{end:yi});else if(jr(qa))ba++,Ba(qa.readable,Va,Oa,{end:yi});else throw new Sr("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],qa);qa=Va}else qa=Tr.from(Va)}return(za!=null&&za.aborted||ya!=null&&ya.aborted)&&ur.nextTick(Na),qa}function Qr(ra,Ta,Ma,{end:La}){let za=!1;if(Ta.on("close",()=>{za||Ma(new Ar)}),ra.pipe(Ta,{end:!1}),La){let pa=function(){za=!0,Ta.end()};var ya=pa;Kr(ra)?ur.nextTick(pa):ra.once("end",pa)}else Ma();return gr(ra,{readable:!0,writable:!1},pa=>{const Na=ra._readableState;pa&&pa.code==="ERR_STREAM_PREMATURE_CLOSE"&&Na&&Na.ended&&!Na.errored&&!Na.errorEmitted?ra.once("end",Ma).once("error",Ma):Ma(pa)}),gr(Ta,{readable:!1,writable:!0},Ma)}return pipeline_1={pipelineImpl:Fr,pipeline:Xr},pipeline_1}var compose,hasRequiredCompose;function requireCompose(){if(hasRequiredCompose)return compose;hasRequiredCompose=1;const{pipeline:ur}=requirePipeline(),cr=requireDuplex(),{destroyer:hr}=requireDestroy(),{isNodeStream:dr,isReadable:mr,isWritable:gr,isWebStream:br,isTransformStream:yr,isWritableStream:Tr,isReadableStream:vr}=requireUtils(),{AbortError:Sr,codes:{ERR_INVALID_ARG_VALUE:_r,ERR_MISSING_ARGS:wr}}=requireErrors(),Er=requireEndOfStream();return compose=function(...kr){if(kr.length===0)throw new wr("streams");if(kr.length===1)return cr.from(kr[0]);const Dr=[...kr];if(typeof kr[0]=="function"&&(kr[0]=cr.from(kr[0])),typeof kr[kr.length-1]=="function"){const Wr=kr.length-1;kr[Wr]=cr.from(kr[Wr])}for(let Wr=0;Wr<kr.length;++Wr)if(!(!dr(kr[Wr])&&!br(kr[Wr]))){if(Wr<kr.length-1&&!(mr(kr[Wr])||vr(kr[Wr])||yr(kr[Wr])))throw new _r(`streams[${Wr}]`,Dr[Wr],"must be readable");if(Wr>0&&!(gr(kr[Wr])||Tr(kr[Wr])||yr(kr[Wr])))throw new _r(`streams[${Wr}]`,Dr[Wr],"must be writable")}let Cr,Or,qr,Hr,Lr;function jr(Wr){const sa=Hr;Hr=null,sa?sa(Wr):Wr?Lr.destroy(Wr):!Yr&&!Kr&&Lr.destroy()}const Br=kr[0],Ur=ur(kr,jr),Kr=!!(gr(Br)||Tr(Br)||yr(Br)),Yr=!!(mr(Ur)||vr(Ur)||yr(Ur));if(Lr=new cr({writableObjectMode:!!(Br!=null&&Br.writableObjectMode),readableObjectMode:!!(Ur!=null&&Ur.readableObjectMode),writable:Kr,readable:Yr}),Kr){if(dr(Br))Lr._write=function(sa,ta,oa){Br.write(sa,ta)?oa():Cr=oa},Lr._final=function(sa){Br.end(),Or=sa},Br.on("drain",function(){if(Cr){const sa=Cr;Cr=null,sa()}});else if(br(Br)){const ta=(yr(Br)?Br.writable:Br).getWriter();Lr._write=async function(oa,Ia,$r){try{await ta.ready,ta.write(oa).catch(()=>{}),$r()}catch(xa){$r(xa)}},Lr._final=async function(oa){try{await ta.ready,ta.close().catch(()=>{}),Or=oa}catch(Ia){oa(Ia)}}}const Wr=yr(Ur)?Ur.readable:Ur;Er(Wr,()=>{if(Or){const sa=Or;Or=null,sa()}})}if(Yr){if(dr(Ur))Ur.on("readable",function(){if(qr){const Wr=qr;qr=null,Wr()}}),Ur.on("end",function(){Lr.push(null)}),Lr._read=function(){for(;;){const Wr=Ur.read();if(Wr===null){qr=Lr._read;return}if(!Lr.push(Wr))return}};else if(br(Ur)){const sa=(yr(Ur)?Ur.readable:Ur).getReader();Lr._read=async function(){for(;;)try{const{value:ta,done:oa}=await sa.read();if(!Lr.push(ta))return;if(oa){Lr.push(null);return}}catch{return}}}}return Lr._destroy=function(Wr,sa){!Wr&&Hr!==null&&(Wr=new Sr),qr=null,Cr=null,Or=null,Hr===null?sa(Wr):(Hr=sa,dr(Ur)&&hr(Ur,Wr))},Lr},compose}var hasRequiredOperators;function requireOperators(){if(hasRequiredOperators)return operators;hasRequiredOperators=1;const ur=globalThis.AbortController||requireBrowser$2().AbortController,{codes:{ERR_INVALID_ARG_VALUE:cr,ERR_INVALID_ARG_TYPE:hr,ERR_MISSING_ARGS:dr,ERR_OUT_OF_RANGE:mr},AbortError:gr}=requireErrors(),{validateAbortSignal:br,validateInteger:yr,validateObject:Tr}=requireValidators(),vr=requirePrimordials().Symbol("kWeak"),Sr=requirePrimordials().Symbol("kResistStopPropagation"),{finished:_r}=requireEndOfStream(),wr=requireCompose(),{addAbortSignalNoValidate:Er}=requireAddAbortSignal(),{isWritable:Ar,isNodeStream:kr}=requireUtils(),{deprecate:Dr}=requireUtil(),{ArrayPrototypePush:Cr,Boolean:Or,MathFloor:qr,Number:Hr,NumberIsNaN:Lr,Promise:jr,PromiseReject:Br,PromiseResolve:Ur,PromisePrototypeThen:Kr,Symbol:Yr}=requirePrimordials(),Wr=Yr("kEmpty"),sa=Yr("kEof");function ta(ya,pa){if(pa!=null&&Tr(pa,"options"),(pa==null?void 0:pa.signal)!=null&&br(pa.signal,"options.signal"),kr(ya)&&!Ar(ya))throw new cr("stream",ya,"must be writable");const Na=wr(this,ya);return pa!=null&&pa.signal&&Er(pa.signal,Na),Na}function oa(ya,pa){if(typeof ya!="function")throw new hr("fn",["Function","AsyncFunction"],ya);pa!=null&&Tr(pa,"options"),(pa==null?void 0:pa.signal)!=null&&br(pa.signal,"options.signal");let Na=1;(pa==null?void 0:pa.concurrency)!=null&&(Na=qr(pa.concurrency));let Ha=Na-1;return(pa==null?void 0:pa.highWaterMark)!=null&&(Ha=qr(pa.highWaterMark)),yr(Na,"options.concurrency",1),yr(Ha,"options.highWaterMark",0),Ha+=Na,(async function*(){const na=requireUtil().AbortSignalAny([pa==null?void 0:pa.signal].filter(Or)),ia=this,ba=[],Oa={signal:na};let Pa,qa,ea=!1,ka=0;function Ua(){ea=!0,ca()}function ca(){ka-=1,Va()}function Va(){qa&&!ea&&ka<Na&&ba.length<Ha&&(qa(),qa=null)}async function ni(){try{for await(let ii of ia){if(ea)return;if(na.aborted)throw new gr;try{if(ii=ya(ii,Oa),ii===Wr)continue;ii=Ur(ii)}catch(yi){ii=Br(yi)}ka+=1,Kr(ii,ca,Ua),ba.push(ii),Pa&&(Pa(),Pa=null),!ea&&(ba.length>=Ha||ka>=Na)&&await new jr(yi=>{qa=yi})}ba.push(sa)}catch(ii){const yi=Br(ii);Kr(yi,ca,Ua),ba.push(yi)}finally{ea=!0,Pa&&(Pa(),Pa=null)}}ni();try{for(;;){for(;ba.length>0;){const ii=await ba[0];if(ii===sa)return;if(na.aborted)throw new gr;ii!==Wr&&(yield ii),ba.shift(),Va()}await new jr(ii=>{Pa=ii})}}finally{ea=!0,qa&&(qa(),qa=null)}}).call(this)}function Ia(ya=void 0){return ya!=null&&Tr(ya,"options"),(ya==null?void 0:ya.signal)!=null&&br(ya.signal,"options.signal"),(async function*(){let Na=0;for await(const Xa of this){var Ha;if(ya!=null&&(Ha=ya.signal)!==null&&Ha!==void 0&&Ha.aborted)throw new gr({cause:ya.signal.reason});yield[Na++,Xa]}}).call(this)}async function $r(ya,pa=void 0){for await(const Na of Xr.call(this,ya,pa))return!0;return!1}async function xa(ya,pa=void 0){if(typeof ya!="function")throw new hr("fn",["Function","AsyncFunction"],ya);return!await $r.call(this,async(...Na)=>!await ya(...Na),pa)}async function ua(ya,pa){for await(const Na of Xr.call(this,ya,pa))return Na}async function Ba(ya,pa){if(typeof ya!="function")throw new hr("fn",["Function","AsyncFunction"],ya);async function Na(Ha,Xa){return await ya(Ha,Xa),Wr}for await(const Ha of oa.call(this,Na,pa));}function Xr(ya,pa){if(typeof ya!="function")throw new hr("fn",["Function","AsyncFunction"],ya);async function Na(Ha,Xa){return await ya(Ha,Xa)?Ha:Wr}return oa.call(this,Na,pa)}class Fr extends dr{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Qr(ya,pa,Na){var Ha;if(typeof ya!="function")throw new hr("reducer",["Function","AsyncFunction"],ya);Na!=null&&Tr(Na,"options"),(Na==null?void 0:Na.signal)!=null&&br(Na.signal,"options.signal");let Xa=arguments.length>1;if(Na!=null&&(Ha=Na.signal)!==null&&Ha!==void 0&&Ha.aborted){const Pa=new gr(void 0,{cause:Na.signal.reason});throw this.once("error",()=>{}),await _r(this.destroy(Pa)),Pa}const na=new ur,ia=na.signal;if(Na!=null&&Na.signal){const Pa={once:!0,[vr]:this,[Sr]:!0};Na.signal.addEventListener("abort",()=>na.abort(),Pa)}let ba=!1;try{for await(const Pa of this){var Oa;if(ba=!0,Na!=null&&(Oa=Na.signal)!==null&&Oa!==void 0&&Oa.aborted)throw new gr;Xa?pa=await ya(pa,Pa,{signal:ia}):(pa=Pa,Xa=!0)}if(!ba&&!Xa)throw new Fr}finally{na.abort()}return pa}async function ra(ya){ya!=null&&Tr(ya,"options"),(ya==null?void 0:ya.signal)!=null&&br(ya.signal,"options.signal");const pa=[];for await(const Ha of this){var Na;if(ya!=null&&(Na=ya.signal)!==null&&Na!==void 0&&Na.aborted)throw new gr(void 0,{cause:ya.signal.reason});Cr(pa,Ha)}return pa}function Ta(ya,pa){const Na=oa.call(this,ya,pa);return(async function*(){for await(const Xa of Na)yield*Xa}).call(this)}function Ma(ya){if(ya=Hr(ya),Lr(ya))return 0;if(ya<0)throw new mr("number",">= 0",ya);return ya}function La(ya,pa=void 0){return pa!=null&&Tr(pa,"options"),(pa==null?void 0:pa.signal)!=null&&br(pa.signal,"options.signal"),ya=Ma(ya),(async function*(){var Ha;if(pa!=null&&(Ha=pa.signal)!==null&&Ha!==void 0&&Ha.aborted)throw new gr;for await(const na of this){var Xa;if(pa!=null&&(Xa=pa.signal)!==null&&Xa!==void 0&&Xa.aborted)throw new gr;ya--<=0&&(yield na)}}).call(this)}function za(ya,pa=void 0){return pa!=null&&Tr(pa,"options"),(pa==null?void 0:pa.signal)!=null&&br(pa.signal,"options.signal"),ya=Ma(ya),(async function*(){var Ha;if(pa!=null&&(Ha=pa.signal)!==null&&Ha!==void 0&&Ha.aborted)throw new gr;for await(const na of this){var Xa;if(pa!=null&&(Xa=pa.signal)!==null&&Xa!==void 0&&Xa.aborted)throw new gr;if(ya-- >0&&(yield na),ya<=0)return}}).call(this)}return operators.streamReturningOperators={asIndexedPairs:Dr(Ia,"readable.asIndexedPairs will be removed in a future version."),drop:La,filter:Xr,flatMap:Ta,map:oa,take:za,compose:ta},operators.promiseReturningOperators={every:xa,forEach:Ba,reduce:Qr,toArray:ra,some:$r,find:ua},operators}var promises,hasRequiredPromises;function requirePromises(){if(hasRequiredPromises)return promises;hasRequiredPromises=1;const{ArrayPrototypePop:ur,Promise:cr}=requirePrimordials(),{isIterable:hr,isNodeStream:dr,isWebStream:mr}=requireUtils(),{pipelineImpl:gr}=requirePipeline(),{finished:br}=requireEndOfStream();requireStream();function yr(...Tr){return new cr((vr,Sr)=>{let _r,wr;const Er=Tr[Tr.length-1];if(Er&&typeof Er=="object"&&!dr(Er)&&!hr(Er)&&!mr(Er)){const Ar=ur(Tr);_r=Ar.signal,wr=Ar.end}gr(Tr,(Ar,kr)=>{Ar?Sr(Ar):vr(kr)},{signal:_r,end:wr})})}return promises={finished:br,pipeline:yr},promises}var hasRequiredStream;function requireStream(){if(hasRequiredStream)return stream.exports;hasRequiredStream=1;const{Buffer:ur}=requireBuffer(),{ObjectDefineProperty:cr,ObjectKeys:hr,ReflectApply:dr}=requirePrimordials(),{promisify:{custom:mr}}=requireUtil(),{streamReturningOperators:gr,promiseReturningOperators:br}=requireOperators(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:yr}}=requireErrors(),Tr=requireCompose(),{setDefaultHighWaterMark:vr,getDefaultHighWaterMark:Sr}=requireState(),{pipeline:_r}=requirePipeline(),{destroyer:wr}=requireDestroy(),Er=requireEndOfStream(),Ar=requirePromises(),kr=requireUtils(),Dr=stream.exports=requireLegacy().Stream;Dr.isDestroyed=kr.isDestroyed,Dr.isDisturbed=kr.isDisturbed,Dr.isErrored=kr.isErrored,Dr.isReadable=kr.isReadable,Dr.isWritable=kr.isWritable,Dr.Readable=requireReadable();for(const qr of hr(gr)){let Lr=function(...jr){if(new.target)throw yr();return Dr.Readable.from(dr(Hr,this,jr))};var Or=Lr;const Hr=gr[qr];cr(Lr,"name",{__proto__:null,value:Hr.name}),cr(Lr,"length",{__proto__:null,value:Hr.length}),cr(Dr.Readable.prototype,qr,{__proto__:null,value:Lr,enumerable:!1,configurable:!0,writable:!0})}for(const qr of hr(br)){let Lr=function(...Br){if(new.target)throw yr();return dr(Hr,this,Br)};var Or=Lr;const Hr=br[qr];cr(Lr,"name",{__proto__:null,value:Hr.name}),cr(Lr,"length",{__proto__:null,value:Hr.length}),cr(Dr.Readable.prototype,qr,{__proto__:null,value:Lr,enumerable:!1,configurable:!0,writable:!0})}Dr.Writable=requireWritable(),Dr.Duplex=requireDuplex(),Dr.Transform=requireTransform(),Dr.PassThrough=requirePassthrough(),Dr.pipeline=_r;const{addAbortSignal:Cr}=requireAddAbortSignal();return Dr.addAbortSignal=Cr,Dr.finished=Er,Dr.destroy=wr,Dr.compose=Tr,Dr.setDefaultHighWaterMark=vr,Dr.getDefaultHighWaterMark=Sr,cr(Dr,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Ar}}),cr(_r,mr,{__proto__:null,enumerable:!0,get(){return Ar.pipeline}}),cr(Er,mr,{__proto__:null,enumerable:!0,get(){return Ar.finished}}),Dr.Stream=Dr,Dr._isUint8Array=function(Hr){return Hr instanceof Uint8Array},Dr._uint8ArrayToBuffer=function(Hr){return ur.from(Hr.buffer,Hr.byteOffset,Hr.byteLength)},stream.exports}var hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,(function(ur){const cr=requireStream(),hr=requirePromises(),dr=cr.Readable.destroy;ur.exports=cr.Readable,ur.exports._uint8ArrayToBuffer=cr._uint8ArrayToBuffer,ur.exports._isUint8Array=cr._isUint8Array,ur.exports.isDisturbed=cr.isDisturbed,ur.exports.isErrored=cr.isErrored,ur.exports.isReadable=cr.isReadable,ur.exports.Readable=cr.Readable,ur.exports.Writable=cr.Writable,ur.exports.Duplex=cr.Duplex,ur.exports.Transform=cr.Transform,ur.exports.PassThrough=cr.PassThrough,ur.exports.addAbortSignal=cr.addAbortSignal,ur.exports.finished=cr.finished,ur.exports.destroy=cr.destroy,ur.exports.destroy=dr,ur.exports.pipeline=cr.pipeline,ur.exports.compose=cr.compose,Object.defineProperty(cr,"promises",{configurable:!0,enumerable:!0,get(){return hr}}),ur.exports.Stream=cr.Stream,ur.exports.default=ur.exports})(browser$2)),browser$2.exports}var hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib;hasRequiredLib$1=1,Object.defineProperty(lib,"__esModule",{value:!0}),lib.ReadableWebToNodeStream=void 0;const ur=requireBrowser();class cr extends ur.Readable{constructor(dr){super(),this.bytesRead=0,this.released=!1,this.reader=dr.getReader()}_read(){if(this.released){this.push(null);return}this.pendingRead=this.reader.read().then(dr=>{delete this.pendingRead,dr.done||this.released?this.push(null):(this.bytesRead+=dr.value.length,this.push(dr.value))}).catch(dr=>{this.destroy(dr)})}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}return lib.ReadableWebToNodeStream=cr,lib}var hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,(function(ur){Object.defineProperty(ur,"__esModule",{value:!0}),ur.fetchFromUrl=ur.parseBlob=ur.parseReadableStream=ur.parseNodeStream=ur.selectCover=ur.ratingToStars=ur.orderTags=ur.parseFromTokenizer=ur.parseBuffer=void 0;const cr=requireBrowser$3(),hr=requireCore(),dr=requireLib$1(),mr=cr("music-metadata-browser:main");var gr=requireCore();Object.defineProperty(ur,"parseBuffer",{enumerable:!0,get:function(){return gr.parseBuffer}}),Object.defineProperty(ur,"parseFromTokenizer",{enumerable:!0,get:function(){return gr.parseFromTokenizer}}),Object.defineProperty(ur,"orderTags",{enumerable:!0,get:function(){return gr.orderTags}}),Object.defineProperty(ur,"ratingToStars",{enumerable:!0,get:function(){return gr.ratingToStars}}),Object.defineProperty(ur,"selectCover",{enumerable:!0,get:function(){return gr.selectCover}}),ur.parseNodeStream=hr.parseStream;async function br(Sr,_r,wr){const Er=new dr.ReadableWebToNodeStream(Sr),Ar=await(0,ur.parseNodeStream)(Er,typeof _r=="string"?{mimeType:_r}:_r,wr);return await Er.close(),Ar}ur.parseReadableStream=br;async function yr(Sr,_r){Sr.type,Sr.size,Sr instanceof File&&Sr.name;const wr=Sr.stream?Sr.stream():Tr(Sr);return br(wr,{mimeType:Sr.type,size:Sr.size},_r)}ur.parseBlob=yr;function Tr(Sr){const _r=new FileReader;return new ReadableStream({start(wr){_r.onloadend=Er=>{let Ar=Er.target.result;Ar instanceof ArrayBuffer&&(Ar=new Uint8Array(Ar)),wr.enqueue(Ar),wr.close()},_r.onerror=Er=>{wr.close()},_r.onabort=Er=>{wr.close()},_r.readAsArrayBuffer(Sr)}})}async function vr(Sr,_r){const wr=await fetch(Sr),Er={size:parseInt(wr.headers.get("Content-Length"),10),mimeType:wr.headers.get("Content-Type")};if(wr.ok)if(wr.body){const Ar=await br(wr.body,Er,_r);return mr("Closing HTTP-readable-stream..."),wr.body.locked||await wr.body.cancel(),mr("HTTP-readable-stream closed."),Ar}else return yr(await wr.blob(),_r);else throw new Error(`HTTP error status=${wr.status}: ${wr.statusText}`)}ur.fetchFromUrl=vr})(lib$3)),lib$3}var libExports=requireLib();const e=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,t=Object.keys,n=Array.isArray;function r(ur,cr){return typeof cr!="object"||t(cr).forEach((function(hr){ur[hr]=cr[hr]})),ur}typeof Promise>"u"||e.Promise||(e.Promise=Promise);const s=Object.getPrototypeOf,i={}.hasOwnProperty;function o(ur,cr){return i.call(ur,cr)}function a(ur,cr){typeof cr=="function"&&(cr=cr(s(ur))),(typeof Reflect>"u"?t:Reflect.ownKeys)(cr).forEach((hr=>{l(ur,hr,cr[hr])}))}const u=Object.defineProperty;function l(ur,cr,hr,dr){u(ur,cr,r(hr&&o(hr,"get")&&typeof hr.get=="function"?{get:hr.get,set:hr.set,configurable:!0}:{value:hr,configurable:!0,writable:!0},dr))}function c(ur){return{from:function(cr){return ur.prototype=Object.create(cr.prototype),l(ur.prototype,"constructor",ur),{extend:a.bind(null,ur.prototype)}}}}const h=Object.getOwnPropertyDescriptor;function d(ur,cr){let hr;return h(ur,cr)||(hr=s(ur))&&d(hr,cr)}const f=[].slice;function p(ur,cr,hr){return f.call(ur,cr,hr)}function y(ur,cr){return cr(ur)}function m(ur){if(!ur)throw new Error("Assertion Failed")}function v(ur){e.setImmediate?setImmediate(ur):setTimeout(ur,0)}function g(ur,cr){return ur.reduce(((hr,dr,mr)=>{var gr=cr(dr,mr);return gr&&(hr[gr[0]]=gr[1]),hr}),{})}function b(ur,cr){if(typeof cr=="string"&&o(ur,cr))return ur[cr];if(!cr)return ur;if(typeof cr!="string"){for(var hr=[],dr=0,mr=cr.length;dr<mr;++dr){var gr=b(ur,cr[dr]);hr.push(gr)}return hr}var br=cr.indexOf(".");if(br!==-1){var yr=ur[cr.substr(0,br)];return yr==null?void 0:b(yr,cr.substr(br+1))}}function _(ur,cr,hr){if(ur&&cr!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(ur)))if(typeof cr!="string"&&"length"in cr){m(typeof hr!="string"&&"length"in hr);for(var dr=0,mr=cr.length;dr<mr;++dr)_(ur,cr[dr],hr[dr])}else{var gr=cr.indexOf(".");if(gr!==-1){var br=cr.substr(0,gr),yr=cr.substr(gr+1);if(yr==="")hr===void 0?n(ur)&&!isNaN(parseInt(br))?ur.splice(br,1):delete ur[br]:ur[br]=hr;else{var Tr=ur[br];Tr&&o(ur,br)||(Tr=ur[br]={}),_(Tr,yr,hr)}}else hr===void 0?n(ur)&&!isNaN(parseInt(cr))?ur.splice(cr,1):delete ur[cr]:ur[cr]=hr}}function w(ur){var cr={};for(var hr in ur)o(ur,hr)&&(cr[hr]=ur[hr]);return cr}const x=[].concat;function k(ur){return x.apply([],ur)}const E="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(k([8,16,32,64].map((ur=>["Int","Uint","Float"].map((cr=>cr+ur+"Array")))))).filter((ur=>e[ur])),P=E.map((ur=>e[ur]));g(E,(ur=>[ur,!0]));let K=null;function O(ur){K=typeof WeakMap<"u"&&new WeakMap;const cr=S(ur);return K=null,cr}function S(ur){if(!ur||typeof ur!="object")return ur;let cr=K&&K.get(ur);if(cr)return cr;if(n(ur)){cr=[],K&&K.set(ur,cr);for(var hr=0,dr=ur.length;hr<dr;++hr)cr.push(S(ur[hr]))}else if(P.indexOf(ur.constructor)>=0)cr=ur;else{const gr=s(ur);for(var mr in cr=gr===Object.prototype?{}:Object.create(gr),K&&K.set(ur,cr),ur)o(ur,mr)&&(cr[mr]=S(ur[mr]))}return cr}const{toString:A}={};function C(ur){return A.call(ur).slice(8,-1)}const j=typeof Symbol<"u"?Symbol.iterator:"@@iterator",D=typeof j=="symbol"?function(ur){var cr;return ur!=null&&(cr=ur[j])&&cr.apply(ur)}:function(){return null},I={};function B(ur){var cr,hr,dr,mr;if(arguments.length===1){if(n(ur))return ur.slice();if(this===I&&typeof ur=="string")return[ur];if(mr=D(ur)){for(hr=[];!(dr=mr.next()).done;)hr.push(dr.value);return hr}if(ur==null)return[ur];if(typeof(cr=ur.length)=="number"){for(hr=new Array(cr);cr--;)hr[cr]=ur[cr];return hr}return[ur]}for(cr=arguments.length,hr=new Array(cr);cr--;)hr[cr]=arguments[cr];return hr}const T=typeof Symbol<"u"?ur=>ur[Symbol.toStringTag]==="AsyncFunction":()=>!1;var R=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function F(ur,cr){R=ur,M=cr}var M=()=>!0;const N=!new Error("").stack;function q(){if(N)try{throw q.arguments,new Error}catch(ur){return ur}return new Error}function $(ur,cr){var hr=ur.stack;return hr?(cr=cr||0,hr.indexOf(ur.name)===0&&(cr+=(ur.name+ur.message).split(`
`).length),hr.split(`
`).slice(cr).filter(M).map((dr=>`
`+dr)).join("")):""}var U=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],L=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(U),V={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function W(ur,cr){this._e=q(),this.name=ur,this.message=cr}function Y(ur,cr){return ur+". Errors: "+Object.keys(cr).map((hr=>cr[hr].toString())).filter(((hr,dr,mr)=>mr.indexOf(hr)===dr)).join(`
`)}function z(ur,cr,hr,dr){this._e=q(),this.failures=cr,this.failedKeys=dr,this.successCount=hr,this.message=Y(ur,cr)}function G(ur,cr){this._e=q(),this.name="BulkError",this.failures=Object.keys(cr).map((hr=>cr[hr])),this.failuresByPos=cr,this.message=Y(ur,cr)}c(W).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+$(this._e,2))}},toString:function(){return this.name+": "+this.message}}),c(z).from(W),c(G).from(W);var H=L.reduce(((ur,cr)=>(ur[cr]=cr+"Error",ur)),{});const Q=W;var X=L.reduce(((ur,cr)=>{var hr=cr+"Error";function dr(mr,gr){this._e=q(),this.name=hr,mr?typeof mr=="string"?(this.message=`${mr}${gr?`
 `+gr:""}`,this.inner=gr||null):typeof mr=="object"&&(this.message=`${mr.name} ${mr.message}`,this.inner=mr):(this.message=V[cr]||hr,this.inner=null)}return c(dr).from(Q),ur[cr]=dr,ur}),{});X.Syntax=SyntaxError,X.Type=TypeError,X.Range=RangeError;var J=U.reduce(((ur,cr)=>(ur[cr+"Error"]=X[cr],ur)),{}),Z=L.reduce(((ur,cr)=>(["Syntax","Type","Range"].indexOf(cr)===-1&&(ur[cr+"Error"]=X[cr]),ur)),{});function ee(){}function te(ur){return ur}function ne(ur,cr){return ur==null||ur===te?cr:function(hr){return cr(ur(hr))}}function re(ur,cr){return function(){ur.apply(this,arguments),cr.apply(this,arguments)}}function se(ur,cr){return ur===ee?cr:function(){var hr=ur.apply(this,arguments);hr!==void 0&&(arguments[0]=hr);var dr=this.onsuccess,mr=this.onerror;this.onsuccess=null,this.onerror=null;var gr=cr.apply(this,arguments);return dr&&(this.onsuccess=this.onsuccess?re(dr,this.onsuccess):dr),mr&&(this.onerror=this.onerror?re(mr,this.onerror):mr),gr!==void 0?gr:hr}}function ie(ur,cr){return ur===ee?cr:function(){ur.apply(this,arguments);var hr=this.onsuccess,dr=this.onerror;this.onsuccess=this.onerror=null,cr.apply(this,arguments),hr&&(this.onsuccess=this.onsuccess?re(hr,this.onsuccess):hr),dr&&(this.onerror=this.onerror?re(dr,this.onerror):dr)}}function oe(ur,cr){return ur===ee?cr:function(hr){var dr=ur.apply(this,arguments);r(hr,dr);var mr=this.onsuccess,gr=this.onerror;this.onsuccess=null,this.onerror=null;var br=cr.apply(this,arguments);return mr&&(this.onsuccess=this.onsuccess?re(mr,this.onsuccess):mr),gr&&(this.onerror=this.onerror?re(gr,this.onerror):gr),dr===void 0?br===void 0?void 0:br:r(dr,br)}}function ae(ur,cr){return ur===ee?cr:function(){return cr.apply(this,arguments)!==!1&&ur.apply(this,arguments)}}function ue(ur,cr){return ur===ee?cr:function(){var hr=ur.apply(this,arguments);if(hr&&typeof hr.then=="function"){for(var dr=this,mr=arguments.length,gr=new Array(mr);mr--;)gr[mr]=arguments[mr];return hr.then((function(){return cr.apply(dr,gr)}))}return cr.apply(this,arguments)}}Z.ModifyError=z,Z.DexieError=W,Z.BulkError=G;var le={};const ce=100,[he,de,fe]=typeof Promise>"u"?[]:(()=>{let ur=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[ur,s(ur),ur];const cr=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[cr,s(cr),ur]})(),pe=de&&de.then,ye=he&&he.constructor,me=!!fe;var ve=!1,ge=fe?()=>{fe.then($e)}:e.setImmediate?setImmediate.bind(null,$e):e.MutationObserver?()=>{var ur=document.createElement("div");new MutationObserver((()=>{$e(),ur=null})).observe(ur,{attributes:!0}),ur.setAttribute("i","1")}:()=>{setTimeout($e,0)},be=function(ur,cr){Se.push([ur,cr]),we&&(ge(),we=!1)},_e=!0,we=!0,xe=[],ke=[],Ee=null,Pe=te,Ke={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:dt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((ur=>{try{dt(ur[0],ur[1])}catch{}}))}},Oe=Ke,Se=[],Ae=0,Ce=[];function je(ur){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ee,this._lib=!1;var cr=this._PSD=Oe;if(R&&(this._stackHolder=q(),this._prev=null,this._numPrev=0),typeof ur!="function"){if(ur!==le)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Te(this,this._value))}this._state=null,this._value=null,++cr.ref,Be(this,ur)}const De={get:function(){var ur=Oe,cr=Xe;function hr(dr,mr){var gr=!ur.global&&(ur!==Oe||cr!==Xe);const br=gr&&!tt();var yr=new je(((Tr,vr)=>{Fe(this,new Ie(lt(dr,ur,gr,br),lt(mr,ur,gr,br),Tr,vr,ur))}));return R&&qe(yr,this),yr}return hr.prototype=le,hr},set:function(ur){l(this,"then",ur&&ur.prototype===le?De:{get:function(){return ur},set:De.set})}};function Ie(ur,cr,hr,dr,mr){this.onFulfilled=typeof ur=="function"?ur:null,this.onRejected=typeof cr=="function"?cr:null,this.resolve=hr,this.reject=dr,this.psd=mr}function Be(ur,cr){try{cr((hr=>{if(ur._state===null){if(hr===ur)throw new TypeError("A promise cannot be resolved with itself.");var dr=ur._lib&&Ue();hr&&typeof hr.then=="function"?Be(ur,((mr,gr)=>{hr instanceof je?hr._then(mr,gr):hr.then(mr,gr)})):(ur._state=!0,ur._value=hr,Re(ur)),dr&&Le()}}),Te.bind(null,ur))}catch(hr){Te(ur,hr)}}function Te(ur,cr){if(ke.push(cr),ur._state===null){var hr=ur._lib&&Ue();cr=Pe(cr),ur._state=!1,ur._value=cr,R&&cr!==null&&typeof cr=="object"&&!cr._promise&&(function(dr,mr,gr){try{dr.apply(null,gr)}catch{}})((()=>{var dr=d(cr,"stack");cr._promise=ur,l(cr,"stack",{get:()=>ve?dr&&(dr.get?dr.get.apply(cr):dr.value):ur.stack})})),(function(dr){xe.some((mr=>mr._value===dr._value))||xe.push(dr)})(ur),Re(ur),hr&&Le()}}function Re(ur){var cr=ur._listeners;ur._listeners=[];for(var hr=0,dr=cr.length;hr<dr;++hr)Fe(ur,cr[hr]);var mr=ur._PSD;--mr.ref||mr.finalize(),Ae===0&&(++Ae,be((()=>{--Ae==0&&Ve()}),[]))}function Fe(ur,cr){if(ur._state!==null){var hr=ur._state?cr.onFulfilled:cr.onRejected;if(hr===null)return(ur._state?cr.resolve:cr.reject)(ur._value);++cr.psd.ref,++Ae,be(Me,[hr,ur,cr])}else ur._listeners.push(cr)}function Me(ur,cr,hr){try{Ee=cr;var dr,mr=cr._value;cr._state?dr=ur(mr):(ke.length&&(ke=[]),dr=ur(mr),ke.indexOf(mr)===-1&&(function(gr){for(var br=xe.length;br;)if(xe[--br]._value===gr._value)return void xe.splice(br,1)})(cr)),hr.resolve(dr)}catch(gr){hr.reject(gr)}finally{Ee=null,--Ae==0&&Ve(),--hr.psd.ref||hr.psd.finalize()}}function Ne(ur,cr,hr){if(cr.length===hr)return cr;var dr="";if(ur._state===!1){var mr,gr,br=ur._value;br!=null?(mr=br.name||"Error",gr=br.message||br,dr=$(br,0)):(mr=br,gr=""),cr.push(mr+(gr?": "+gr:"")+dr)}return R&&((dr=$(ur._stackHolder,2))&&cr.indexOf(dr)===-1&&cr.push(dr),ur._prev&&Ne(ur._prev,cr,hr)),cr}function qe(ur,cr){var hr=cr?cr._numPrev+1:0;hr<100&&(ur._prev=cr,ur._numPrev=hr)}function $e(){Ue()&&Le()}function Ue(){var ur=_e;return _e=!1,we=!1,ur}function Le(){var ur,cr,hr;do for(;Se.length>0;)for(ur=Se,Se=[],hr=ur.length,cr=0;cr<hr;++cr){var dr=ur[cr];dr[0].apply(null,dr[1])}while(Se.length>0);_e=!0,we=!0}function Ve(){var ur=xe;xe=[],ur.forEach((dr=>{dr._PSD.onunhandled.call(null,dr._value,dr)}));for(var cr=Ce.slice(0),hr=cr.length;hr;)cr[--hr]()}function We(ur){return new je(le,!1,ur)}function Ye(ur,cr){var hr=Oe;return function(){var dr=Ue(),mr=Oe;try{return it(hr,!0),ur.apply(this,arguments)}catch(gr){cr&&cr(gr)}finally{it(mr,!1),dr&&Le()}}}a(je.prototype,{then:De,_then:function(ur,cr){Fe(this,new Ie(null,null,ur,cr,Oe))},catch:function(ur){if(arguments.length===1)return this.then(null,ur);var cr=arguments[0],hr=arguments[1];return typeof cr=="function"?this.then(null,(dr=>dr instanceof cr?hr(dr):We(dr))):this.then(null,(dr=>dr&&dr.name===cr?hr(dr):We(dr)))},finally:function(ur){return this.then((cr=>(ur(),cr)),(cr=>(ur(),We(cr))))},stack:{get:function(){if(this._stack)return this._stack;try{ve=!0;var ur=Ne(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=ur),ur}finally{ve=!1}}},timeout:function(ur,cr){return ur<1/0?new je(((hr,dr)=>{var mr=setTimeout((()=>dr(new X.Timeout(cr))),ur);this.then(hr,dr).finally(clearTimeout.bind(null,mr))})):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&l(je.prototype,Symbol.toStringTag,"Dexie.Promise"),Ke.env=ot(),a(je,{all:function(){var ur=B.apply(null,arguments).map(nt);return new je((function(cr,hr){ur.length===0&&cr([]);var dr=ur.length;ur.forEach(((mr,gr)=>je.resolve(mr).then((br=>{ur[gr]=br,--dr||cr(ur)}),hr)))}))},resolve:ur=>{if(ur instanceof je)return ur;if(ur&&typeof ur.then=="function")return new je(((hr,dr)=>{ur.then(hr,dr)}));var cr=new je(le,!0,ur);return qe(cr,Ee),cr},reject:We,race:function(){var ur=B.apply(null,arguments).map(nt);return new je(((cr,hr)=>{ur.map((dr=>je.resolve(dr).then(cr,hr)))}))},PSD:{get:()=>Oe,set:ur=>Oe=ur},totalEchoes:{get:()=>Xe},newPSD:Ze,usePSD:at,scheduler:{get:()=>be,set:ur=>{be=ur}},rejectionMapper:{get:()=>Pe,set:ur=>{Pe=ur}},follow:(ur,cr)=>new je(((hr,dr)=>Ze(((mr,gr)=>{var br=Oe;br.unhandleds=[],br.onunhandled=gr,br.finalize=re((function(){(function(yr){function Tr(){yr(),Ce.splice(Ce.indexOf(Tr),1)}Ce.push(Tr),++Ae,be((()=>{--Ae==0&&Ve()}),[])})((()=>{this.unhandleds.length===0?mr():gr(this.unhandleds[0])}))}),br.finalize),ur()}),cr,hr,dr)))}),ye&&(ye.allSettled&&l(je,"allSettled",(function(){const ur=B.apply(null,arguments).map(nt);return new je((cr=>{ur.length===0&&cr([]);let hr=ur.length;const dr=new Array(hr);ur.forEach(((mr,gr)=>je.resolve(mr).then((br=>dr[gr]={status:"fulfilled",value:br}),(br=>dr[gr]={status:"rejected",reason:br})).then((()=>--hr||cr(dr)))))}))})),ye.any&&typeof AggregateError<"u"&&l(je,"any",(function(){const ur=B.apply(null,arguments).map(nt);return new je(((cr,hr)=>{ur.length===0&&hr(new AggregateError([]));let dr=ur.length;const mr=new Array(dr);ur.forEach(((gr,br)=>je.resolve(gr).then((yr=>cr(yr)),(yr=>{mr[br]=yr,--dr||hr(new AggregateError(mr))}))))}))})));const ze={awaits:0,echoes:0,id:0};var Ge=0,He=[],Qe=0,Xe=0,Je=0;function Ze(ur,cr,hr,dr){var mr=Oe,gr=Object.create(mr);gr.parent=mr,gr.ref=0,gr.global=!1,gr.id=++Je;var br=Ke.env;gr.env=me?{Promise:je,PromiseProp:{value:je,configurable:!0,writable:!0},all:je.all,race:je.race,allSettled:je.allSettled,any:je.any,resolve:je.resolve,reject:je.reject,nthen:ct(br.nthen,gr),gthen:ct(br.gthen,gr)}:{},cr&&r(gr,cr),++mr.ref,gr.finalize=function(){--this.parent.ref||this.parent.finalize()};var yr=at(gr,ur,hr,dr);return gr.ref===0&&gr.finalize(),yr}function et(){return ze.id||(ze.id=++Ge),++ze.awaits,ze.echoes+=ce,ze.id}function tt(){return!!ze.awaits&&(--ze.awaits==0&&(ze.id=0),ze.echoes=ze.awaits*ce,!0)}function nt(ur){return ze.echoes&&ur&&ur.constructor===ye?(et(),ur.then((cr=>(tt(),cr)),(cr=>(tt(),ft(cr))))):ur}function rt(ur){++Xe,ze.echoes&&--ze.echoes!=0||(ze.echoes=ze.id=0),He.push(Oe),it(ur,!0)}function st(){var ur=He[He.length-1];He.pop(),it(ur,!1)}function it(ur,cr){var hr=Oe;if((cr?!ze.echoes||Qe++&&ur===Oe:!Qe||--Qe&&ur===Oe)||ut(cr?rt.bind(null,ur):st),ur!==Oe&&(Oe=ur,hr===Ke&&(Ke.env=ot()),me)){var dr=Ke.env.Promise,mr=ur.env;de.then=mr.nthen,dr.prototype.then=mr.gthen,(hr.global||ur.global)&&(Object.defineProperty(e,"Promise",mr.PromiseProp),dr.all=mr.all,dr.race=mr.race,dr.resolve=mr.resolve,dr.reject=mr.reject,mr.allSettled&&(dr.allSettled=mr.allSettled),mr.any&&(dr.any=mr.any))}}function ot(){var ur=e.Promise;return me?{Promise:ur,PromiseProp:Object.getOwnPropertyDescriptor(e,"Promise"),all:ur.all,race:ur.race,allSettled:ur.allSettled,any:ur.any,resolve:ur.resolve,reject:ur.reject,nthen:de.then,gthen:ur.prototype.then}:{}}function at(ur,cr,hr,dr,mr){var gr=Oe;try{return it(ur,!0),cr(hr,dr,mr)}finally{it(gr,!1)}}function ut(ur){pe.call(he,ur)}function lt(ur,cr,hr,dr){return typeof ur!="function"?ur:function(){var mr=Oe;hr&&et(),it(cr,!0);try{return ur.apply(this,arguments)}finally{it(mr,!1),dr&&ut(tt)}}}function ct(ur,cr){return function(hr,dr){return ur.call(this,lt(hr,cr),lt(dr,cr))}}(""+pe).indexOf("[native code]")===-1&&(et=tt=ee);const ht="unhandledrejection";function dt(ur,cr){var hr;try{hr=cr.onuncatched(ur)}catch{}if(hr!==!1)try{var dr,mr={promise:cr,reason:ur};if(e.document&&document.createEvent?((dr=document.createEvent("Event")).initEvent(ht,!0,!0),r(dr,mr)):e.CustomEvent&&r(dr=new CustomEvent(ht,{detail:mr}),mr),dr&&e.dispatchEvent&&(dispatchEvent(dr),!e.PromiseRejectionEvent&&e.onunhandledrejection))try{e.onunhandledrejection(dr)}catch{}R&&dr&&!dr.defaultPrevented&&console.warn(`Unhandled rejection: ${ur.stack||ur}`)}catch{}}var ft=je.reject;function pt(ur,cr,hr,dr){if(ur.idbdb&&(ur._state.openComplete||Oe.letThrough||ur._vip)){var mr=ur._createTransaction(cr,hr,ur._dbSchema);try{mr.create(),ur._state.PR1398_maxLoop=3}catch(gr){return gr.name===H.InvalidState&&ur.isOpen()&&--ur._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),ur._close(),ur.open().then((()=>pt(ur,cr,hr,dr)))):ft(gr)}return mr._promise(cr,((gr,br)=>Ze((()=>(Oe.trans=mr,dr(gr,br,mr)))))).then((gr=>mr._completion.then((()=>gr))))}if(ur._state.openComplete)return ft(new X.DatabaseClosed(ur._state.dbOpenError));if(!ur._state.isBeingOpened){if(!ur._options.autoOpen)return ft(new X.DatabaseClosed);ur.open().catch(ee)}return ur._state.dbReadyPromise.then((()=>pt(ur,cr,hr,dr)))}const yt="3.2.7",mt="",vt=-1/0,gt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",bt="String expected.",_t=[],wt=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),xt=wt,kt=wt,Et=ur=>!/(dexie\.js|dexie\.min\.js)/.test(ur),Pt="__dbnames",Kt="readonly",Ot="readwrite";function St(ur,cr){return ur?cr?function(){return ur.apply(this,arguments)&&cr.apply(this,arguments)}:ur:cr}const At={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ct(ur){return typeof ur!="string"||/\./.test(ur)?cr=>cr:cr=>(cr[ur]===void 0&&ur in cr&&delete(cr=O(cr))[ur],cr)}class jt{_trans(cr,hr,dr){const mr=this._tx||Oe.trans,gr=this.name;function br(Tr,vr,Sr){if(!Sr.schema[gr])throw new X.NotFound("Table "+gr+" not part of transaction");return hr(Sr.idbtrans,Sr)}const yr=Ue();try{return mr&&mr.db===this.db?mr===Oe.trans?mr._promise(cr,br,dr):Ze((()=>mr._promise(cr,br,dr)),{trans:mr,transless:Oe.transless||Oe}):pt(this.db,cr,[this.name],br)}finally{yr&&Le()}}get(cr,hr){return cr&&cr.constructor===Object?this.where(cr).first(hr):this._trans("readonly",(dr=>this.core.get({trans:dr,key:cr}).then((mr=>this.hook.reading.fire(mr))))).then(hr)}where(cr){if(typeof cr=="string")return new this.db.WhereClause(this,cr);if(n(cr))return new this.db.WhereClause(this,`[${cr.join("+")}]`);const hr=t(cr);if(hr.length===1)return this.where(hr[0]).equals(cr[hr[0]]);const dr=this.schema.indexes.concat(this.schema.primKey).filter((vr=>{if(vr.compound&&hr.every((Sr=>vr.keyPath.indexOf(Sr)>=0))){for(let Sr=0;Sr<hr.length;++Sr)if(hr.indexOf(vr.keyPath[Sr])===-1)return!1;return!0}return!1})).sort(((vr,Sr)=>vr.keyPath.length-Sr.keyPath.length))[0];if(dr&&this.db._maxKey!==mt){const vr=dr.keyPath.slice(0,hr.length);return this.where(vr).equals(vr.map((Sr=>cr[Sr])))}!dr&&R&&console.warn(`The query ${JSON.stringify(cr)} on ${this.name} would benefit of a compound index [${hr.join("+")}]`);const{idxByName:mr}=this.schema,gr=this.db._deps.indexedDB;function br(vr,Sr){try{return gr.cmp(vr,Sr)===0}catch{return!1}}const[yr,Tr]=hr.reduce((([vr,Sr],_r)=>{const wr=mr[_r],Er=cr[_r];return[vr||wr,vr||!wr?St(Sr,wr&&wr.multi?Ar=>{const kr=b(Ar,_r);return n(kr)&&kr.some((Dr=>br(Er,Dr)))}:Ar=>br(Er,b(Ar,_r))):Sr]}),[null,null]);return yr?this.where(yr.name).equals(cr[yr.keyPath]).filter(Tr):dr?this.filter(Tr):this.where(hr).equals("")}filter(cr){return this.toCollection().and(cr)}count(cr){return this.toCollection().count(cr)}offset(cr){return this.toCollection().offset(cr)}limit(cr){return this.toCollection().limit(cr)}each(cr){return this.toCollection().each(cr)}toArray(cr){return this.toCollection().toArray(cr)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(cr){return new this.db.Collection(new this.db.WhereClause(this,n(cr)?`[${cr.join("+")}]`:cr))}reverse(){return this.toCollection().reverse()}mapToClass(cr){this.schema.mappedClass=cr;const hr=dr=>{if(!dr)return dr;const mr=Object.create(cr.prototype);for(var gr in dr)if(o(dr,gr))try{mr[gr]=dr[gr]}catch{}return mr};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=hr,this.hook("reading",hr),cr}defineClass(){return this.mapToClass((function(cr){r(this,cr)}))}add(cr,hr){const{auto:dr,keyPath:mr}=this.schema.primKey;let gr=cr;return mr&&dr&&(gr=Ct(mr)(cr)),this._trans("readwrite",(br=>this.core.mutate({trans:br,type:"add",keys:hr!=null?[hr]:null,values:[gr]}))).then((br=>br.numFailures?je.reject(br.failures[0]):br.lastResult)).then((br=>{if(mr)try{_(cr,mr,br)}catch{}return br}))}update(cr,hr){if(typeof cr!="object"||n(cr))return this.where(":id").equals(cr).modify(hr);{const dr=b(cr,this.schema.primKey.keyPath);if(dr===void 0)return ft(new X.InvalidArgument("Given object does not contain its primary key"));try{typeof hr!="function"?t(hr).forEach((mr=>{_(cr,mr,hr[mr])})):hr(cr,{value:cr,primKey:dr})}catch{}return this.where(":id").equals(dr).modify(hr)}}put(cr,hr){const{auto:dr,keyPath:mr}=this.schema.primKey;let gr=cr;return mr&&dr&&(gr=Ct(mr)(cr)),this._trans("readwrite",(br=>this.core.mutate({trans:br,type:"put",values:[gr],keys:hr!=null?[hr]:null}))).then((br=>br.numFailures?je.reject(br.failures[0]):br.lastResult)).then((br=>{if(mr)try{_(cr,mr,br)}catch{}return br}))}delete(cr){return this._trans("readwrite",(hr=>this.core.mutate({trans:hr,type:"delete",keys:[cr]}))).then((hr=>hr.numFailures?je.reject(hr.failures[0]):void 0))}clear(){return this._trans("readwrite",(cr=>this.core.mutate({trans:cr,type:"deleteRange",range:At}))).then((cr=>cr.numFailures?je.reject(cr.failures[0]):void 0))}bulkGet(cr){return this._trans("readonly",(hr=>this.core.getMany({keys:cr,trans:hr}).then((dr=>dr.map((mr=>this.hook.reading.fire(mr)))))))}bulkAdd(cr,hr,dr){const mr=Array.isArray(hr)?hr:void 0,gr=(dr=dr||(mr?void 0:hr))?dr.allKeys:void 0;return this._trans("readwrite",(br=>{const{auto:yr,keyPath:Tr}=this.schema.primKey;if(Tr&&mr)throw new X.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(mr&&mr.length!==cr.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");const vr=cr.length;let Sr=Tr&&yr?cr.map(Ct(Tr)):cr;return this.core.mutate({trans:br,type:"add",keys:mr,values:Sr,wantResults:gr}).then((({numFailures:_r,results:wr,lastResult:Er,failures:Ar})=>{if(_r===0)return gr?wr:Er;throw new G(`${this.name}.bulkAdd(): ${_r} of ${vr} operations failed`,Ar)}))}))}bulkPut(cr,hr,dr){const mr=Array.isArray(hr)?hr:void 0,gr=(dr=dr||(mr?void 0:hr))?dr.allKeys:void 0;return this._trans("readwrite",(br=>{const{auto:yr,keyPath:Tr}=this.schema.primKey;if(Tr&&mr)throw new X.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(mr&&mr.length!==cr.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");const vr=cr.length;let Sr=Tr&&yr?cr.map(Ct(Tr)):cr;return this.core.mutate({trans:br,type:"put",keys:mr,values:Sr,wantResults:gr}).then((({numFailures:_r,results:wr,lastResult:Er,failures:Ar})=>{if(_r===0)return gr?wr:Er;throw new G(`${this.name}.bulkPut(): ${_r} of ${vr} operations failed`,Ar)}))}))}bulkDelete(cr){const hr=cr.length;return this._trans("readwrite",(dr=>this.core.mutate({trans:dr,type:"delete",keys:cr}))).then((({numFailures:dr,lastResult:mr,failures:gr})=>{if(dr===0)return mr;throw new G(`${this.name}.bulkDelete(): ${dr} of ${hr} operations failed`,gr)}))}}function Dt(ur){var cr={},hr=function(br,yr){if(yr){for(var Tr=arguments.length,vr=new Array(Tr-1);--Tr;)vr[Tr-1]=arguments[Tr];return cr[br].subscribe.apply(null,vr),ur}if(typeof br=="string")return cr[br]};hr.addEventType=gr;for(var dr=1,mr=arguments.length;dr<mr;++dr)gr(arguments[dr]);return hr;function gr(br,yr,Tr){if(typeof br!="object"){var vr;yr||(yr=ae),Tr||(Tr=ee);var Sr={subscribers:[],fire:Tr,subscribe:function(_r){Sr.subscribers.indexOf(_r)===-1&&(Sr.subscribers.push(_r),Sr.fire=yr(Sr.fire,_r))},unsubscribe:function(_r){Sr.subscribers=Sr.subscribers.filter((function(wr){return wr!==_r})),Sr.fire=Sr.subscribers.reduce(yr,Tr)}};return cr[br]=hr[br]=Sr,Sr}t(vr=br).forEach((function(_r){var wr=vr[_r];if(n(wr))gr(_r,vr[_r][0],vr[_r][1]);else{if(wr!=="asap")throw new X.InvalidArgument("Invalid event config");var Er=gr(_r,te,(function(){for(var Ar=arguments.length,kr=new Array(Ar);Ar--;)kr[Ar]=arguments[Ar];Er.subscribers.forEach((function(Dr){v((function(){Dr.apply(null,kr)}))}))}))}}))}}function It(ur,cr){return c(cr).from({prototype:ur}),cr}function Bt(ur,cr){return!(ur.filter||ur.algorithm||ur.or)&&(cr?ur.justLimit:!ur.replayFilter)}function Tt(ur,cr){ur.filter=St(ur.filter,cr)}function Rt(ur,cr,hr){var dr=ur.replayFilter;ur.replayFilter=dr?()=>St(dr(),cr()):cr,ur.justLimit=hr&&!dr}function Ft(ur,cr){if(ur.isPrimKey)return cr.primaryKey;const hr=cr.getIndexByKeyPath(ur.index);if(!hr)throw new X.Schema("KeyPath "+ur.index+" on object store "+cr.name+" is not indexed");return hr}function Mt(ur,cr,hr){const dr=Ft(ur,cr.schema);return cr.openCursor({trans:hr,values:!ur.keysOnly,reverse:ur.dir==="prev",unique:!!ur.unique,query:{index:dr,range:ur.range}})}function Nt(ur,cr,hr,dr){const mr=ur.replayFilter?St(ur.filter,ur.replayFilter()):ur.filter;if(ur.or){const gr={},br=(yr,Tr,vr)=>{if(!mr||mr(Tr,vr,(wr=>Tr.stop(wr)),(wr=>Tr.fail(wr)))){var Sr=Tr.primaryKey,_r=""+Sr;_r==="[object ArrayBuffer]"&&(_r=""+new Uint8Array(Sr)),o(gr,_r)||(gr[_r]=!0,cr(yr,Tr,vr))}};return Promise.all([ur.or._iterate(br,hr),qt(Mt(ur,dr,hr),ur.algorithm,br,!ur.keysOnly&&ur.valueMapper)])}return qt(Mt(ur,dr,hr),St(ur.algorithm,mr),cr,!ur.keysOnly&&ur.valueMapper)}function qt(ur,cr,hr,dr){var mr=Ye(dr?(gr,br,yr)=>hr(dr(gr),br,yr):hr);return ur.then((gr=>{if(gr)return gr.start((()=>{var br=()=>gr.continue();cr&&!cr(gr,(yr=>br=yr),(yr=>{gr.stop(yr),br=ee}),(yr=>{gr.fail(yr),br=ee}))||mr(gr.value,gr,(yr=>br=yr)),br()}))}))}function $t(ur,cr){try{const hr=Ut(ur),dr=Ut(cr);if(hr!==dr)return hr==="Array"?1:dr==="Array"?-1:hr==="binary"?1:dr==="binary"?-1:hr==="string"?1:dr==="string"?-1:hr==="Date"?1:dr!=="Date"?NaN:-1;switch(hr){case"number":case"Date":case"string":return ur>cr?1:ur<cr?-1:0;case"binary":return(function(mr,gr){const br=mr.length,yr=gr.length,Tr=br<yr?br:yr;for(let vr=0;vr<Tr;++vr)if(mr[vr]!==gr[vr])return mr[vr]<gr[vr]?-1:1;return br===yr?0:br<yr?-1:1})(Lt(ur),Lt(cr));case"Array":return(function(mr,gr){const br=mr.length,yr=gr.length,Tr=br<yr?br:yr;for(let vr=0;vr<Tr;++vr){const Sr=$t(mr[vr],gr[vr]);if(Sr!==0)return Sr}return br===yr?0:br<yr?-1:1})(ur,cr)}}catch{}return NaN}function Ut(ur){const cr=typeof ur;if(cr!=="object")return cr;if(ArrayBuffer.isView(ur))return"binary";const hr=C(ur);return hr==="ArrayBuffer"?"binary":hr}function Lt(ur){return ur instanceof Uint8Array?ur:ArrayBuffer.isView(ur)?new Uint8Array(ur.buffer,ur.byteOffset,ur.byteLength):new Uint8Array(ur)}class Vt{_read(cr,hr){var dr=this._ctx;return dr.error?dr.table._trans(null,ft.bind(null,dr.error)):dr.table._trans("readonly",cr).then(hr)}_write(cr){var hr=this._ctx;return hr.error?hr.table._trans(null,ft.bind(null,hr.error)):hr.table._trans("readwrite",cr,"locked")}_addAlgorithm(cr){var hr=this._ctx;hr.algorithm=St(hr.algorithm,cr)}_iterate(cr,hr){return Nt(this._ctx,cr,hr,this._ctx.table.core)}clone(cr){var hr=Object.create(this.constructor.prototype),dr=Object.create(this._ctx);return cr&&r(dr,cr),hr._ctx=dr,hr}raw(){return this._ctx.valueMapper=null,this}each(cr){var hr=this._ctx;return this._read((dr=>Nt(hr,cr,dr,hr.table.core)))}count(cr){return this._read((hr=>{const dr=this._ctx,mr=dr.table.core;if(Bt(dr,!0))return mr.count({trans:hr,query:{index:Ft(dr,mr.schema),range:dr.range}}).then((br=>Math.min(br,dr.limit)));var gr=0;return Nt(dr,(()=>(++gr,!1)),hr,mr).then((()=>gr))})).then(cr)}sortBy(cr,hr){const dr=cr.split(".").reverse(),mr=dr[0],gr=dr.length-1;function br(vr,Sr){return Sr?br(vr[dr[Sr]],Sr-1):vr[mr]}var yr=this._ctx.dir==="next"?1:-1;function Tr(vr,Sr){var _r=br(vr,gr),wr=br(Sr,gr);return _r<wr?-yr:_r>wr?yr:0}return this.toArray((function(vr){return vr.sort(Tr)})).then(hr)}toArray(cr){return this._read((hr=>{var dr=this._ctx;if(dr.dir==="next"&&Bt(dr,!0)&&dr.limit>0){const{valueMapper:mr}=dr,gr=Ft(dr,dr.table.core.schema);return dr.table.core.query({trans:hr,limit:dr.limit,values:!0,query:{index:gr,range:dr.range}}).then((({result:br})=>mr?br.map(mr):br))}{const mr=[];return Nt(dr,(gr=>mr.push(gr)),hr,dr.table.core).then((()=>mr))}}),cr)}offset(cr){var hr=this._ctx;return cr<=0||(hr.offset+=cr,Bt(hr)?Rt(hr,(()=>{var dr=cr;return(mr,gr)=>dr===0||(dr===1?(--dr,!1):(gr((()=>{mr.advance(dr),dr=0})),!1))})):Rt(hr,(()=>{var dr=cr;return()=>--dr<0}))),this}limit(cr){return this._ctx.limit=Math.min(this._ctx.limit,cr),Rt(this._ctx,(()=>{var hr=cr;return function(dr,mr,gr){return--hr<=0&&mr(gr),hr>=0}}),!0),this}until(cr,hr){return Tt(this._ctx,(function(dr,mr,gr){return!cr(dr.value)||(mr(gr),hr)})),this}first(cr){return this.limit(1).toArray((function(hr){return hr[0]})).then(cr)}last(cr){return this.reverse().first(cr)}filter(cr){var hr,dr;return Tt(this._ctx,(function(mr){return cr(mr.value)})),hr=this._ctx,dr=cr,hr.isMatch=St(hr.isMatch,dr),this}and(cr){return this.filter(cr)}or(cr){return new this.db.WhereClause(this._ctx.table,cr,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(cr){var hr=this._ctx;return hr.keysOnly=!hr.isMatch,this.each((function(dr,mr){cr(mr.key,mr)}))}eachUniqueKey(cr){return this._ctx.unique="unique",this.eachKey(cr)}eachPrimaryKey(cr){var hr=this._ctx;return hr.keysOnly=!hr.isMatch,this.each((function(dr,mr){cr(mr.primaryKey,mr)}))}keys(cr){var hr=this._ctx;hr.keysOnly=!hr.isMatch;var dr=[];return this.each((function(mr,gr){dr.push(gr.key)})).then((function(){return dr})).then(cr)}primaryKeys(cr){var hr=this._ctx;if(hr.dir==="next"&&Bt(hr,!0)&&hr.limit>0)return this._read((mr=>{var gr=Ft(hr,hr.table.core.schema);return hr.table.core.query({trans:mr,values:!1,limit:hr.limit,query:{index:gr,range:hr.range}})})).then((({result:mr})=>mr)).then(cr);hr.keysOnly=!hr.isMatch;var dr=[];return this.each((function(mr,gr){dr.push(gr.primaryKey)})).then((function(){return dr})).then(cr)}uniqueKeys(cr){return this._ctx.unique="unique",this.keys(cr)}firstKey(cr){return this.limit(1).keys((function(hr){return hr[0]})).then(cr)}lastKey(cr){return this.reverse().firstKey(cr)}distinct(){var cr=this._ctx,hr=cr.index&&cr.table.schema.idxByName[cr.index];if(!hr||!hr.multi)return this;var dr={};return Tt(this._ctx,(function(mr){var gr=mr.primaryKey.toString(),br=o(dr,gr);return dr[gr]=!0,!br})),this}modify(cr){var hr=this._ctx;return this._write((dr=>{var mr;if(typeof cr=="function")mr=cr;else{var gr=t(cr),br=gr.length;mr=function(kr){for(var Dr=!1,Cr=0;Cr<br;++Cr){var Or=gr[Cr],qr=cr[Or];b(kr,Or)!==qr&&(_(kr,Or,qr),Dr=!0)}return Dr}}const yr=hr.table.core,{outbound:Tr,extractKey:vr}=yr.schema.primaryKey,Sr=this.db._options.modifyChunkSize||200,_r=[];let wr=0;const Er=[],Ar=(kr,Dr)=>{const{failures:Cr,numFailures:Or}=Dr;wr+=kr-Or;for(let qr of t(Cr))_r.push(Cr[qr])};return this.clone().primaryKeys().then((kr=>{const Dr=Cr=>{const Or=Math.min(Sr,kr.length-Cr);return yr.getMany({trans:dr,keys:kr.slice(Cr,Cr+Or),cache:"immutable"}).then((qr=>{const Hr=[],Lr=[],jr=Tr?[]:null,Br=[];for(let Kr=0;Kr<Or;++Kr){const Yr=qr[Kr],Wr={value:O(Yr),primKey:kr[Cr+Kr]};mr.call(Wr,Wr.value,Wr)!==!1&&(Wr.value==null?Br.push(kr[Cr+Kr]):Tr||$t(vr(Yr),vr(Wr.value))===0?(Lr.push(Wr.value),Tr&&jr.push(kr[Cr+Kr])):(Br.push(kr[Cr+Kr]),Hr.push(Wr.value)))}const Ur=Bt(hr)&&hr.limit===1/0&&(typeof cr!="function"||cr===Wt)&&{index:hr.index,range:hr.range};return Promise.resolve(Hr.length>0&&yr.mutate({trans:dr,type:"add",values:Hr}).then((Kr=>{for(let Yr in Kr.failures)Br.splice(parseInt(Yr),1);Ar(Hr.length,Kr)}))).then((()=>(Lr.length>0||Ur&&typeof cr=="object")&&yr.mutate({trans:dr,type:"put",keys:jr,values:Lr,criteria:Ur,changeSpec:typeof cr!="function"&&cr}).then((Kr=>Ar(Lr.length,Kr))))).then((()=>(Br.length>0||Ur&&cr===Wt)&&yr.mutate({trans:dr,type:"delete",keys:Br,criteria:Ur}).then((Kr=>Ar(Br.length,Kr))))).then((()=>kr.length>Cr+Or&&Dr(Cr+Sr)))}))};return Dr(0).then((()=>{if(_r.length>0)throw new z("Error modifying one or more objects",_r,wr,Er);return kr.length}))}))}))}delete(){var cr=this._ctx,hr=cr.range;return Bt(cr)&&(cr.isPrimKey&&!kt||hr.type===3)?this._write((dr=>{const{primaryKey:mr}=cr.table.core.schema,gr=hr;return cr.table.core.count({trans:dr,query:{index:mr,range:gr}}).then((br=>cr.table.core.mutate({trans:dr,type:"deleteRange",range:gr}).then((({failures:yr,lastResult:Tr,results:vr,numFailures:Sr})=>{if(Sr)throw new z("Could not delete some values",Object.keys(yr).map((_r=>yr[_r])),br-Sr);return br-Sr}))))})):this.modify(Wt)}}const Wt=(ur,cr)=>cr.value=null;function Yt(ur,cr){return ur<cr?-1:ur===cr?0:1}function zt(ur,cr){return ur>cr?-1:ur===cr?0:1}function Gt(ur,cr,hr){var dr=ur instanceof en?new ur.Collection(ur):ur;return dr._ctx.error=hr?new hr(cr):new TypeError(cr),dr}function Ht(ur){return new ur.Collection(ur,(()=>Zt(""))).limit(0)}function Qt(ur,cr,hr,dr,mr,gr){for(var br=Math.min(ur.length,dr.length),yr=-1,Tr=0;Tr<br;++Tr){var vr=cr[Tr];if(vr!==dr[Tr])return mr(ur[Tr],hr[Tr])<0?ur.substr(0,Tr)+hr[Tr]+hr.substr(Tr+1):mr(ur[Tr],dr[Tr])<0?ur.substr(0,Tr)+dr[Tr]+hr.substr(Tr+1):yr>=0?ur.substr(0,yr)+cr[yr]+hr.substr(yr+1):null;mr(ur[Tr],vr)<0&&(yr=Tr)}return br<dr.length&&gr==="next"?ur+hr.substr(ur.length):br<ur.length&&gr==="prev"?ur.substr(0,hr.length):yr<0?null:ur.substr(0,yr)+dr[yr]+hr.substr(yr+1)}function Xt(ur,cr,hr,dr){var mr,gr,br,yr,Tr,vr,Sr,_r=hr.length;if(!hr.every((kr=>typeof kr=="string")))return Gt(ur,bt);function wr(kr){mr=(function(Cr){return Cr==="next"?Or=>Or.toUpperCase():Or=>Or.toLowerCase()})(kr),gr=(function(Cr){return Cr==="next"?Or=>Or.toLowerCase():Or=>Or.toUpperCase()})(kr),br=kr==="next"?Yt:zt;var Dr=hr.map((function(Cr){return{lower:gr(Cr),upper:mr(Cr)}})).sort((function(Cr,Or){return br(Cr.lower,Or.lower)}));yr=Dr.map((function(Cr){return Cr.upper})),Tr=Dr.map((function(Cr){return Cr.lower})),vr=kr,Sr=kr==="next"?"":dr}wr("next");var Er=new ur.Collection(ur,(()=>Jt(yr[0],Tr[_r-1]+dr)));Er._ondirectionchange=function(kr){wr(kr)};var Ar=0;return Er._addAlgorithm((function(kr,Dr,Cr){var Or=kr.key;if(typeof Or!="string")return!1;var qr=gr(Or);if(cr(qr,Tr,Ar))return!0;for(var Hr=null,Lr=Ar;Lr<_r;++Lr){var jr=Qt(Or,qr,yr[Lr],Tr[Lr],br,vr);jr===null&&Hr===null?Ar=Lr+1:(Hr===null||br(Hr,jr)>0)&&(Hr=jr)}return Dr(Hr!==null?function(){kr.continue(Hr+Sr)}:Cr),!1})),Er}function Jt(ur,cr,hr,dr){return{type:2,lower:ur,upper:cr,lowerOpen:hr,upperOpen:dr}}function Zt(ur){return{type:1,lower:ur,upper:ur}}class en{get Collection(){return this._ctx.table.db.Collection}between(cr,hr,dr,mr){dr=dr!==!1,mr=mr===!0;try{return this._cmp(cr,hr)>0||this._cmp(cr,hr)===0&&(dr||mr)&&(!dr||!mr)?Ht(this):new this.Collection(this,(()=>Jt(cr,hr,!dr,!mr)))}catch{return Gt(this,gt)}}equals(cr){return cr==null?Gt(this,gt):new this.Collection(this,(()=>Zt(cr)))}above(cr){return cr==null?Gt(this,gt):new this.Collection(this,(()=>Jt(cr,void 0,!0)))}aboveOrEqual(cr){return cr==null?Gt(this,gt):new this.Collection(this,(()=>Jt(cr,void 0,!1)))}below(cr){return cr==null?Gt(this,gt):new this.Collection(this,(()=>Jt(void 0,cr,!1,!0)))}belowOrEqual(cr){return cr==null?Gt(this,gt):new this.Collection(this,(()=>Jt(void 0,cr)))}startsWith(cr){return typeof cr!="string"?Gt(this,bt):this.between(cr,cr+mt,!0,!0)}startsWithIgnoreCase(cr){return cr===""?this.startsWith(cr):Xt(this,((hr,dr)=>hr.indexOf(dr[0])===0),[cr],mt)}equalsIgnoreCase(cr){return Xt(this,((hr,dr)=>hr===dr[0]),[cr],"")}anyOfIgnoreCase(){var cr=B.apply(I,arguments);return cr.length===0?Ht(this):Xt(this,((hr,dr)=>dr.indexOf(hr)!==-1),cr,"")}startsWithAnyOfIgnoreCase(){var cr=B.apply(I,arguments);return cr.length===0?Ht(this):Xt(this,((hr,dr)=>dr.some((mr=>hr.indexOf(mr)===0))),cr,mt)}anyOf(){const cr=B.apply(I,arguments);let hr=this._cmp;try{cr.sort(hr)}catch{return Gt(this,gt)}if(cr.length===0)return Ht(this);const dr=new this.Collection(this,(()=>Jt(cr[0],cr[cr.length-1])));dr._ondirectionchange=gr=>{hr=gr==="next"?this._ascending:this._descending,cr.sort(hr)};let mr=0;return dr._addAlgorithm(((gr,br,yr)=>{const Tr=gr.key;for(;hr(Tr,cr[mr])>0;)if(++mr,mr===cr.length)return br(yr),!1;return hr(Tr,cr[mr])===0||(br((()=>{gr.continue(cr[mr])})),!1)})),dr}notEqual(cr){return this.inAnyRange([[vt,cr],[cr,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const cr=B.apply(I,arguments);if(cr.length===0)return new this.Collection(this);try{cr.sort(this._ascending)}catch{return Gt(this,gt)}const hr=cr.reduce(((dr,mr)=>dr?dr.concat([[dr[dr.length-1][1],mr]]):[[vt,mr]]),null);return hr.push([cr[cr.length-1],this.db._maxKey]),this.inAnyRange(hr,{includeLowers:!1,includeUppers:!1})}inAnyRange(cr,hr){const dr=this._cmp,mr=this._ascending,gr=this._descending,br=this._min,yr=this._max;if(cr.length===0)return Ht(this);if(!cr.every((Or=>Or[0]!==void 0&&Or[1]!==void 0&&mr(Or[0],Or[1])<=0)))return Gt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X.InvalidArgument);const Tr=!hr||hr.includeLowers!==!1,vr=hr&&hr.includeUppers===!0;let Sr,_r=mr;function wr(Or,qr){return _r(Or[0],qr[0])}try{Sr=cr.reduce((function(Or,qr){let Hr=0,Lr=Or.length;for(;Hr<Lr;++Hr){const jr=Or[Hr];if(dr(qr[0],jr[1])<0&&dr(qr[1],jr[0])>0){jr[0]=br(jr[0],qr[0]),jr[1]=yr(jr[1],qr[1]);break}}return Hr===Lr&&Or.push(qr),Or}),[]),Sr.sort(wr)}catch{return Gt(this,gt)}let Er=0;const Ar=vr?Or=>mr(Or,Sr[Er][1])>0:Or=>mr(Or,Sr[Er][1])>=0,kr=Tr?Or=>gr(Or,Sr[Er][0])>0:Or=>gr(Or,Sr[Er][0])>=0;let Dr=Ar;const Cr=new this.Collection(this,(()=>Jt(Sr[0][0],Sr[Sr.length-1][1],!Tr,!vr)));return Cr._ondirectionchange=Or=>{Or==="next"?(Dr=Ar,_r=mr):(Dr=kr,_r=gr),Sr.sort(wr)},Cr._addAlgorithm(((Or,qr,Hr)=>{for(var Lr=Or.key;Dr(Lr);)if(++Er,Er===Sr.length)return qr(Hr),!1;return!!(function(jr){return!Ar(jr)&&!kr(jr)})(Lr)||(this._cmp(Lr,Sr[Er][1])===0||this._cmp(Lr,Sr[Er][0])===0||qr((()=>{_r===mr?Or.continue(Sr[Er][0]):Or.continue(Sr[Er][1])})),!1)})),Cr}startsWithAnyOf(){const cr=B.apply(I,arguments);return cr.every((hr=>typeof hr=="string"))?cr.length===0?Ht(this):this.inAnyRange(cr.map((hr=>[hr,hr+mt]))):Gt(this,"startsWithAnyOf() only works with strings")}}function tn(ur){return Ye((function(cr){return nn(cr),ur(cr.target.error),!1}))}function nn(ur){ur.stopPropagation&&ur.stopPropagation(),ur.preventDefault&&ur.preventDefault()}const rn="storagemutated",sn="x-storagemutated-1",on=Dt(null,rn);class an{_lock(){return m(!Oe.global),++this._reculock,this._reculock!==1||Oe.global||(Oe.lockOwnerFor=this),this}_unlock(){if(m(!Oe.global),--this._reculock==0)for(Oe.global||(Oe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var cr=this._blockedFuncs.shift();try{at(cr[1],cr[0])}catch{}}return this}_locked(){return this._reculock&&Oe.lockOwnerFor!==this}create(cr){if(!this.mode)return this;const hr=this.db.idbdb,dr=this.db._state.dbOpenError;if(m(!this.idbtrans),!cr&&!hr)switch(dr&&dr.name){case"DatabaseClosedError":throw new X.DatabaseClosed(dr);case"MissingAPIError":throw new X.MissingAPI(dr.message,dr);default:throw new X.OpenFailed(dr)}if(!this.active)throw new X.TransactionInactive;return m(this._completion._state===null),(cr=this.idbtrans=cr||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):hr.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ye((mr=>{nn(mr),this._reject(cr.error)})),cr.onabort=Ye((mr=>{nn(mr),this.active&&this._reject(new X.Abort(cr.error)),this.active=!1,this.on("abort").fire(mr)})),cr.oncomplete=Ye((()=>{this.active=!1,this._resolve(),"mutatedParts"in cr&&on.storagemutated.fire(cr.mutatedParts)})),this}_promise(cr,hr,dr){if(cr==="readwrite"&&this.mode!=="readwrite")return ft(new X.ReadOnly("Transaction is readonly"));if(!this.active)return ft(new X.TransactionInactive);if(this._locked())return new je(((gr,br)=>{this._blockedFuncs.push([()=>{this._promise(cr,hr,dr).then(gr,br)},Oe])}));if(dr)return Ze((()=>{var gr=new je(((br,yr)=>{this._lock();const Tr=hr(br,yr,this);Tr&&Tr.then&&Tr.then(br,yr)}));return gr.finally((()=>this._unlock())),gr._lib=!0,gr}));var mr=new je(((gr,br)=>{var yr=hr(gr,br,this);yr&&yr.then&&yr.then(gr,br)}));return mr._lib=!0,mr}_root(){return this.parent?this.parent._root():this}waitFor(cr){var hr=this._root();const dr=je.resolve(cr);if(hr._waitingFor)hr._waitingFor=hr._waitingFor.then((()=>dr));else{hr._waitingFor=dr,hr._waitingQueue=[];var mr=hr.idbtrans.objectStore(hr.storeNames[0]);(function br(){for(++hr._spinCount;hr._waitingQueue.length;)hr._waitingQueue.shift()();hr._waitingFor&&(mr.get(-1/0).onsuccess=br)})()}var gr=hr._waitingFor;return new je(((br,yr)=>{dr.then((Tr=>hr._waitingQueue.push(Ye(br.bind(null,Tr)))),(Tr=>hr._waitingQueue.push(Ye(yr.bind(null,Tr))))).finally((()=>{hr._waitingFor===gr&&(hr._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X.Abort))}table(cr){const hr=this._memoizedTables||(this._memoizedTables={});if(o(hr,cr))return hr[cr];const dr=this.schema[cr];if(!dr)throw new X.NotFound("Table "+cr+" not part of transaction");const mr=new this.db.Table(cr,dr,this);return mr.core=this.db.core.table(cr),hr[cr]=mr,mr}}function un(ur,cr,hr,dr,mr,gr,br){return{name:ur,keyPath:cr,unique:hr,multi:dr,auto:mr,compound:gr,src:(hr&&!br?"&":"")+(dr?"*":"")+(mr?"++":"")+ln(cr)}}function ln(ur){return typeof ur=="string"?ur:ur?"["+[].join.call(ur,"+")+"]":""}function cn(ur,cr,hr){return{name:ur,primKey:cr,indexes:hr,mappedClass:null,idxByName:g(hr,(dr=>[dr.name,dr]))}}let hn=ur=>{try{return ur.only([[]]),hn=()=>[[]],[[]]}catch{return hn=()=>mt,mt}};function dn(ur){return ur==null?()=>{}:typeof ur=="string"?(function(cr){return cr.split(".").length===1?dr=>dr[cr]:dr=>b(dr,cr)})(ur):cr=>b(cr,ur)}function fn(ur){return[].slice.call(ur)}let pn=0;function yn(ur){return ur==null?":id":typeof ur=="string"?ur:`[${ur.join("+")}]`}function mn(ur,cr,hr){function dr(Tr){if(Tr.type===3)return null;if(Tr.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:vr,upper:Sr,lowerOpen:_r,upperOpen:wr}=Tr;return vr===void 0?Sr===void 0?null:cr.upperBound(Sr,!!wr):Sr===void 0?cr.lowerBound(vr,!!_r):cr.bound(vr,Sr,!!_r,!!wr)}const{schema:mr,hasGetAll:gr}=(function(Tr,vr){const Sr=fn(Tr.objectStoreNames);return{schema:{name:Tr.name,tables:Sr.map((_r=>vr.objectStore(_r))).map((_r=>{const{keyPath:wr,autoIncrement:Er}=_r,Ar=n(wr),kr=wr==null,Dr={},Cr={name:_r.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:kr,compound:Ar,keyPath:wr,autoIncrement:Er,unique:!0,extractKey:dn(wr)},indexes:fn(_r.indexNames).map((Or=>_r.index(Or))).map((Or=>{const{name:qr,unique:Hr,multiEntry:Lr,keyPath:jr}=Or,Br={name:qr,compound:n(jr),keyPath:jr,unique:Hr,multiEntry:Lr,extractKey:dn(jr)};return Dr[yn(jr)]=Br,Br})),getIndexByKeyPath:Or=>Dr[yn(Or)]};return Dr[":id"]=Cr.primaryKey,wr!=null&&(Dr[yn(wr)]=Cr.primaryKey),Cr}))},hasGetAll:Sr.length>0&&"getAll"in vr.objectStore(Sr[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}})(ur,hr),br=mr.tables.map((Tr=>(function(vr){const Sr=vr.name;return{name:Sr,schema:vr,mutate:function({trans:_r,type:wr,keys:Er,values:Ar,range:kr}){return new Promise(((Dr,Cr)=>{Dr=Ye(Dr);const Or=_r.objectStore(Sr),qr=Or.keyPath==null,Hr=wr==="put"||wr==="add";if(!Hr&&wr!=="delete"&&wr!=="deleteRange")throw new Error("Invalid operation type: "+wr);const{length:Lr}=Er||Ar||{length:1};if(Er&&Ar&&Er.length!==Ar.length)throw new Error("Given keys array must have same length as given values array.");if(Lr===0)return Dr({numFailures:0,failures:{},results:[],lastResult:void 0});let jr;const Br=[],Ur=[];let Kr=0;const Yr=sa=>{++Kr,nn(sa)};if(wr==="deleteRange"){if(kr.type===4)return Dr({numFailures:Kr,failures:Ur,results:[],lastResult:void 0});kr.type===3?Br.push(jr=Or.clear()):Br.push(jr=Or.delete(dr(kr)))}else{const[sa,ta]=Hr?qr?[Ar,Er]:[Ar,null]:[Er,null];if(Hr)for(let oa=0;oa<Lr;++oa)Br.push(jr=ta&&ta[oa]!==void 0?Or[wr](sa[oa],ta[oa]):Or[wr](sa[oa])),jr.onerror=Yr;else for(let oa=0;oa<Lr;++oa)Br.push(jr=Or[wr](sa[oa])),jr.onerror=Yr}const Wr=sa=>{const ta=sa.target.result;Br.forEach(((oa,Ia)=>oa.error!=null&&(Ur[Ia]=oa.error))),Dr({numFailures:Kr,failures:Ur,results:wr==="delete"?Er:Br.map((oa=>oa.result)),lastResult:ta})};jr.onerror=sa=>{Yr(sa),Wr(sa)},jr.onsuccess=Wr}))},getMany:({trans:_r,keys:wr})=>new Promise(((Er,Ar)=>{Er=Ye(Er);const kr=_r.objectStore(Sr),Dr=wr.length,Cr=new Array(Dr);let Or,qr=0,Hr=0;const Lr=Br=>{const Ur=Br.target;Cr[Ur._pos]=Ur.result,++Hr===qr&&Er(Cr)},jr=tn(Ar);for(let Br=0;Br<Dr;++Br)wr[Br]!=null&&(Or=kr.get(wr[Br]),Or._pos=Br,Or.onsuccess=Lr,Or.onerror=jr,++qr);qr===0&&Er(Cr)})),get:({trans:_r,key:wr})=>new Promise(((Er,Ar)=>{Er=Ye(Er);const kr=_r.objectStore(Sr).get(wr);kr.onsuccess=Dr=>Er(Dr.target.result),kr.onerror=tn(Ar)})),query:(function(_r){return wr=>new Promise(((Er,Ar)=>{Er=Ye(Er);const{trans:kr,values:Dr,limit:Cr,query:Or}=wr,qr=Cr===1/0?void 0:Cr,{index:Hr,range:Lr}=Or,jr=kr.objectStore(Sr),Br=Hr.isPrimaryKey?jr:jr.index(Hr.name),Ur=dr(Lr);if(Cr===0)return Er({result:[]});if(_r){const Kr=Dr?Br.getAll(Ur,qr):Br.getAllKeys(Ur,qr);Kr.onsuccess=Yr=>Er({result:Yr.target.result}),Kr.onerror=tn(Ar)}else{let Kr=0;const Yr=Dr||!("openKeyCursor"in Br)?Br.openCursor(Ur):Br.openKeyCursor(Ur),Wr=[];Yr.onsuccess=sa=>{const ta=Yr.result;return ta?(Wr.push(Dr?ta.value:ta.primaryKey),++Kr===Cr?Er({result:Wr}):void ta.continue()):Er({result:Wr})},Yr.onerror=tn(Ar)}}))})(gr),openCursor:function({trans:_r,values:wr,query:Er,reverse:Ar,unique:kr}){return new Promise(((Dr,Cr)=>{Dr=Ye(Dr);const{index:Or,range:qr}=Er,Hr=_r.objectStore(Sr),Lr=Or.isPrimaryKey?Hr:Hr.index(Or.name),jr=Ar?kr?"prevunique":"prev":kr?"nextunique":"next",Br=wr||!("openKeyCursor"in Lr)?Lr.openCursor(dr(qr),jr):Lr.openKeyCursor(dr(qr),jr);Br.onerror=tn(Cr),Br.onsuccess=Ye((Ur=>{const Kr=Br.result;if(!Kr)return void Dr(null);Kr.___id=++pn,Kr.done=!1;const Yr=Kr.continue.bind(Kr);let Wr=Kr.continuePrimaryKey;Wr&&(Wr=Wr.bind(Kr));const sa=Kr.advance.bind(Kr),ta=()=>{throw new Error("Cursor not stopped")};Kr.trans=_r,Kr.stop=Kr.continue=Kr.continuePrimaryKey=Kr.advance=()=>{throw new Error("Cursor not started")},Kr.fail=Ye(Cr),Kr.next=function(){let oa=1;return this.start((()=>oa--?this.continue():this.stop())).then((()=>this))},Kr.start=oa=>{const Ia=new Promise(((xa,ua)=>{xa=Ye(xa),Br.onerror=tn(ua),Kr.fail=ua,Kr.stop=Ba=>{Kr.stop=Kr.continue=Kr.continuePrimaryKey=Kr.advance=ta,xa(Ba)}})),$r=()=>{if(Br.result)try{oa()}catch(xa){Kr.fail(xa)}else Kr.done=!0,Kr.start=()=>{throw new Error("Cursor behind last entry")},Kr.stop()};return Br.onsuccess=Ye((xa=>{Br.onsuccess=$r,$r()})),Kr.continue=Yr,Kr.continuePrimaryKey=Wr,Kr.advance=sa,$r(),Ia},Dr(Kr)}),Cr)}))},count({query:_r,trans:wr}){const{index:Er,range:Ar}=_r;return new Promise(((kr,Dr)=>{const Cr=wr.objectStore(Sr),Or=Er.isPrimaryKey?Cr:Cr.index(Er.name),qr=dr(Ar),Hr=qr?Or.count(qr):Or.count();Hr.onsuccess=Ye((Lr=>kr(Lr.target.result))),Hr.onerror=tn(Dr)}))}}})(Tr))),yr={};return br.forEach((Tr=>yr[Tr.name]=Tr)),{stack:"dbcore",transaction:ur.transaction.bind(ur),table(Tr){if(!yr[Tr])throw new Error(`Table '${Tr}' not found`);return yr[Tr]},MIN_KEY:-1/0,MAX_KEY:hn(cr),schema:mr}}function vn({_novip:ur},cr){const hr=cr.db,dr=(function(mr,gr,{IDBKeyRange:br,indexedDB:yr},Tr){return{dbcore:(function(Sr,_r){return _r.reduce(((wr,{create:Er})=>({...wr,...Er(wr)})),Sr)})(mn(gr,br,Tr),mr.dbcore)}})(ur._middlewares,hr,ur._deps,cr);ur.core=dr.dbcore,ur.tables.forEach((mr=>{const gr=mr.name;ur.core.schema.tables.some((br=>br.name===gr))&&(mr.core=ur.core.table(gr),ur[gr]instanceof ur.Table&&(ur[gr].core=mr.core))}))}function gn({_novip:ur},cr,hr,dr){hr.forEach((mr=>{const gr=dr[mr];cr.forEach((br=>{const yr=d(br,mr);(!yr||"value"in yr&&yr.value===void 0)&&(br===ur.Transaction.prototype||br instanceof ur.Transaction?l(br,mr,{get(){return this.table(mr)},set(Tr){u(this,mr,{value:Tr,writable:!0,configurable:!0,enumerable:!0})}}):br[mr]=new ur.Table(mr,gr))}))}))}function bn({_novip:ur},cr){cr.forEach((hr=>{for(let dr in hr)hr[dr]instanceof ur.Table&&delete hr[dr]}))}function _n(ur,cr){return ur._cfg.version-cr._cfg.version}function wn(ur,cr,hr,dr){const mr=ur._dbSchema,gr=ur._createTransaction("readwrite",ur._storeNames,mr);gr.create(hr),gr._completion.catch(dr);const br=gr._reject.bind(gr),yr=Oe.transless||Oe;Ze((()=>{Oe.trans=gr,Oe.transless=yr,cr===0?(t(mr).forEach((Tr=>{kn(hr,Tr,mr[Tr].primKey,mr[Tr].indexes)})),vn(ur,hr),je.follow((()=>ur.on.populate.fire(gr))).catch(br)):(function({_novip:Tr},vr,Sr,_r){const wr=[],Er=Tr._versions;let Ar=Tr._dbSchema=Pn(Tr,Tr.idbdb,_r),kr=!1;const Dr=Er.filter((Or=>Or._cfg.version>=vr));function Cr(){return wr.length?je.resolve(wr.shift()(Sr.idbtrans)).then(Cr):je.resolve()}return Dr.forEach((Or=>{wr.push((()=>{const qr=Ar,Hr=Or._cfg.dbschema;Kn(Tr,qr,_r),Kn(Tr,Hr,_r),Ar=Tr._dbSchema=Hr;const Lr=xn(qr,Hr);Lr.add.forEach((Br=>{kn(_r,Br[0],Br[1].primKey,Br[1].indexes)})),Lr.change.forEach((Br=>{if(Br.recreate)throw new X.Upgrade("Not yet support for changing primary key");{const Ur=_r.objectStore(Br.name);Br.add.forEach((Kr=>En(Ur,Kr))),Br.change.forEach((Kr=>{Ur.deleteIndex(Kr.name),En(Ur,Kr)})),Br.del.forEach((Kr=>Ur.deleteIndex(Kr)))}}));const jr=Or._cfg.contentUpgrade;if(jr&&Or._cfg.version>vr){vn(Tr,_r),Sr._memoizedTables={},kr=!0;let Br=w(Hr);Lr.del.forEach((Wr=>{Br[Wr]=qr[Wr]})),bn(Tr,[Tr.Transaction.prototype]),gn(Tr,[Tr.Transaction.prototype],t(Br),Br),Sr.schema=Br;const Ur=T(jr);let Kr;Ur&&et();const Yr=je.follow((()=>{if(Kr=jr(Sr),Kr&&Ur){var Wr=tt.bind(null,null);Kr.then(Wr,Wr)}}));return Kr&&typeof Kr.then=="function"?je.resolve(Kr):Yr.then((()=>Kr))}})),wr.push((qr=>{(!kr||!xt)&&(function(Hr,Lr){[].slice.call(Lr.db.objectStoreNames).forEach((jr=>Hr[jr]==null&&Lr.db.deleteObjectStore(jr)))})(Or._cfg.dbschema,qr),bn(Tr,[Tr.Transaction.prototype]),gn(Tr,[Tr.Transaction.prototype],Tr._storeNames,Tr._dbSchema),Sr.schema=Tr._dbSchema}))})),Cr().then((()=>{var Or,qr;qr=_r,t(Or=Ar).forEach((Hr=>{qr.db.objectStoreNames.contains(Hr)||kn(qr,Hr,Or[Hr].primKey,Or[Hr].indexes)}))}))})(ur,cr,gr,hr).catch(br)}))}function xn(ur,cr){const hr={del:[],add:[],change:[]};let dr;for(dr in ur)cr[dr]||hr.del.push(dr);for(dr in cr){const mr=ur[dr],gr=cr[dr];if(mr){const br={name:dr,def:gr,recreate:!1,del:[],add:[],change:[]};if(""+(mr.primKey.keyPath||"")!=""+(gr.primKey.keyPath||"")||mr.primKey.auto!==gr.primKey.auto&&!wt)br.recreate=!0,hr.change.push(br);else{const yr=mr.idxByName,Tr=gr.idxByName;let vr;for(vr in yr)Tr[vr]||br.del.push(vr);for(vr in Tr){const Sr=yr[vr],_r=Tr[vr];Sr?Sr.src!==_r.src&&br.change.push(_r):br.add.push(_r)}(br.del.length>0||br.add.length>0||br.change.length>0)&&hr.change.push(br)}}else hr.add.push([dr,gr])}return hr}function kn(ur,cr,hr,dr){const mr=ur.db.createObjectStore(cr,hr.keyPath?{keyPath:hr.keyPath,autoIncrement:hr.auto}:{autoIncrement:hr.auto});return dr.forEach((gr=>En(mr,gr))),mr}function En(ur,cr){ur.createIndex(cr.name,cr.keyPath,{unique:cr.unique,multiEntry:cr.multi})}function Pn(ur,cr,hr){const dr={};return p(cr.objectStoreNames,0).forEach((mr=>{const gr=hr.objectStore(mr);let br=gr.keyPath;const yr=un(ln(br),br||"",!1,!1,!!gr.autoIncrement,br&&typeof br!="string",!0),Tr=[];for(let Sr=0;Sr<gr.indexNames.length;++Sr){const _r=gr.index(gr.indexNames[Sr]);br=_r.keyPath;var vr=un(_r.name,br,!!_r.unique,!!_r.multiEntry,!1,br&&typeof br!="string",!1);Tr.push(vr)}dr[mr]=cn(mr,yr,Tr)})),dr}function Kn({_novip:ur},cr,hr){const dr=hr.db.objectStoreNames;for(let mr=0;mr<dr.length;++mr){const gr=dr[mr],br=hr.objectStore(gr);ur._hasGetAll="getAll"in br;for(let yr=0;yr<br.indexNames.length;++yr){const Tr=br.indexNames[yr],vr=br.index(Tr).keyPath,Sr=typeof vr=="string"?vr:"["+p(vr).join("+")+"]";if(cr[gr]){const _r=cr[gr].idxByName[Sr];_r&&(_r.name=Tr,delete cr[gr].idxByName[Sr],cr[gr].idxByName[Tr]=_r)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&e.WorkerGlobalScope&&e instanceof e.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(ur._hasGetAll=!1)}class On{_parseStoresSpec(cr,hr){t(cr).forEach((dr=>{if(cr[dr]!==null){var mr=cr[dr].split(",").map(((br,yr)=>{const Tr=(br=br.trim()).replace(/([&*]|\+\+)/g,""),vr=/^\[/.test(Tr)?Tr.match(/^\[(.*)\]$/)[1].split("+"):Tr;return un(Tr,vr||null,/\&/.test(br),/\*/.test(br),/\+\+/.test(br),n(vr),yr===0)})),gr=mr.shift();if(gr.multi)throw new X.Schema("Primary key cannot be multi-valued");mr.forEach((br=>{if(br.auto)throw new X.Schema("Only primary key can be marked as autoIncrement (++)");if(!br.keyPath)throw new X.Schema("Index must have a name and cannot be an empty string")})),hr[dr]=cn(dr,gr,mr)}}))}stores(cr){const hr=this.db;this._cfg.storesSource=this._cfg.storesSource?r(this._cfg.storesSource,cr):cr;const dr=hr._versions,mr={};let gr={};return dr.forEach((br=>{r(mr,br._cfg.storesSource),gr=br._cfg.dbschema={},br._parseStoresSpec(mr,gr)})),hr._dbSchema=gr,bn(hr,[hr._allTables,hr,hr.Transaction.prototype]),gn(hr,[hr._allTables,hr,hr.Transaction.prototype,this._cfg.tables],t(gr),gr),hr._storeNames=t(gr),this}upgrade(cr){return this._cfg.contentUpgrade=ue(this._cfg.contentUpgrade||ee,cr),this}}function Sn(ur,cr){let hr=ur._dbNamesDB;return hr||(hr=ur._dbNamesDB=new Xn(Pt,{addons:[],indexedDB:ur,IDBKeyRange:cr}),hr.version(1).stores({dbnames:"name"})),hr.table("dbnames")}function An(ur){return ur&&typeof ur.databases=="function"}function Cn(ur){return Ze((function(){return Oe.letThrough=!0,ur()}))}function jn(){var ur;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(cr){var hr=function(){return indexedDB.databases().finally(cr)};ur=setInterval(hr,100),hr()})).finally((function(){return clearInterval(ur)})):Promise.resolve()}function Dn(ur){const cr=ur._state,{indexedDB:hr}=ur._deps;if(cr.isBeingOpened||ur.idbdb)return cr.dbReadyPromise.then((()=>cr.dbOpenError?ft(cr.dbOpenError):ur));R&&(cr.openCanceller._stackHolder=q()),cr.isBeingOpened=!0,cr.dbOpenError=null,cr.openComplete=!1;const dr=cr.openCanceller;function mr(){if(cr.openCanceller!==dr)throw new X.DatabaseClosed("db.open() was cancelled")}let gr=cr.dbReadyResolve,br=null,yr=!1;const Tr=()=>new je(((vr,Sr)=>{if(mr(),!hr)throw new X.MissingAPI;const _r=ur.name,wr=cr.autoSchema?hr.open(_r):hr.open(_r,Math.round(10*ur.verno));if(!wr)throw new X.MissingAPI;wr.onerror=tn(Sr),wr.onblocked=Ye(ur._fireOnBlocked),wr.onupgradeneeded=Ye((Er=>{if(br=wr.transaction,cr.autoSchema&&!ur._options.allowEmptyDB){wr.onerror=nn,br.abort(),wr.result.close();const kr=hr.deleteDatabase(_r);kr.onsuccess=kr.onerror=Ye((()=>{Sr(new X.NoSuchDatabase(`Database ${_r} doesnt exist`))}))}else{br.onerror=tn(Sr);var Ar=Er.oldVersion>Math.pow(2,62)?0:Er.oldVersion;yr=Ar<1,ur._novip.idbdb=wr.result,wn(ur,Ar/10,br,Sr)}}),Sr),wr.onsuccess=Ye((()=>{br=null;const Er=ur._novip.idbdb=wr.result,Ar=p(Er.objectStoreNames);if(Ar.length>0)try{const Dr=Er.transaction((kr=Ar).length===1?kr[0]:kr,"readonly");cr.autoSchema?(function({_novip:Cr},Or,qr){Cr.verno=Or.version/10;const Hr=Cr._dbSchema=Pn(0,Or,qr);Cr._storeNames=p(Or.objectStoreNames,0),gn(Cr,[Cr._allTables],t(Hr),Hr)})(ur,Er,Dr):(Kn(ur,ur._dbSchema,Dr),(function(Cr,Or){const qr=xn(Pn(0,Cr.idbdb,Or),Cr._dbSchema);return!(qr.add.length||qr.change.some((Hr=>Hr.add.length||Hr.change.length)))})(ur,Dr)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),vn(ur,Dr)}catch{}var kr;_t.push(ur),Er.onversionchange=Ye((Dr=>{cr.vcFired=!0,ur.on("versionchange").fire(Dr)})),Er.onclose=Ye((Dr=>{ur.on("close").fire(Dr)})),yr&&(function({indexedDB:Dr,IDBKeyRange:Cr},Or){!An(Dr)&&Or!==Pt&&Sn(Dr,Cr).put({name:Or}).catch(ee)})(ur._deps,_r),vr()}),Sr)})).catch((vr=>vr&&vr.name==="UnknownError"&&cr.PR1398_maxLoop>0?(cr.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Tr()):je.reject(vr)));return je.race([dr,(typeof navigator>"u"?je.resolve():jn()).then(Tr)]).then((()=>(mr(),cr.onReadyBeingFired=[],je.resolve(Cn((()=>ur.on.ready.fire(ur.vip)))).then((function vr(){if(cr.onReadyBeingFired.length>0){let Sr=cr.onReadyBeingFired.reduce(ue,ee);return cr.onReadyBeingFired=[],je.resolve(Cn((()=>Sr(ur.vip)))).then(vr)}}))))).finally((()=>{cr.onReadyBeingFired=null,cr.isBeingOpened=!1})).then((()=>ur)).catch((vr=>{cr.dbOpenError=vr;try{br&&br.abort()}catch{}return dr===cr.openCanceller&&ur._close(),ft(vr)})).finally((()=>{cr.openComplete=!0,gr()}))}function In(ur){var cr=gr=>ur.next(gr),hr=mr(cr),dr=mr((gr=>ur.throw(gr)));function mr(gr){return br=>{var yr=gr(br),Tr=yr.value;return yr.done?Tr:Tr&&typeof Tr.then=="function"?Tr.then(hr,dr):n(Tr)?Promise.all(Tr).then(hr,dr):hr(Tr)}}return mr(cr)()}function Bn(ur,cr,hr){var dr=arguments.length;if(dr<2)throw new X.InvalidArgument("Too few arguments");for(var mr=new Array(dr-1);--dr;)mr[dr-1]=arguments[dr];return hr=mr.pop(),[ur,k(mr),hr]}function Tn(ur,cr,hr,dr,mr){return je.resolve().then((()=>{const gr=Oe.transless||Oe,br=ur._createTransaction(cr,hr,ur._dbSchema,dr),yr={trans:br,transless:gr};if(dr)br.idbtrans=dr.idbtrans;else try{br.create(),ur._state.PR1398_maxLoop=3}catch(_r){return _r.name===H.InvalidState&&ur.isOpen()&&--ur._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),ur._close(),ur.open().then((()=>Tn(ur,cr,hr,null,mr)))):ft(_r)}const Tr=T(mr);let vr;Tr&&et();const Sr=je.follow((()=>{if(vr=mr.call(br,br),vr)if(Tr){var _r=tt.bind(null,null);vr.then(_r,_r)}else typeof vr.next=="function"&&typeof vr.throw=="function"&&(vr=In(vr))}),yr);return(vr&&typeof vr.then=="function"?je.resolve(vr).then((_r=>br.active?_r:ft(new X.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):Sr.then((()=>vr))).then((_r=>(dr&&br._resolve(),br._completion.then((()=>_r))))).catch((_r=>(br._reject(_r),ft(_r))))}))}function Rn(ur,cr,hr){const dr=n(ur)?ur.slice():[ur];for(let mr=0;mr<hr;++mr)dr.push(cr);return dr}const Fn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(ur){return{...ur,table(cr){const hr=ur.table(cr),{schema:dr}=hr,mr={},gr=[];function br(Sr,_r,wr){const Er=yn(Sr),Ar=mr[Er]=mr[Er]||[],kr=Sr==null?0:typeof Sr=="string"?1:Sr.length,Dr=_r>0,Cr={...wr,isVirtual:Dr,keyTail:_r,keyLength:kr,extractKey:dn(Sr),unique:!Dr&&wr.unique};return Ar.push(Cr),Cr.isPrimaryKey||gr.push(Cr),kr>1&&br(kr===2?Sr[0]:Sr.slice(0,kr-1),_r+1,wr),Ar.sort(((Or,qr)=>Or.keyTail-qr.keyTail)),Cr}const yr=br(dr.primaryKey.keyPath,0,dr.primaryKey);mr[":id"]=[yr];for(const Sr of dr.indexes)br(Sr.keyPath,0,Sr);function Tr(Sr){const _r=Sr.query.index;return _r.isVirtual?{...Sr,query:{index:_r,range:(wr=Sr.query.range,Er=_r.keyTail,{type:wr.type===1?2:wr.type,lower:Rn(wr.lower,wr.lowerOpen?ur.MAX_KEY:ur.MIN_KEY,Er),lowerOpen:!0,upper:Rn(wr.upper,wr.upperOpen?ur.MIN_KEY:ur.MAX_KEY,Er),upperOpen:!0})}}:Sr;var wr,Er}return{...hr,schema:{...dr,primaryKey:yr,indexes:gr,getIndexByKeyPath:function(Sr){const _r=mr[yn(Sr)];return _r&&_r[0]}},count:Sr=>hr.count(Tr(Sr)),query:Sr=>hr.query(Tr(Sr)),openCursor(Sr){const{keyTail:_r,isVirtual:wr,keyLength:Er}=Sr.query.index;return wr?hr.openCursor(Tr(Sr)).then((Ar=>Ar&&(function(kr){return Object.create(kr,{continue:{value:function(Cr){Cr!=null?kr.continue(Rn(Cr,Sr.reverse?ur.MAX_KEY:ur.MIN_KEY,_r)):Sr.unique?kr.continue(kr.key.slice(0,Er).concat(Sr.reverse?ur.MIN_KEY:ur.MAX_KEY,_r)):kr.continue()}},continuePrimaryKey:{value(Cr,Or){kr.continuePrimaryKey(Rn(Cr,ur.MAX_KEY,_r),Or)}},primaryKey:{get:()=>kr.primaryKey},key:{get(){const Cr=kr.key;return Er===1?Cr[0]:Cr.slice(0,Er)}},value:{get:()=>kr.value}})})(Ar))):hr.openCursor(Sr)}}}}}};function Mn(ur,cr,hr,dr){return hr=hr||{},dr=dr||"",t(ur).forEach((mr=>{if(o(cr,mr)){var gr=ur[mr],br=cr[mr];if(typeof gr=="object"&&typeof br=="object"&&gr&&br){const yr=C(gr);yr!==C(br)?hr[dr+mr]=cr[mr]:yr==="Object"?Mn(gr,br,hr,dr+mr+"."):gr!==br&&(hr[dr+mr]=cr[mr])}else gr!==br&&(hr[dr+mr]=cr[mr])}else hr[dr+mr]=void 0})),t(cr).forEach((mr=>{o(ur,mr)||(hr[dr+mr]=cr[mr])})),hr}const Nn={stack:"dbcore",name:"HooksMiddleware",level:2,create:ur=>({...ur,table(cr){const hr=ur.table(cr),{primaryKey:dr}=hr.schema;return{...hr,mutate(gr){const br=Oe.trans,{deleting:yr,creating:Tr,updating:vr}=br.table(cr).hook;switch(gr.type){case"add":if(Tr.fire===ee)break;return br._promise("readwrite",(()=>Sr(gr)),!0);case"put":if(Tr.fire===ee&&vr.fire===ee)break;return br._promise("readwrite",(()=>Sr(gr)),!0);case"delete":if(yr.fire===ee)break;return br._promise("readwrite",(()=>Sr(gr)),!0);case"deleteRange":if(yr.fire===ee)break;return br._promise("readwrite",(()=>(function(wr){return _r(wr.trans,wr.range,1e4)})(gr)),!0)}return hr.mutate(gr);function Sr(wr){const Er=Oe.trans,Ar=wr.keys||(function(kr,Dr){return Dr.type==="delete"?Dr.keys:Dr.keys||Dr.values.map(kr.extractKey)})(dr,wr);if(!Ar)throw new Error("Keys missing");return(wr=wr.type==="add"||wr.type==="put"?{...wr,keys:Ar}:{...wr}).type!=="delete"&&(wr.values=[...wr.values]),wr.keys&&(wr.keys=[...wr.keys]),(function(kr,Dr,Cr){return Dr.type==="add"?Promise.resolve([]):kr.getMany({trans:Dr.trans,keys:Cr,cache:"immutable"})})(hr,wr,Ar).then((kr=>{const Dr=Ar.map(((Cr,Or)=>{const qr=kr[Or],Hr={onerror:null,onsuccess:null};if(wr.type==="delete")yr.fire.call(Hr,Cr,qr,Er);else if(wr.type==="add"||qr===void 0){const Lr=Tr.fire.call(Hr,Cr,wr.values[Or],Er);Cr==null&&Lr!=null&&(Cr=Lr,wr.keys[Or]=Cr,dr.outbound||_(wr.values[Or],dr.keyPath,Cr))}else{const Lr=Mn(qr,wr.values[Or]),jr=vr.fire.call(Hr,Lr,Cr,qr,Er);if(jr){const Br=wr.values[Or];Object.keys(jr).forEach((Ur=>{o(Br,Ur)?Br[Ur]=jr[Ur]:_(Br,Ur,jr[Ur])}))}}return Hr}));return hr.mutate(wr).then((({failures:Cr,results:Or,numFailures:qr,lastResult:Hr})=>{for(let Lr=0;Lr<Ar.length;++Lr){const jr=Or?Or[Lr]:Ar[Lr],Br=Dr[Lr];jr==null?Br.onerror&&Br.onerror(Cr[Lr]):Br.onsuccess&&Br.onsuccess(wr.type==="put"&&kr[Lr]?wr.values[Lr]:jr)}return{failures:Cr,results:Or,numFailures:qr,lastResult:Hr}})).catch((Cr=>(Dr.forEach((Or=>Or.onerror&&Or.onerror(Cr))),Promise.reject(Cr))))}))}function _r(wr,Er,Ar){return hr.query({trans:wr,values:!1,query:{index:dr,range:Er},limit:Ar}).then((({result:kr})=>Sr({type:"delete",keys:kr,trans:wr}).then((Dr=>Dr.numFailures>0?Promise.reject(Dr.failures[0]):kr.length<Ar?{failures:[],numFailures:0,lastResult:void 0}:_r(wr,{...Er,lower:kr[kr.length-1],lowerOpen:!0},Ar)))))}}}}})};function qn(ur,cr,hr){try{if(!cr||cr.keys.length<ur.length)return null;const dr=[];for(let mr=0,gr=0;mr<cr.keys.length&&gr<ur.length;++mr)$t(cr.keys[mr],ur[gr])===0&&(dr.push(hr?O(cr.values[mr]):cr.values[mr]),++gr);return dr.length===ur.length?dr:null}catch{return null}}const $n={stack:"dbcore",level:-1,create:ur=>({table:cr=>{const hr=ur.table(cr);return{...hr,getMany:dr=>{if(!dr.cache)return hr.getMany(dr);const mr=qn(dr.keys,dr.trans._cache,dr.cache==="clone");return mr?je.resolve(mr):hr.getMany(dr).then((gr=>(dr.trans._cache={keys:dr.keys,values:dr.cache==="clone"?O(gr):gr},gr)))},mutate:dr=>(dr.type!=="add"&&(dr.trans._cache=null),hr.mutate(dr))}}})};function Un(ur){return!("from"in ur)}const Ln=function(ur,cr){if(!this){const hr=new Ln;return ur&&"d"in ur&&r(hr,ur),hr}r(this,arguments.length?{d:1,from:ur,to:arguments.length>1?cr:ur}:{d:0})};function Vn(ur,cr,hr){const dr=$t(cr,hr);if(isNaN(dr))return;if(dr>0)throw RangeError();if(Un(ur))return r(ur,{from:cr,to:hr,d:1});const mr=ur.l,gr=ur.r;if($t(hr,ur.from)<0)return mr?Vn(mr,cr,hr):ur.l={from:cr,to:hr,d:1,l:null,r:null},Gn(ur);if($t(cr,ur.to)>0)return gr?Vn(gr,cr,hr):ur.r={from:cr,to:hr,d:1,l:null,r:null},Gn(ur);$t(cr,ur.from)<0&&(ur.from=cr,ur.l=null,ur.d=gr?gr.d+1:1),$t(hr,ur.to)>0&&(ur.to=hr,ur.r=null,ur.d=ur.l?ur.l.d+1:1);const br=!ur.r;mr&&!ur.l&&Wn(ur,mr),gr&&br&&Wn(ur,gr)}function Wn(ur,cr){Un(cr)||(function hr(dr,{from:mr,to:gr,l:br,r:yr}){Vn(dr,mr,gr),br&&hr(dr,br),yr&&hr(dr,yr)})(ur,cr)}function Yn(ur,cr){const hr=zn(cr);let dr=hr.next();if(dr.done)return!1;let mr=dr.value;const gr=zn(ur);let br=gr.next(mr.from),yr=br.value;for(;!dr.done&&!br.done;){if($t(yr.from,mr.to)<=0&&$t(yr.to,mr.from)>=0)return!0;$t(mr.from,yr.from)<0?mr=(dr=hr.next(yr.from)).value:yr=(br=gr.next(mr.from)).value}return!1}function zn(ur){let cr=Un(ur)?null:{s:0,n:ur};return{next(hr){const dr=arguments.length>0;for(;cr;)switch(cr.s){case 0:if(cr.s=1,dr)for(;cr.n.l&&$t(hr,cr.n.from)<0;)cr={up:cr,n:cr.n.l,s:1};else for(;cr.n.l;)cr={up:cr,n:cr.n.l,s:1};case 1:if(cr.s=2,!dr||$t(hr,cr.n.to)<=0)return{value:cr.n,done:!1};case 2:if(cr.n.r){cr.s=3,cr={up:cr,n:cr.n.r,s:0};continue}case 3:cr=cr.up}return{done:!0}}}}function Gn(ur){var cr,hr;const dr=(((cr=ur.r)===null||cr===void 0?void 0:cr.d)||0)-(((hr=ur.l)===null||hr===void 0?void 0:hr.d)||0),mr=dr>1?"r":dr<-1?"l":"";if(mr){const gr=mr==="r"?"l":"r",br={...ur},yr=ur[mr];ur.from=yr.from,ur.to=yr.to,ur[mr]=yr[mr],br[mr]=yr[gr],ur[gr]=br,br.d=Hn(br)}ur.d=Hn(ur)}function Hn({r:ur,l:cr}){return(ur?cr?Math.max(ur.d,cr.d):ur.d:cr?cr.d:0)+1}a(Ln.prototype,{add(ur){return Wn(this,ur),this},addKey(ur){return Vn(this,ur,ur),this},addKeys(ur){return ur.forEach((cr=>Vn(this,cr,cr))),this},[j](){return zn(this)}});const Qn={stack:"dbcore",level:0,create:ur=>{const cr=ur.schema.name,hr=new Ln(ur.MIN_KEY,ur.MAX_KEY);return{...ur,table:dr=>{const mr=ur.table(dr),{schema:gr}=mr,{primaryKey:br}=gr,{extractKey:yr,outbound:Tr}=br,vr={...mr,mutate:wr=>{const Er=wr.trans,Ar=Er.mutatedParts||(Er.mutatedParts={}),kr=jr=>{const Br=`idb://${cr}/${dr}/${jr}`;return Ar[Br]||(Ar[Br]=new Ln)},Dr=kr(""),Cr=kr(":dels"),{type:Or}=wr;let[qr,Hr]=wr.type==="deleteRange"?[wr.range]:wr.type==="delete"?[wr.keys]:wr.values.length<50?[[],wr.values]:[];const Lr=wr.trans._cache;return mr.mutate(wr).then((jr=>{if(n(qr)){Or!=="delete"&&(qr=jr.results),Dr.addKeys(qr);const Br=qn(qr,Lr);Br||Or==="add"||Cr.addKeys(qr),(Br||Hr)&&(function(Ur,Kr,Yr,Wr){function sa(ta){const oa=Ur(ta.name||"");function Ia(xa){return xa!=null?ta.extractKey(xa):null}const $r=xa=>ta.multiEntry&&n(xa)?xa.forEach((ua=>oa.addKey(ua))):oa.addKey(xa);(Yr||Wr).forEach(((xa,ua)=>{const Ba=Yr&&Ia(Yr[ua]),Xr=Wr&&Ia(Wr[ua]);$t(Ba,Xr)!==0&&(Ba!=null&&$r(Ba),Xr!=null&&$r(Xr))}))}Kr.indexes.forEach(sa)})(kr,gr,Br,Hr)}else if(qr){const Br={from:qr.lower,to:qr.upper};Cr.add(Br),Dr.add(Br)}else Dr.add(hr),Cr.add(hr),gr.indexes.forEach((Br=>kr(Br.name).add(hr)));return jr}))}},Sr=({query:{index:wr,range:Er}})=>{var Ar,kr;return[wr,new Ln((Ar=Er.lower)!==null&&Ar!==void 0?Ar:ur.MIN_KEY,(kr=Er.upper)!==null&&kr!==void 0?kr:ur.MAX_KEY)]},_r={get:wr=>[br,new Ln(wr.key)],getMany:wr=>[br,new Ln().addKeys(wr.keys)],count:Sr,query:Sr,openCursor:Sr};return t(_r).forEach((wr=>{vr[wr]=function(Er){const{subscr:Ar}=Oe;if(Ar){const kr=Hr=>{const Lr=`idb://${cr}/${dr}/${Hr}`;return Ar[Lr]||(Ar[Lr]=new Ln)},Dr=kr(""),Cr=kr(":dels"),[Or,qr]=_r[wr](Er);if(kr(Or.name||"").add(qr),!Or.isPrimaryKey){if(wr!=="count"){const Hr=wr==="query"&&Tr&&Er.values&&mr.query({...Er,values:!1});return mr[wr].apply(this,arguments).then((Lr=>{if(wr==="query"){if(Tr&&Er.values)return Hr.then((({result:Br})=>(Dr.addKeys(Br),Lr)));const jr=Er.values?Lr.result.map(yr):Lr.result;Er.values?Dr.addKeys(jr):Cr.addKeys(jr)}else if(wr==="openCursor"){const jr=Lr,Br=Er.values;return jr&&Object.create(jr,{key:{get:()=>(Cr.addKey(jr.primaryKey),jr.key)},primaryKey:{get(){const Ur=jr.primaryKey;return Cr.addKey(Ur),Ur}},value:{get:()=>(Br&&Dr.addKey(jr.primaryKey),jr.value)}})}return Lr}))}Cr.add(hr)}}return mr[wr].apply(this,arguments)}})),vr}}}};class Xn{constructor(cr,hr){this._middlewares={},this.verno=0;const dr=Xn.dependencies;this._options=hr={addons:Xn.addons,autoOpen:!0,indexedDB:dr.indexedDB,IDBKeyRange:dr.IDBKeyRange,...hr},this._deps={indexedDB:hr.indexedDB,IDBKeyRange:hr.IDBKeyRange};const{addons:mr}=hr;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const gr={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ee,dbReadyPromise:null,cancelOpen:ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var br;gr.dbReadyPromise=new je((yr=>{gr.dbReadyResolve=yr})),gr.openCanceller=new je(((yr,Tr)=>{gr.cancelOpen=Tr})),this._state=gr,this.name=cr,this.on=Dt(this,"populate","blocked","versionchange","close",{ready:[ue,ee]}),this.on.ready.subscribe=y(this.on.ready.subscribe,(yr=>(Tr,vr)=>{Xn.vip((()=>{const Sr=this._state;if(Sr.openComplete)Sr.dbOpenError||je.resolve().then(Tr),vr&&yr(Tr);else if(Sr.onReadyBeingFired)Sr.onReadyBeingFired.push(Tr),vr&&yr(Tr);else{yr(Tr);const _r=this;vr||yr((function wr(){_r.on.ready.unsubscribe(Tr),_r.on.ready.unsubscribe(wr)}))}}))})),this.Collection=(br=this,It(Vt.prototype,(function(yr,Tr){this.db=br;let vr=At,Sr=null;if(Tr)try{vr=Tr()}catch(Ar){Sr=Ar}const _r=yr._ctx,wr=_r.table,Er=wr.hook.reading.fire;this._ctx={table:wr,index:_r.index,isPrimKey:!_r.index||wr.schema.primKey.keyPath&&_r.index===wr.schema.primKey.name,range:vr,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Sr,or:_r.or,valueMapper:Er!==te?Er:null}}))),this.Table=(function(yr){return It(jt.prototype,(function(Tr,vr,Sr){this.db=yr,this._tx=Sr,this.name=Tr,this.schema=vr,this.hook=yr._allTables[Tr]?yr._allTables[Tr].hook:Dt(null,{creating:[se,ee],reading:[ne,te],updating:[oe,ee],deleting:[ie,ee]})}))})(this),this.Transaction=(function(yr){return It(an.prototype,(function(Tr,vr,Sr,_r,wr){this.db=yr,this.mode=Tr,this.storeNames=vr,this.schema=Sr,this.chromeTransactionDurability=_r,this.idbtrans=null,this.on=Dt(this,"complete","error","abort"),this.parent=wr||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new je(((Er,Ar)=>{this._resolve=Er,this._reject=Ar})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(Er=>{var Ar=this.active;return this.active=!1,this.on.error.fire(Er),this.parent?this.parent._reject(Er):Ar&&this.idbtrans&&this.idbtrans.abort(),ft(Er)}))}))})(this),this.Version=(function(yr){return It(On.prototype,(function(Tr){this.db=yr,this._cfg={version:Tr,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))})(this),this.WhereClause=(function(yr){return It(en.prototype,(function(Tr,vr,Sr){this.db=yr,this._ctx={table:Tr,index:vr===":id"?null:vr,or:Sr};const _r=yr._deps.indexedDB;if(!_r)throw new X.MissingAPI;this._cmp=this._ascending=_r.cmp.bind(_r),this._descending=(wr,Er)=>_r.cmp(Er,wr),this._max=(wr,Er)=>_r.cmp(wr,Er)>0?wr:Er,this._min=(wr,Er)=>_r.cmp(wr,Er)<0?wr:Er,this._IDBKeyRange=yr._deps.IDBKeyRange}))})(this),this.on("versionchange",(yr=>{yr.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(yr=>{!yr.newVersion||yr.newVersion<yr.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${yr.oldVersion/10}`)})),this._maxKey=hn(hr.IDBKeyRange),this._createTransaction=(yr,Tr,vr,Sr)=>new this.Transaction(yr,Tr,vr,this._options.chromeTransactionDurability,Sr),this._fireOnBlocked=yr=>{this.on("blocked").fire(yr),_t.filter((Tr=>Tr.name===this.name&&Tr!==this&&!Tr._state.vcFired)).map((Tr=>Tr.on("versionchange").fire(yr)))},this.use(Fn),this.use(Nn),this.use(Qn),this.use($n),this.vip=Object.create(this,{_vip:{value:!0}}),mr.forEach((yr=>yr(this)))}version(cr){if(isNaN(cr)||cr<.1)throw new X.Type("Given version is not a positive number");if(cr=Math.round(10*cr)/10,this.idbdb||this._state.isBeingOpened)throw new X.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,cr);const hr=this._versions;var dr=hr.filter((mr=>mr._cfg.version===cr))[0];return dr||(dr=new this.Version(cr),hr.push(dr),hr.sort(_n),dr.stores({}),this._state.autoSchema=!1,dr)}_whenReady(cr){return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?cr():new je(((hr,dr)=>{if(this._state.openComplete)return dr(new X.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void dr(new X.DatabaseClosed);this.open().catch(ee)}this._state.dbReadyPromise.then(hr,dr)})).then(cr)}use({stack:cr,create:hr,level:dr,name:mr}){mr&&this.unuse({stack:cr,name:mr});const gr=this._middlewares[cr]||(this._middlewares[cr]=[]);return gr.push({stack:cr,create:hr,level:dr??10,name:mr}),gr.sort(((br,yr)=>br.level-yr.level)),this}unuse({stack:cr,name:hr,create:dr}){return cr&&this._middlewares[cr]&&(this._middlewares[cr]=this._middlewares[cr].filter((mr=>dr?mr.create!==dr:!!hr&&mr.name!==hr))),this}open(){return Dn(this)}_close(){const cr=this._state,hr=_t.indexOf(this);if(hr>=0&&_t.splice(hr,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}cr.dbReadyPromise=new je((dr=>{cr.dbReadyResolve=dr})),cr.openCanceller=new je(((dr,mr)=>{cr.cancelOpen=mr}))}close(){this._close();const cr=this._state;this._options.autoOpen=!1,cr.dbOpenError=new X.DatabaseClosed,cr.isBeingOpened&&cr.cancelOpen(cr.dbOpenError)}delete(){const cr=arguments.length>0,hr=this._state;return new je(((dr,mr)=>{const gr=()=>{this.close();var br=this._deps.indexedDB.deleteDatabase(this.name);br.onsuccess=Ye((()=>{(function({indexedDB:yr,IDBKeyRange:Tr},vr){!An(yr)&&vr!==Pt&&Sn(yr,Tr).delete(vr).catch(ee)})(this._deps,this.name),dr()})),br.onerror=tn(mr),br.onblocked=this._fireOnBlocked};if(cr)throw new X.InvalidArgument("Arguments not allowed in db.delete()");hr.isBeingOpened?hr.dbReadyPromise.then(gr):gr()}))}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const cr=this._state.dbOpenError;return cr&&cr.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return t(this._allTables).map((cr=>this._allTables[cr]))}transaction(){const cr=Bn.apply(this,arguments);return this._transaction.apply(this,cr)}_transaction(cr,hr,dr){let mr=Oe.trans;mr&&mr.db===this&&cr.indexOf("!")===-1||(mr=null);const gr=cr.indexOf("?")!==-1;let br,yr;cr=cr.replace("!","").replace("?","");try{if(yr=hr.map((vr=>{var Sr=vr instanceof this.Table?vr.name:vr;if(typeof Sr!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Sr})),cr=="r"||cr===Kt)br=Kt;else{if(cr!="rw"&&cr!=Ot)throw new X.InvalidArgument("Invalid transaction mode: "+cr);br=Ot}if(mr){if(mr.mode===Kt&&br===Ot){if(!gr)throw new X.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");mr=null}mr&&yr.forEach((vr=>{if(mr&&mr.storeNames.indexOf(vr)===-1){if(!gr)throw new X.SubTransaction("Table "+vr+" not included in parent transaction.");mr=null}})),gr&&mr&&!mr.active&&(mr=null)}}catch(vr){return mr?mr._promise(null,((Sr,_r)=>{_r(vr)})):ft(vr)}const Tr=Tn.bind(null,this,br,yr,mr,dr);return mr?mr._promise(br,Tr,"lock"):Oe.trans?at(Oe.transless,(()=>this._whenReady(Tr))):this._whenReady(Tr)}table(cr){if(!o(this._allTables,cr))throw new X.InvalidTable(`Table ${cr} does not exist`);return this._allTables[cr]}}const Jn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Zn{constructor(cr){this._subscribe=cr}subscribe(cr,hr,dr){return this._subscribe(cr&&typeof cr!="function"?cr:{next:cr,error:hr,complete:dr})}[Jn](){return this}}function er(ur,cr){return t(cr).forEach((hr=>{Wn(ur[hr]||(ur[hr]=new Ln),cr[hr])})),ur}function tr(ur){let cr,hr=!1;const dr=new Zn((mr=>{const gr=T(ur);let br=!1,yr={},Tr={};const vr={get closed(){return br},unsubscribe:()=>{br=!0,on.storagemutated.unsubscribe(Er)}};mr.start&&mr.start(vr);let Sr=!1,_r=!1;function wr(){return t(Tr).some((kr=>yr[kr]&&Yn(yr[kr],Tr[kr])))}const Er=kr=>{er(yr,kr),wr()&&Ar()},Ar=()=>{if(Sr||br)return;yr={};const kr={},Dr=(function(Cr){gr&&et();const Or=()=>Ze(ur,{subscr:Cr,trans:null}),qr=Oe.trans?at(Oe.transless,Or):Or();return gr&&qr.then(tt,tt),qr})(kr);_r||(on(rn,Er),_r=!0),Sr=!0,Promise.resolve(Dr).then((Cr=>{hr=!0,cr=Cr,Sr=!1,br||(wr()?Ar():(yr={},Tr=kr,mr.next&&mr.next(Cr)))}),(Cr=>{Sr=!1,hr=!1,mr.error&&mr.error(Cr),vr.unsubscribe()}))};return Ar(),vr}));return dr.hasValue=()=>hr,dr.getValue=()=>cr,dr}let nr;try{nr={indexedDB:e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,IDBKeyRange:e.IDBKeyRange||e.webkitIDBKeyRange}}catch(ur){nr={indexedDB:null,IDBKeyRange:null}}const rr=Xn;function sr(ur){let cr=ir;try{ir=!0,on.storagemutated.fire(ur)}finally{ir=cr}}a(rr,{...Z,delete:ur=>new rr(ur,{addons:[]}).delete(),exists:ur=>new rr(ur,{addons:[]}).open().then((cr=>(cr.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(ur){try{return(function({indexedDB:cr,IDBKeyRange:hr}){return An(cr)?Promise.resolve(cr.databases()).then((dr=>dr.map((mr=>mr.name)).filter((mr=>mr!==Pt)))):Sn(cr,hr).toCollection().primaryKeys()})(rr.dependencies).then(ur)}catch{return ft(new X.MissingAPI)}},defineClass:()=>function(ur){r(this,ur)},ignoreTransaction:ur=>Oe.trans?at(Oe.transless,ur):ur(),vip:Cn,async:function(ur){return function(){try{var cr=In(ur.apply(this,arguments));return cr&&typeof cr.then=="function"?cr:je.resolve(cr)}catch(hr){return ft(hr)}}},spawn:function(ur,cr,hr){try{var dr=In(ur.apply(hr,cr||[]));return dr&&typeof dr.then=="function"?dr:je.resolve(dr)}catch(mr){return ft(mr)}},currentTransaction:{get:()=>Oe.trans||null},waitFor:function(ur,cr){const hr=je.resolve(typeof ur=="function"?rr.ignoreTransaction(ur):ur).timeout(cr||6e4);return Oe.trans?Oe.trans.waitFor(hr):hr},Promise:je,debug:{get:()=>R,set:ur=>{F(ur,ur==="dexie"?()=>!0:Et)}},derive:c,extend:r,props:a,override:y,Events:Dt,on,liveQuery:tr,extendObservabilitySet:er,getByKeyPath:b,setByKeyPath:_,delByKeyPath:function(ur,cr){typeof cr=="string"?_(ur,cr,void 0):"length"in cr&&[].map.call(cr,(function(hr){_(ur,hr,void 0)}))},shallowClone:w,deepClone:O,getObjectDiff:Mn,cmp:$t,asap:v,minKey:vt,addons:[],connections:_t,errnames:H,dependencies:nr,semVer:yt,version:yt.split(".").map((ur=>parseInt(ur))).reduce(((ur,cr,hr)=>ur+cr/Math.pow(10,2*hr)))}),rr.maxKey=hn(rr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(on(rn,(ur=>{if(!ir){let cr;wt?(cr=document.createEvent("CustomEvent"),cr.initCustomEvent(sn,!0,!0,ur)):cr=new CustomEvent(sn,{detail:ur}),ir=!0,dispatchEvent(cr),ir=!1}})),addEventListener(sn,(({detail:ur})=>{ir||sr(ur)})));let ir=!1;if(typeof BroadcastChannel<"u"){const ur=new BroadcastChannel(sn);typeof ur.unref=="function"&&ur.unref(),on(rn,(cr=>{ir||ur.postMessage(cr)})),ur.onmessage=cr=>{cr.data&&sr(cr.data)}}else if(typeof self<"u"&&typeof navigator<"u"){on(rn,(cr=>{try{ir||(typeof localStorage<"u"&&localStorage.setItem(sn,JSON.stringify({trig:Math.random(),changedParts:cr})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((hr=>hr.postMessage({type:sn,changedParts:cr}))))}catch{}})),typeof addEventListener<"u"&&addEventListener("storage",(cr=>{if(cr.key===sn){const hr=JSON.parse(cr.newValue);hr&&sr(hr.changedParts)}}));const ur=self.document&&navigator.serviceWorker;ur&&ur.addEventListener("message",(function({data:cr}){cr&&cr.type===sn&&sr(cr.changedParts)}))}je.rejectionMapper=function(ur,cr){if(!ur||ur instanceof W||ur instanceof TypeError||ur instanceof SyntaxError||!ur.name||!J[ur.name])return ur;var hr=new J[ur.name](cr||ur.message,ur);return"stack"in ur&&l(hr,"stack",{get:function(){return this.inner.stack}}),hr},F(R,Et);function useObservable(ur,cr,hr){var dr,mr;typeof ur=="function"?(dr=cr||[],mr=hr):(dr=[],mr=cr);var gr=React.useRef({hasResult:!1,result:mr,error:null}),br=React.useReducer(function(vr){return vr+1},0);br[0];var yr=br[1],Tr=React.useMemo(function(){var vr=typeof ur=="function"?ur():ur;if(!vr||typeof vr.subscribe!="function")throw ur===vr?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!gr.current.hasResult&&typeof window<"u"&&(typeof vr.hasValue!="function"||vr.hasValue()))if(typeof vr.getValue=="function")gr.current.result=vr.getValue(),gr.current.hasResult=!0;else{var Sr=vr.subscribe(function(_r){gr.current.result=_r,gr.current.hasResult=!0});typeof Sr=="function"?Sr():Sr.unsubscribe()}return vr},dr);if(React.useDebugValue(gr.current.result),React.useEffect(function(){var vr=Tr.subscribe(function(Sr){var _r=gr.current;(_r.error!==null||_r.result!==Sr)&&(_r.error=null,_r.result=Sr,_r.hasResult=!0,yr())},function(Sr){var _r=gr.current;_r.error!==Sr&&(_r.error=Sr,yr())});return typeof vr=="function"?vr:vr.unsubscribe.bind(vr)},dr),gr.current.error)throw gr.current.error;return gr.current.result}function useLiveQuery(ur,cr,hr){return useObservable(function(){return tr(ur)},cr||[],hr)}const db=new Xn("ReactPodDatabase");db.version(1).stores({songs:"++id, title, artist, album, rating",playlists:"++id, &name"});db.version(2).stores({songs:"++id, title, artist, album, rating",playlists:"++id, &name",focusSessions:"++id, endTimestamp",focusSettings:"id"}).upgrade(ur=>{});const PlayIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.647c1.295.742 1.295 2.545 0 3.286L7.279 20.99c-1.25.72-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"})}),PauseIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 0 1 .75.75v12a.75.75 0 0 1-1.5 0V6a.75.75 0 0 1 .75-.75Zm9 0a.75.75 0 0 1 .75.75v12a.75.75 0 0 1-1.5 0V6a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),NextIcon=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:[jsxRuntimeExports.jsx("path",{d:"M5.25 5.653c0-1.426 1.529-2.33 2.779-1.643l7.58 4.347a2.25 2.25 0 0 1 0 3.286l-7.58 4.347c-1.25.72-2.779-.217-2.779-1.643V5.653Z"}),jsxRuntimeExports.jsx("path",{d:"M18.75 5.25a.75.75 0 0 0-.75.75v12a.75.75 0 0 0 1.5 0V6a.75.75 0 0 0-.75-.75Z"})]}),PrevIcon=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:[jsxRuntimeExports.jsx("path",{d:"M18.75 18.347c0 1.426-1.529 2.33-2.779 1.643l-7.58-4.347a2.25 2.25 0 0 1 0-3.286l7.58-4.347c1.25-.72 2.779.217 2.779 1.643v10.694Z"}),jsxRuntimeExports.jsx("path",{d:"M5.25 18.75a.75.75 0 0 1 .75-.75v-12a.75.75 0 0 1-1.5 0v12a.75.75 0 0 1 .75-.75Z"})]}),SUPPORTED_EXTENSIONS=[".mp3",".m4a",".flac",".wav",".aac",".ogg"],BODY_COLORS=[{name:"White",class:"bg-gradient-to-b from-gray-100 to-gray-300"},{name:"Black",class:"bg-gradient-to-b from-gray-800 to-black"},{name:"Silver",class:"bg-gradient-to-b from-gray-400 to-gray-600"},{name:"Blue",class:"bg-gradient-to-b from-blue-300 to-blue-500"},{name:"Gold",class:"bg-gradient-to-b from-yellow-300 to-yellow-500"},{name:"Green",class:"bg-gradient-to-b from-green-300 to-green-500"},{name:"Lime",class:"bg-gradient-to-b from-lime-300 to-lime-500"},{name:"Pink",class:"bg-gradient-to-b from-pink-300 to-pink-500"},{name:"Purple",class:"bg-gradient-to-b from-purple-300 to-purple-500"},{name:"Red",class:"bg-gradient-to-b from-red-400 to-red-600"}],WHEEL_COLORS=[{name:"Gray",class:"bg-gray-800"},{name:"Black",class:"bg-black"},{name:"Blue",class:"bg-blue-800"},{name:"Green",class:"bg-green-700"},{name:"Orange",class:"bg-orange-700"},{name:"Purple",class:"bg-purple-800"},{name:"Red",class:"bg-red-700"}],DEFAULT_COLORS={body:BODY_COLORS[0].class,wheel:WHEEL_COLORS[0].class},DEFAULT_FOCUS_SETTINGS={id:0,workMinutes:25,shortBreakMinutes:5,longBreakMinutes:15,longBreakInterval:4,tickingSound:!1,fullscreenBreak:!0,autoStart:!0},formatTime=ur=>{const cr=Math.floor(ur);if(isNaN(cr)||cr<0)return"0:00";const hr=Math.floor(cr/60),dr=cr%60;return`${hr}:${dr.toString().padStart(2,"0")}`},getInitialBallVelocity=ur=>{const cr=Math.random()*2*Math.PI;return{x:0,y:0,dx:Math.cos(cr)*ur,dy:Math.sin(cr)*ur}},usePlayback=({onTrackEnd:ur,repeatMode:cr})=>{const hr=reactExports.useRef(new Audio),dr=reactExports.useRef(null),[mr,gr]=reactExports.useState(!1),[br,yr]=reactExports.useState(0),[Tr,vr]=reactExports.useState(0);reactExports.useEffect(()=>{const Dr=hr.current;Dr.loop=cr==="one"},[cr]),reactExports.useEffect(()=>{const Dr=hr.current,Cr=()=>yr(Dr.currentTime),Or=()=>vr(Dr.duration),qr=()=>ur();return Dr.addEventListener("timeupdate",Cr),Dr.addEventListener("loadedmetadata",Or),Dr.addEventListener("ended",qr),()=>{Dr.removeEventListener("timeupdate",Cr),Dr.removeEventListener("loadedmetadata",Or),Dr.removeEventListener("ended",qr)}},[ur]);const Sr=reactExports.useCallback(Dr=>{dr.current=Dr,hr.current.src=Dr,hr.current.play().then(()=>gr(!0)).catch(Cr=>console.error("Playback failed",Cr))},[]),_r=reactExports.useCallback(()=>{hr.current.pause(),gr(!1)},[]),wr=reactExports.useCallback(()=>{hr.current.currentSrc?hr.current.play().then(()=>gr(!0)).catch(Dr=>console.error("Resume failed",Dr)):dr.current&&Sr(dr.current)},[Sr]),Er=reactExports.useCallback(Dr=>{hr.current.volume=Dr},[]),Ar=reactExports.useCallback(Dr=>{hr.current.currentTime=Dr},[]),kr=reactExports.useCallback(()=>{const Dr=hr.current;Dr.pause(),Dr.src="",gr(!1),yr(0),vr(0)},[]);return{isPlaying:mr,currentTime:br,duration:Tr,play:Sr,pause:_r,resume:wr,setVolume:Er,seek:Ar,stop:kr}},useMediaSession=({song:ur,isPlaying:cr,onPlay:hr,onPause:dr,onNext:mr,onPrev:gr})=>{reactExports.useEffect(()=>{if(!("mediaSession"in navigator))return;const br=navigator.mediaSession;if(ur){let yr;if(ur.artwork){const Tr=new Blob([ur.artwork.data],{type:ur.artwork.format});yr=URL.createObjectURL(Tr)}return br.metadata=new MediaMetadata({title:ur.title,artist:ur.artist,album:ur.album,artwork:yr?[{src:yr,type:ur.artwork.format}]:[]}),()=>{yr&&URL.revokeObjectURL(yr)}}else br.metadata=null},[ur]),reactExports.useEffect(()=>{"mediaSession"in navigator&&(navigator.mediaSession.playbackState=cr?"playing":"paused")},[cr]),reactExports.useEffect(()=>{if(!("mediaSession"in navigator))return;const br=navigator.mediaSession;try{br.setActionHandler("play",hr),br.setActionHandler("pause",dr),br.setActionHandler("nexttrack",mr),br.setActionHandler("previoustrack",gr)}catch(yr){console.error("Failed to set media session handlers:",yr)}return()=>{try{br.setActionHandler("play",null),br.setActionHandler("pause",null),br.setActionHandler("nexttrack",null),br.setActionHandler("previoustrack",null)}catch(yr){console.error("Failed to clear media session handlers:",yr)}}},[hr,dr,mr,gr])},Screen=reactExports.memo(({children:ur,title:cr,isFlashing:hr})=>jsxRuntimeExports.jsxs("div",{className:"w-full h-1/2 bg-gray-900 rounded-t-lg p-1.5 shadow-inner shadow-black relative",children:[jsxRuntimeExports.jsxs("div",{className:"h-full w-full bg-gradient-to-b from-[#d7e5f4] to-white rounded-sm overflow-hidden flex flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"w-full bg-gradient-to-b from-gray-200 to-gray-400 border-b border-gray-500 py-0.5 px-2 flex justify-between items-center shrink-0",children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-sm text-gray-800 truncate pr-2",children:cr}),jsxRuntimeExports.jsx("div",{className:"w-6 h-3 border-2 border-gray-800 rounded-sm flex items-center p-px flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-green-400 rounded-xs"})})]}),jsxRuntimeExports.jsx("main",{className:"flex-grow overflow-y-auto",children:ur})]}),hr&&jsxRuntimeExports.jsx("div",{className:"absolute inset-1.5 rounded-sm bg-blue-400 pointer-events-none animate-flash-overlay"})]})),ClickWheel=reactExports.memo(({onScroll:ur,onMenuClick:cr,onPlayPauseClick:hr,onNextClick:dr,onPrevClick:mr,onSelectClick:gr,onSelectLongPress:br,isPlaying:yr,wheelClass:Tr})=>{const vr=reactExports.useRef(null),Sr=reactExports.useRef(null),_r=reactExports.useRef(ur);_r.current=ur;const wr=Ar=>{Ar.preventDefault(),br&&(Sr.current=window.setTimeout(()=>{br(),Sr.current=null},500))},Er=Ar=>{Ar.preventDefault(),Sr.current&&(clearTimeout(Sr.current),Sr.current=null,gr())};return reactExports.useEffect(()=>{const Ar=vr.current;if(!Ar)return;let kr=!1,Dr=0,Cr=0;const Or=10,qr=Br=>{const Ur=Ar.getBoundingClientRect(),Kr=Ur.left+Ur.width/2,Yr=Ur.top+Ur.height/2,Wr="touches"in Br?Br.touches[0].clientX:Br.clientX,sa="touches"in Br?Br.touches[0].clientY:Br.clientY;return Math.atan2(sa-Yr,Wr-Kr)*(180/Math.PI)},Hr=Br=>{if(!kr)return;Br.preventDefault();const Ur=qr(Br);let Kr=Ur-Dr;if(Kr>180&&(Kr-=360),Kr<-180&&(Kr+=360),Dr=Ur,Cr+=Kr,Math.abs(Cr)>=Or){const Yr=Math.sign(Cr);_r.current(Yr),Cr-=Or*Yr}},Lr=Br=>{Br.preventDefault(),kr=!1,document.removeEventListener("mousemove",Hr),document.removeEventListener("mouseup",Lr),document.removeEventListener("touchmove",Hr),document.removeEventListener("touchend",Lr)},jr=Br=>{Br.target.closest("button")||(Br.preventDefault(),kr=!0,Dr=qr(Br),Cr=0,document.addEventListener("mousemove",Hr,{passive:!1}),document.addEventListener("mouseup",Lr,{passive:!1}),document.addEventListener("touchmove",Hr,{passive:!1}),document.addEventListener("touchend",Lr,{passive:!1}))};return Ar.addEventListener("mousedown",jr),Ar.addEventListener("touchstart",jr,{passive:!1}),()=>{Ar.removeEventListener("mousedown",jr),Ar.removeEventListener("touchstart",jr)}},[]),jsxRuntimeExports.jsx("div",{className:"w-full h-1/2 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{ref:vr,className:`w-56 h-56 ${Tr} rounded-full relative shadow-lg border-2 border-black flex items-center justify-center select-none touch-none`,children:[jsxRuntimeExports.jsx("button",{onClick:cr,className:"absolute top-4 text-gray-100 font-bold text-sm tracking-wider",children:"BACK"}),jsxRuntimeExports.jsx("button",{onClick:dr,className:"absolute right-4 text-gray-100",children:jsxRuntimeExports.jsx(NextIcon,{})}),jsxRuntimeExports.jsx("button",{onClick:mr,className:"absolute left-4 text-gray-100",children:jsxRuntimeExports.jsx(PrevIcon,{})}),jsxRuntimeExports.jsx("button",{onClick:hr,className:"absolute bottom-4 text-gray-100",children:yr?jsxRuntimeExports.jsx(PauseIcon,{}):jsxRuntimeExports.jsx(PlayIcon,{})}),jsxRuntimeExports.jsx("button",{"aria-label":"Select",onMouseDown:wr,onMouseUp:Er,onTouchStart:wr,onTouchEnd:Er,className:"w-20 h-20 bg-gray-500 rounded-full flex items-center justify-center shadow-inner"})]})})}),StarDisplay=reactExports.memo(({rating:ur,active:cr})=>!ur||ur<1?null:jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-0.5",children:Array.from({length:5}).map((hr,dr)=>jsxRuntimeExports.jsx("span",{className:`block w-1.5 h-1.5 rounded-full ${dr<ur?cr?"bg-white":"bg-gray-700":cr?"bg-blue-300":"bg-gray-400"}`},dr))})),MenuView=reactExports.memo(({items:ur,activeIndex:cr})=>{const hr=reactExports.useRef(null);return reactExports.useEffect(()=>{var mr;const dr=(mr=hr.current)==null?void 0:mr.children[cr];dr&&dr.scrollIntoView({block:"nearest",behavior:"instant"})},[cr]),jsxRuntimeExports.jsx("ul",{ref:hr,className:"w-full h-full text-gray-800 font-bold text-base overflow-y-hidden",children:ur.map((dr,mr)=>jsxRuntimeExports.jsxs("li",{className:`px-2 py-0.5 flex justify-between items-center ${mr===cr?"bg-blue-500 text-white rounded-sm":""}`,children:[jsxRuntimeExports.jsx("span",{className:"truncate",children:dr.label}),jsxRuntimeExports.jsxs("div",{className:"flex items-center shrink-0 space-x-2",children:[dr.ratingDisplay,dr.subtext&&jsxRuntimeExports.jsx("span",{className:`text-sm font-normal ${mr===cr?"text-blue-100":"text-gray-600"}`,children:dr.subtext}),dr.hasArrow&&jsxRuntimeExports.jsx("span",{className:`font-sans font-bold ${mr===cr?"text-white":"text-gray-500"}`,children:">"})]})]},`${dr.label}-${dr.songId??mr}`))})}),StarRating=reactExports.memo(({rating:ur,active:cr})=>jsxRuntimeExports.jsx("div",{className:`w-full flex justify-center items-center my-0.5 p-1 rounded ${cr?"border border-blue-500":""}`,children:Array.from({length:5}).map((hr,dr)=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-6 h-6 ${dr<ur?"text-blue-500":"text-gray-400"}`,children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.007z",clipRule:"evenodd"})},dr))})),NowPlayingView=reactExports.memo(({song:ur,currentTime:cr,duration:hr,volume:dr,mode:mr,trackNumber:gr,totalTracks:br})=>{const yr=hr>0?cr/hr*100:0,[Tr,vr]=reactExports.useState();return reactExports.useEffect(()=>{if(ur.artwork){const Sr=new Blob([ur.artwork.data],{type:ur.artwork.format}),_r=URL.createObjectURL(Sr);return vr(_r),()=>URL.revokeObjectURL(_r)}else vr(void 0)},[ur.artwork]),jsxRuntimeExports.jsxs("div",{className:"px-2 pt-2 pb-[calc(0.5rem+env(safe-area-inset-bottom))] h-full flex flex-col text-gray-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex-grow flex items-start space-x-2 min-h-0",children:[jsxRuntimeExports.jsx("div",{className:"w-2/5 aspect-square bg-gray-300 rounded-sm shadow-md flex-shrink-0",children:Tr?jsxRuntimeExports.jsx("img",{src:Tr,alt:ur.album,className:"w-full h-full object-cover rounded-sm"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM6.75 9.25a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-4.5z",clipRule:"evenodd"})})})}),jsxRuntimeExports.jsxs("div",{className:"w-3/5 flex flex-col space-y-1 overflow-hidden pt-1",children:[jsxRuntimeExports.jsx("p",{className:"font-bold truncate",children:ur.title}),jsxRuntimeExports.jsx("p",{className:"text-sm truncate",children:ur.artist}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 truncate",children:ur.album})]})]}),br>0&&jsxRuntimeExports.jsxs("p",{className:"text-center text-xs font-semibold text-gray-600 shrink-0",children:[gr," of ",br]}),jsxRuntimeExports.jsxs("div",{className:"shrink-0 space-y-2 pt-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs font-semibold",children:[jsxRuntimeExports.jsx("span",{children:formatTime(cr)}),jsxRuntimeExports.jsxs("span",{children:["-",formatTime(hr-cr)]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-400 rounded-full h-2 my-0.5",children:jsxRuntimeExports.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${yr}%`}})})]}),jsxRuntimeExports.jsxs("div",{className:"pt-1",children:[jsxRuntimeExports.jsx("p",{className:"text-center text-xs font-semibold",children:mr==="rating"?"Rating":"Volume"}),mr==="rating"?jsxRuntimeExports.jsx(StarRating,{rating:ur.rating||0,active:!0}):jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-400 rounded-full h-2 my-0.5",children:jsxRuntimeExports.jsx("div",{className:"bg-gray-700 h-2 rounded-full",style:{width:`${dr*100}%`}})})]})]})]})}),FileLoadView=reactExports.memo(({isLoading:ur,loadingProgress:cr,onLoad:hr,isInitialLoad:dr})=>jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-800 p-4",children:ur?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 border-4 border-gray-400 border-t-gray-800 rounded-full animate-spin mb-4"}),jsxRuntimeExports.jsx("p",{className:"font-bold",children:"Importing Library..."}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:cr})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold",children:dr?"ReactPod":"Add Music"}),jsxRuntimeExports.jsx("p",{className:"mt-2 mb-4",children:dr?"A Classic Music Experience":"Add more songs to your library."}),jsxRuntimeExports.jsx("button",{onClick:hr,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg shadow",children:dr?"Load Music":"Select Music Folder"}),jsxRuntimeExports.jsx("p",{className:"text-xs mt-4 text-gray-500",children:dr?"Select your music folder to build your library. This is a one-time setup.":"New songs will be added. Duplicates will be ignored."})]})})),ClearingLibraryView=reactExports.memo(({isClearing:ur,message:cr})=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-800 p-4",children:[ur&&jsxRuntimeExports.jsx("div",{className:"w-8 h-8 border-4 border-gray-400 border-t-gray-800 rounded-full animate-spin mb-4"}),jsxRuntimeExports.jsx("p",{className:"font-bold",children:cr})]})),CoverFlowItemDisplay=reactExports.memo(({item:ur,isReflected:cr})=>{const[hr,dr]=reactExports.useState();reactExports.useEffect(()=>{if(ur.artwork){const gr=new Blob([ur.artwork.data],{type:ur.artwork.format}),br=URL.createObjectURL(gr);return dr(br),()=>URL.revokeObjectURL(br)}else dr(void 0)},[ur.artwork]);const mr=cr?"[-webkit-box-reflect:below_1px_linear-gradient(transparent,transparent_80%,rgba(255,255,255,0.4))]":"";return jsxRuntimeExports.jsx("div",{className:`w-full h-full bg-gray-300 rounded-sm shadow-md flex items-center justify-center ${mr}`,children:hr?jsxRuntimeExports.jsx("img",{src:hr,alt:ur.album,className:"w-full h-full object-cover rounded-sm"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 rounded-sm",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM6.75 9.25a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-4.5z",clipRule:"evenodd"})})})})}),CoverFlowView=reactExports.memo(({items:ur,activeIndex:cr})=>{if(ur.length===0)return jsxRuntimeExports.jsx("div",{className:"p-4 text-center font-bold text-gray-600",children:"No Albums Found"});const hr=ur[cr];return jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col justify-center items-center overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"w-full h-full relative flex items-center justify-center",style:{perspective:"600px"},children:jsxRuntimeExports.jsx("div",{className:"absolute transition-transform duration-500 ease-out",style:{transformStyle:"preserve-3d",transform:`translateX(calc(50% - ${cr*75}px - 50px))`},children:ur.map((dr,mr)=>{const gr=mr-cr;if(!(Math.abs(gr)<6))return null;const yr=ur.length-Math.abs(gr);let Tr;return gr===0?Tr="rotateY(0deg) translateZ(50px)":gr>0?Tr="rotateY(-50deg) translateX(30px)":Tr="rotateY(50deg) translateX(-30px)",jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 transition-all duration-500 ease-out",style:{width:"100px",height:"100px",left:`${mr*75}px`,transform:Tr,zIndex:yr},children:jsxRuntimeExports.jsx(CoverFlowItemDisplay,{item:dr,isReflected:gr===0})},`${dr.album}-${mr}`)})})}),jsxRuntimeExports.jsxs("div",{className:"relative shrink-0 w-full text-center pb-2 pt-4 px-2 z-20 bg-gradient-to-t from-white via-white to-transparent",children:[jsxRuntimeExports.jsx("p",{className:"font-bold truncate text-sm text-gray-800",children:(hr==null?void 0:hr.album)??""}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 truncate text-xs",children:(hr==null?void 0:hr.artist)??""})]})]})}),SearchView=reactExports.memo(({query:ur,items:cr,activeIndex:hr})=>jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"shrink-0 px-2 py-0.5 bg-gray-300 border-b border-gray-400",children:jsxRuntimeExports.jsx("p",{className:"font-bold text-gray-800 truncate h-5 flex items-center",children:ur||jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Type to search..."})})}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-hidden",children:jsxRuntimeExports.jsx(MenuView,{items:cr,activeIndex:hr})})]})),PADDLE_ARC_ANGLE=45,polarToCartesian=(ur,cr,hr,dr)=>{const mr=(dr-90)*Math.PI/180;return{x:ur+hr*Math.cos(mr),y:cr+hr*Math.sin(mr)}},describeArc=(ur,cr,hr,dr,mr)=>{const gr=polarToCartesian(ur,cr,hr,mr),br=polarToCartesian(ur,cr,hr,dr),yr=mr-dr<=180?"0":"1";return`M ${gr.x} ${gr.y} A ${hr} ${hr} 0 ${yr} 0 ${br.x} ${br.y}`},BounceGameView=ur=>{const{gameState:cr,score:hr,highScore:dr,paddleAngle:mr,ball:gr,ballRef:br,paddleRef:yr}=ur,Tr=reactExports.useMemo(()=>{const vr=mr-PADDLE_ARC_ANGLE/2,Sr=mr+PADDLE_ARC_ANGLE/2;return describeArc(50,50,48,vr,Sr)},[mr]);return jsxRuntimeExports.jsxs("div",{className:"w-full h-full bg-gray-900 relative flex items-center justify-center text-white font-mono overflow-hidden select-none p-2",children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("radialGradient",{id:"arenaGradient",children:[jsxRuntimeExports.jsx("stop",{offset:"80%",stopColor:"#1a202c"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#2d3748"})]})}),jsxRuntimeExports.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"url(#arenaGradient)"}),jsxRuntimeExports.jsx("circle",{cx:"50",cy:"50",r:"49.5",stroke:"white",strokeWidth:"0.5",fill:"none",opacity:"0.5"}),cr==="playing"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("path",{ref:yr,d:Tr,stroke:"#38bdf8",strokeWidth:"3",fill:"none",strokeLinecap:"round"}),jsxRuntimeExports.jsx("circle",{ref:br,cx:50+gr.x,cy:50+gr.y,r:"2.5",fill:"white"})]})]}),jsxRuntimeExports.jsxs("div",{className:"absolute top-2 left-3 font-bold",children:["Score: ",hr]}),jsxRuntimeExports.jsxs("div",{className:"absolute top-2 right-3 font-bold",children:["Best: ",dr]}),(cr==="paused"||cr==="idle")&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:jsxRuntimeExports.jsx("p",{className:"text-xl font-bold tracking-widest",children:cr==="paused"?"PAUSED":""})})]})},FocusTimerView=reactExports.memo(({state:ur,settings:cr,stats:hr})=>{const dr=(ur.sessionType==="work"?cr.workMinutes:ur.sessionType==="shortBreak"?cr.shortBreakMinutes:ur.sessionType==="longBreak"?cr.longBreakMinutes:1)*60,mr=dr>0?(dr-ur.timeRemaining)/dr*100:0,gr=ur.sessionType.replace(/([A-Z])/g," $1");return jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col justify-between items-center text-center p-4 text-gray-800",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-lg capitalize",children:gr}),jsxRuntimeExports.jsx("p",{className:"text-5xl font-mono tracking-tighter my-2",children:formatTime(ur.timeRemaining)}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-400 rounded-full h-2 my-2",children:jsxRuntimeExports.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${mr}%`}})})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:Array.from({length:cr.longBreakInterval}).map((br,yr)=>jsxRuntimeExports.jsx("span",{className:`block w-4 h-4 rounded-full ${yr<ur.workIntervalsInCycle?"bg-blue-500":"bg-gray-400"}`},yr))}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:"Today's Focus"}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Intervals: ",hr.workIntervals," | Time: ",hr.totalTime,"m"]})]})]})}),FullscreenBreakView=reactExports.memo(({state:ur})=>jsxRuntimeExports.jsxs("div",{className:"h-full w-full bg-blue-900 text-white flex flex-col items-center justify-center p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold mb-4",children:ur.sessionType==="shortBreak"?"Short Break":"Long Break"}),jsxRuntimeExports.jsx("p",{className:"text-6xl font-mono tracking-tighter",children:formatTime(ur.timeRemaining)}),jsxRuntimeExports.jsx("p",{className:"mt-4 animate-pulse",children:"Relax..."})]})),FocusStatsView=reactExports.memo(()=>{const[ur,cr]=reactExports.useState(null);if(reactExports.useEffect(()=>{db.focusSessions.orderBy("endTimestamp").reverse().toArray().then(cr)},[]),ur===null)return jsxRuntimeExports.jsx("div",{className:"p-4 text-center font-bold text-gray-600",children:"Loading stats..."});if(ur.length===0)return jsxRuntimeExports.jsx("div",{className:"p-4 text-center font-bold text-gray-600",children:"No focus sessions completed yet."});const hr=new Date;hr.setHours(0,0,0,0);const dr=ur.filter(_r=>_r.endTimestamp>=hr.getTime()&&_r.type==="work"),mr=dr.reduce((_r,wr)=>_r+wr.durationMinutes,0),gr=new Date;gr.setDate(gr.getDate()-gr.getDay()),gr.setHours(0,0,0,0);const br=ur.filter(_r=>_r.endTimestamp>=gr.getTime()&&_r.type==="work"),yr=br.reduce((_r,wr)=>_r+wr.durationMinutes,0),Tr=new Date;Tr.setDate(1),Tr.setHours(0,0,0,0);const vr=ur.filter(_r=>_r.endTimestamp>=Tr.getTime()&&_r.type==="work"),Sr=vr.reduce((_r,wr)=>_r+wr.durationMinutes,0);return jsxRuntimeExports.jsxs("div",{className:"p-4 text-gray-800 font-semibold space-y-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg text-center border-b pb-1 mb-2",children:"Focus Stats"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{children:"Today"}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-normal pl-2",children:["Intervals: ",dr.length]}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-normal pl-2",children:["Time: ",Math.floor(mr/60),"h ",mr%60,"m"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{children:"This Week"}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-normal pl-2",children:["Intervals: ",br.length]}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-normal pl-2",children:["Time: ",Math.floor(yr/60),"h ",yr%60,"m"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{children:"This Month"}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-normal pl-2",children:["Intervals: ",vr.length]}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-normal pl-2",children:["Time: ",Math.floor(Sr/60),"h ",Sr%60,"m"]})]})]})}),App=()=>{const[ur,cr]=reactExports.useState([]),[hr,dr]=reactExports.useState(!0),[mr,gr]=reactExports.useState(""),[br,yr]=reactExports.useState([{id:"load",activeIndex:0}]),[Tr,vr]=reactExports.useState(!1),[Sr,_r]=reactExports.useState(null),[wr,Er]=reactExports.useState([]),[Ar,kr]=reactExports.useState(!1),[Dr,Cr]=reactExports.useState("off"),[Or,qr]=reactExports.useState(.75),[Hr,Lr]=reactExports.useState("volume"),[jr,Br]=reactExports.useState(""),[Ur,Kr]=reactExports.useState({isClearing:!1,message:""}),[Yr,Wr]=reactExports.useState(0),[sa,ta]=reactExports.useState(()=>({gameState:"idle",score:0,highScore:parseInt(localStorage.getItem("bounceHighScore")||"0",10),paddleAngle:0,ball:{x:0,y:0,dx:0,dy:0},ballSpeed:.8})),[oa,Ia]=reactExports.useState(null),[$r,xa]=reactExports.useState({isActive:!1,sessionType:"idle",timeRemaining:((oa==null?void 0:oa.workMinutes)??25)*60,workIntervalsInCycle:0}),[ua,Ba]=reactExports.useState({workIntervals:0,totalTime:0}),[Xr,Fr]=reactExports.useState(()=>{try{const wa=localStorage.getItem("ipodColors");return wa?JSON.parse(wa):DEFAULT_COLORS}catch(wa){return console.error("Could not load ipod colors",wa),DEFAULT_COLORS}}),Qr=reactExports.useRef(null),ra=reactExports.useRef(null),Ta=reactExports.useRef(),Ma=reactExports.useRef(null),La=reactExports.useRef(null),za=reactExports.useRef(sa),ya=reactExports.useRef(null);reactExports.useEffect(()=>{za.current=sa},[sa]);const pa=useLiveQuery(()=>db.playlists.orderBy("name").toArray(),[Yr]),Na=reactExports.useCallback(()=>{if(wr.length===0||Sr===null)return;const wa=wr.indexOf(Sr);wa!==-1&&(wa===wr.length-1?Dr==="all"&&_r(wr[0]):_r(wr[wa+1]))},[wr,Sr,Dr]),{isPlaying:Ha,currentTime:Xa,duration:na,play:ia,pause:ba,resume:Oa,setVolume:Pa,seek:qa,stop:ea}=usePlayback({onTrackEnd:Na,repeatMode:Dr}),ka=reactExports.useCallback(()=>{if(Xa>3){qa(0);return}if(wr.length===0||Sr===null)return;const wa=wr.indexOf(Sr);wa!==-1&&(wa===0?Dr==="all"&&_r(wr[wr.length-1]):_r(wr[wa-1]))},[wr,Sr,Xa,Dr,qa]),Ua=reactExports.useMemo(()=>ur.find(wa=>wa.id===Sr),[ur,Sr]),ca=br[br.length-1],Va=reactExports.useCallback(()=>{Sr?Oa():wr.length>0&&_r(wr[0])},[Sr,wr,Oa]);useMediaSession({song:Ua,isPlaying:Ha,onPlay:Va,onPause:ba,onNext:Na,onPrev:ka}),reactExports.useEffect(()=>{Pa(Or)},[Or,Pa]),reactExports.useEffect(()=>{ra.current&&(URL.revokeObjectURL(ra.current),ra.current=null),Sr!==null?db.songs.get(Sr).then(wa=>{if(wa!=null&&wa.fileBlob){const Ea=URL.createObjectURL(wa.fileBlob);ra.current=Ea,ia(Ea)}else wa===void 0&&(console.warn(`Song with id ${Sr} not found. Skipping.`),Na())}).catch(wa=>{console.error(`Error loading song with id ${Sr}:`,wa),Na()}):ea()},[Sr,ia,ea,Na]);const ni=reactExports.useCallback((wa=523.25,Ea=150,Fa=20)=>{try{ya.current||(ya.current=new(window.AudioContext||window.webkitAudioContext));const Nr=ya.current;Nr.state==="suspended"&&Nr.resume();const Gr=Nr.createOscillator(),Sa=Nr.createGain();Gr.connect(Sa),Gr.frequency.value=wa,Gr.type="sine",Sa.connect(Nr.destination),Sa.gain.value=Fa*.01,Gr.start(Nr.currentTime),Gr.stop(Nr.currentTime+Ea*.001)}catch(Nr){console.warn("Could not play sound",Nr)}},[]),ii=reactExports.useCallback(async()=>{const wa=new Date;wa.setHours(0,0,0,0);const Ea=await db.focusSessions.where("endTimestamp").above(wa.getTime()).filter(Nr=>Nr.type==="work").toArray(),Fa=Ea.reduce((Nr,Gr)=>Nr+Gr.durationMinutes,0);Ba({workIntervals:Ea.length,totalTime:Fa})},[]),yi=reactExports.useCallback(async()=>{if(!oa)return;ni(880,500);const wa=$r.sessionType;if(wa!=="idle"){const Gr=wa==="work"?oa.workMinutes:wa==="shortBreak"?oa.shortBreakMinutes:oa.longBreakMinutes;await db.focusSessions.add({endTimestamp:Date.now(),durationMinutes:Gr,type:wa}),wa==="work"&&await ii()}let Ea="work",Fa=$r.workIntervalsInCycle;wa==="work"?(Fa++,Fa>=oa.longBreakInterval?(Ea="longBreak",Fa=0):Ea="shortBreak"):Ea="work";const Nr=(Ea==="work"?oa.workMinutes:Ea==="shortBreak"?oa.shortBreakMinutes:oa.longBreakMinutes)*60;xa({isActive:oa.autoStart,sessionType:Ea,timeRemaining:Nr,workIntervalsInCycle:Fa}),oa.autoStart&&ni(440,200)},[$r,oa,ni,ii]);reactExports.useEffect(()=>{if(!$r.isActive||$r.sessionType==="idle")return;const wa=setInterval(()=>{xa(Ea=>Ea.timeRemaining<=1?(clearInterval(wa),yi(),{...Ea,isActive:!1,timeRemaining:0}):{...Ea,timeRemaining:Ea.timeRemaining-1})},1e3);return()=>clearInterval(wa)},[$r.isActive,$r.sessionType,yi]),reactExports.useEffect(()=>{(async()=>{dr(!0);try{await db.open(),await db.transaction("rw",db.playlists,db.focusSettings,async()=>{await db.playlists.get({name:"On-The-Go"})||await db.playlists.add({name:"On-The-Go",songIds:[]}),await db.focusSettings.get(0)||await db.focusSettings.put(DEFAULT_FOCUS_SETTINGS)}).catch(Nr=>{console.warn("Initialization transaction failed, likely because items already exist.",Nr)});const Ea=await db.focusSettings.get(0)||DEFAULT_FOCUS_SETTINGS;if(Ia(Ea),xa(Nr=>({...Nr,timeRemaining:Ea.workMinutes*60,sessionType:"work"})),await ii(),await db.songs.count()>0){const Nr=await db.songs.toArray();cr(Nr),yr([{id:"main",activeIndex:0}])}else yr([{id:"load",activeIndex:0}])}catch(Ea){console.error("Failed to initialize the application database:",Ea)}finally{dr(!1)}})()},[ii]);const Pr=async wa=>{var Gr;const Ea=wa.target.files;if(!Ea||Ea.length===0)return;dr(!0),gr("Parsing files...");const Fa=[],Nr=Ea.length;for(let Sa=0;Sa<Nr;Sa++){const Da=Ea[Sa],ja=Da.name.toLowerCase();if(SUPPORTED_EXTENSIONS.some(Ka=>ja.endsWith(Ka)))try{const Ka=await libExports.parseBlob(Da),{common:si,format:ga}=Ka,$a=(Gr=si.picture)!=null&&Gr[0]?{data:si.picture[0].data,format:si.picture[0].format}:void 0,ti=Da.webkitRelativePath.split("/"),li=ti.length>1?ti[ti.length-2]:void 0;Fa.push({fileBlob:Da,title:si.title||Da.name.replace(/\.[^/.]+$/,""),artist:si.artist||"Unknown Artist",album:si.album||"Unknown Album",duration:ga.duration||0,artwork:$a,folderName:li})}catch(Ka){console.error(`Skipping file ${Da.name}:`,Ka)}Sa%20===0&&(gr(`Processing ${Sa+1} of ${Nr}...`),await new Promise(Ka=>setTimeout(Ka,0)))}gr("Checking for duplicates..."),await new Promise(Sa=>setTimeout(Sa,0));try{const Sa=await db.songs.toArray(),Da=new Set(Sa.map(si=>`${si.title.trim().toLowerCase()}|${si.artist.trim().toLowerCase()}|${si.album.trim().toLowerCase()}`)),ja=Fa.filter(si=>{const ga=`${si.title.trim().toLowerCase()}|${si.artist.trim().toLowerCase()}|${si.album.trim().toLowerCase()}`;return!Da.has(ga)});if(ja.length>0){gr(`Adding ${ja.length} new songs...`);const si=ja.map(({folderName:ti,...li})=>li),ga=await db.songs.bulkAdd(si,{allKeys:!0}),$a=new Map;ja.forEach((ti,li)=>{ti.folderName&&($a.has(ti.folderName)||$a.set(ti.folderName,[]),$a.get(ti.folderName).push(ga[li]))}),$a.size>0&&(gr("Creating playlists..."),await db.transaction("rw",db.playlists,async()=>{for(const[ti,li]of $a.entries()){const _i=await db.playlists.get({name:ti});if(_i){const Di=[...new Set([..._i.songIds,...li])];await db.playlists.update(_i.id,{songIds:Di})}else await db.playlists.add({name:ti,songIds:li})}}),Wr(ti=>ti+1))}else gr("No new songs to add."),await new Promise(si=>setTimeout(si,1500));const Ka=await db.songs.toArray();cr(Ka),await db.transaction("rw",db.playlists,async()=>{await db.playlists.get({name:"On-The-Go"})||await db.playlists.add({name:"On-The-Go",songIds:[]})}).catch(si=>{console.warn("Could not create On-The-Go playlist after file change, it likely already exists.",si)}),yr([{id:"main",activeIndex:0}])}catch(Sa){console.error("Failed to save songs:",Sa),alert("An error occurred while adding music. Please try again.")}finally{dr(!1),gr("")}},Rr=reactExports.useCallback(async(wa,Ea)=>{const Fa=Math.max(0,Math.min(5,Math.round(Ea)));try{await db.songs.update(wa,{rating:Fa}),cr(Nr=>Nr.map(Gr=>Gr.id===wa?{...Gr,rating:Fa}:Gr))}catch(Nr){console.error(`Failed to update rating for song ${wa}:`,Nr)}},[]),Mr=reactExports.useCallback(async(wa,Ea)=>{if(!oa)return;const Fa={...oa,[wa]:Ea};await db.focusSettings.put(Fa),Ia(Fa)},[oa]),Vr=reactExports.useCallback((wa,Ea)=>{Fr(Fa=>{const Nr={...Fa,[wa]:Ea};return localStorage.setItem("ipodColors",JSON.stringify(Nr)),Nr})},[]),aa=reactExports.useCallback(()=>{Fr(DEFAULT_COLORS),localStorage.removeItem("ipodColors")},[]),fa=reactExports.useCallback(()=>{if(ca.id.startsWith("focus-setting-edit/")){const Ea=ca.id.split("/")[1],Fa=ca.activeIndex;Mr(Ea,Fa)}br[br.length-1].id==="bounce-game"&&ta(Ea=>({...Ea,gameState:"idle",score:0,ball:getInitialBallVelocity(.5),ballSpeed:.8})),Lr("volume"),br.length>1&&yr(Ea=>Ea.slice(0,-1))},[br,Mr,ca]),Aa=reactExports.useCallback(async()=>{yr(wa=>[...wa,{id:"clearing-library",activeIndex:0}]),Kr({isClearing:!0,message:"Calculating..."});try{const wa=await db.songs.toCollection().keys(),Ea=wa.length;if(Ea===0){Kr({isClearing:!1,message:"Library is already empty."}),setTimeout(()=>{yr(Sa=>Sa.slice(0,-1))},2e3);return}let Fa=0;const Nr=50;for(let Sa=0;Sa<Ea;Sa+=Nr){const Da=wa.slice(Sa,Sa+Nr);await db.songs.bulkDelete(Da),Fa+=Da.length,Kr({isClearing:!0,message:`Deleting... ${Fa} songs removed`}),await new Promise(ja=>setTimeout(ja,50))}const Gr=await db.playlists.get({name:"On-The-Go"});Gr&&Gr.id&&await db.playlists.update(Gr.id,{songIds:[]}),Kr({isClearing:!1,message:`Library cleared. ${Ea} items removed.`}),ea(),cr([]),Er([]),_r(null),setTimeout(()=>{yr([{id:"load",activeIndex:0}]),Kr({isClearing:!1,message:""})},2500)}catch(wa){console.error("Failed to clear library:",wa),Kr({isClearing:!1,message:"An error occurred."}),setTimeout(()=>{yr(Ea=>Ea.slice(0,-1))},2e3)}},[ea]),Wa=reactExports.useCallback(()=>{ya.current&&ya.current.state==="suspended"&&ya.current.resume(),$r.isActive?ni(330,200):(Ha&&ba(),ni(440,200)),xa(wa=>({...wa,isActive:!wa.isActive}))},[$r.isActive,Ha,ba,ni]),ei=reactExports.useMemo(()=>{const wa=(Nr,Gr)=>()=>{let Sa=[...Gr];if(Ar){const Da=Sa.filter(ja=>ja!==Nr);for(let ja=Da.length-1;ja>0;ja--){const Ka=Math.floor(Math.random()*(ja+1));[Da[ja],Da[Ka]]=[Da[Ka],Da[ja]]}Sa=[Nr,...Da]}Er(Sa),_r(Nr)},Ea=ca.id,Fa=Ea.includes("/")?Ea.split("/")[1]:void 0;switch(!0){case Ea==="main":return[{label:"Now Playing",action:()=>{Sr!==null&&yr(ga=>[...ga,{id:"now-playing",activeIndex:0}])},hasArrow:Sr!==null},{label:"Music",action:()=>yr(ga=>[...ga,{id:"music",activeIndex:0}]),hasArrow:!0},{label:"Playlists",action:()=>yr(ga=>[...ga,{id:"playlists",activeIndex:0}]),hasArrow:!0},{label:"Focus",action:()=>{Ha&&ba(),yr(ga=>[...ga,{id:"focus",activeIndex:0}])},hasArrow:!0},{label:"Bounce",action:()=>{ea(),ta(ga=>({...ga,gameState:"idle",score:0,ball:getInitialBallVelocity(.5),ballSpeed:.8})),yr(ga=>[...ga,{id:"bounce-game",activeIndex:0}])},hasArrow:!0},{label:"Settings",action:()=>yr(ga=>[...ga,{id:"settings",activeIndex:0}]),hasArrow:!0}];case Ea==="focus":return[{label:$r.isActive?"Pause":"Start",action:Wa},{label:"Skip Session",action:()=>yi()},{label:"Stats",action:()=>yr(ga=>[...ga,{id:"focus-stats",activeIndex:0}]),hasArrow:!0},{label:"Settings",action:()=>yr(ga=>[...ga,{id:"focus-settings",activeIndex:0}]),hasArrow:!0}];case Ea==="focus-settings":return[{label:"Work Duration",subtext:`${oa==null?void 0:oa.workMinutes} min`,action:()=>yr(ga=>[...ga,{id:"focus-setting-edit/workMinutes",activeIndex:(oa==null?void 0:oa.workMinutes)??25}]),hasArrow:!0},{label:"Short Break",subtext:`${oa==null?void 0:oa.shortBreakMinutes} min`,action:()=>yr(ga=>[...ga,{id:"focus-setting-edit/shortBreakMinutes",activeIndex:(oa==null?void 0:oa.shortBreakMinutes)??5}]),hasArrow:!0},{label:"Long Break",subtext:`${oa==null?void 0:oa.longBreakMinutes} min`,action:()=>yr(ga=>[...ga,{id:"focus-setting-edit/longBreakMinutes",activeIndex:(oa==null?void 0:oa.longBreakMinutes)??15}]),hasArrow:!0},{label:"Intervals",subtext:`${oa==null?void 0:oa.longBreakInterval}`,action:()=>yr(ga=>[...ga,{id:"focus-setting-edit/longBreakInterval",activeIndex:(oa==null?void 0:oa.longBreakInterval)??4}]),hasArrow:!0},{label:`Auto Start: ${oa!=null&&oa.autoStart?"On":"Off"}`,action:()=>Mr("autoStart",!(oa!=null&&oa.autoStart))},{label:`Fullscreen Break: ${oa!=null&&oa.fullscreenBreak?"On":"Off"}`,action:()=>Mr("fullscreenBreak",!(oa!=null&&oa.fullscreenBreak))},{label:"Reset Stats",action:()=>yr(ga=>[...ga,{id:"focus-reset-confirm",activeIndex:0}]),hasArrow:!0}];case Ea==="focus-reset-confirm":return[{label:"No, Cancel",action:fa},{label:"Yes, Reset All Stats",action:async()=>{await db.focusSessions.clear(),await ii(),yr(ga=>ga.slice(0,-2))}}];case Ea==="bounce-game":return sa.gameState==="idle"?[{label:"Start Game",action:()=>ta(ga=>({...ga,gameState:"playing",score:0,ballSpeed:.8,ball:getInitialBallVelocity(.5)}))}]:sa.gameState==="game-over"?[{label:"Play Again",action:()=>{ta(ga=>({...ga,gameState:"playing",score:0,ball:getInitialBallVelocity(.5),ballSpeed:.8}))}},{label:"Exit",action:fa}]:[];case Ea==="music":return[{label:"Cover Flow",action:()=>yr(ga=>[...ga,{id:"cover-flow",activeIndex:0}]),hasArrow:!0},{label:"Songs",action:()=>yr(ga=>[...ga,{id:"songs",activeIndex:0}]),hasArrow:!0},{label:"Artists",action:()=>yr(ga=>[...ga,{id:"artists",activeIndex:0}]),hasArrow:!0},{label:"Albums",action:()=>yr(ga=>[...ga,{id:"albums",activeIndex:0}]),hasArrow:!0},{label:"Ratings",action:()=>yr(ga=>[...ga,{id:"ratings",activeIndex:0}]),hasArrow:!0},{label:"Search",action:()=>{Br(""),yr(ga=>[...ga,{id:"search",activeIndex:0}])},hasArrow:!0}];case Ea==="playlists":{if(!pa)return[];const ga=pa.find(li=>li.name==="On-The-Go"),$a=pa.filter(li=>li.name!=="On-The-Go"),ti=[];return ga&&ti.push({label:"On-The-Go",action:()=>yr(li=>[...li,{id:`playlist-songs/${ga.id}`,activeIndex:0}]),hasArrow:!0,subtext:`${ga.songIds.length}`}),$a.forEach(li=>{ti.push({label:li.name,action:()=>yr(_i=>[..._i,{id:`playlist-songs/${li.id}`,activeIndex:0}]),hasArrow:!0,subtext:`${li.songIds.length}`})}),ti}case Ea.startsWith("playlist-songs/"):{if(!pa)return[];const ga=parseInt(Fa,10),$a=pa.find(li=>li.id===ga);if(!$a)return[];const ti=($a.songIds??[]).map(li=>ur.find(_i=>_i.id===li)).filter(li=>!!li);return ti.map(li=>({label:li.title,action:wa(li.id,ti.map(_i=>_i.id)),ratingDisplay:jsxRuntimeExports.jsx(StarDisplay,{rating:li.rating,active:!1}),songId:li.id}))}case Ea==="songs":return ur.sort((ga,$a)=>ga.title.localeCompare($a.title)).map(ga=>({label:ga.title,action:wa(ga.id,ur.map($a=>$a.id)),ratingDisplay:jsxRuntimeExports.jsx(StarDisplay,{rating:ga.rating,active:!1}),songId:ga.id}));case Ea==="search-results":const Nr=jr.toLowerCase().trim(),Gr=Nr===""?[]:ur.filter(ga=>ga.title.toLowerCase().includes(Nr)||ga.artist.toLowerCase().includes(Nr)||ga.album.toLowerCase().includes(Nr));return Gr.map(ga=>({label:ga.title,action:wa(ga.id,Gr.map($a=>$a.id)),ratingDisplay:jsxRuntimeExports.jsx(StarDisplay,{rating:ga.rating,active:!1}),songId:ga.id}));case Ea.startsWith("rated-songs/"):{const ga=parseInt(Fa,10),$a=ur.filter(ti=>(ti.rating??0)>=ga);return $a.map(ti=>({label:ti.title,action:wa(ti.id,$a.map(li=>li.id)),ratingDisplay:jsxRuntimeExports.jsx(StarDisplay,{rating:ti.rating,active:!1}),songId:ti.id}))}case Ea.startsWith("album-songs/"):{const ga=ur.filter($a=>$a.album===Fa);return ga.map($a=>({label:$a.title,action:wa($a.id,ga.map(ti=>ti.id)),ratingDisplay:jsxRuntimeExports.jsx(StarDisplay,{rating:$a.rating,active:!1}),songId:$a.id}))}case Ea==="artists":return[...new Set(ur.map(ga=>ga.artist))].sort().map(ga=>({label:ga,action:()=>yr($a=>[...$a,{id:`artist-albums/${ga}`,activeIndex:0}]),hasArrow:!0}));case Ea.startsWith("artist-albums/"):const Da=ur.filter(ga=>ga.artist===Fa);return[...new Set(Da.map(ga=>ga.album))].sort().map(ga=>({label:ga,action:()=>yr($a=>[...$a,{id:`album-songs/${ga}`,activeIndex:0}]),hasArrow:!0}));case Ea==="albums":return[...new Set(ur.map(ga=>ga.album))].sort().map(ga=>({label:ga,action:()=>yr($a=>[...$a,{id:`album-songs/${ga}`,activeIndex:0}]),hasArrow:!0}));case Ea==="ratings":return[5,4,3,2,1].map(ga=>({label:"".repeat(ga)+"".repeat(5-ga),action:()=>yr($a=>[...$a,{id:`rated-songs/${ga}`,activeIndex:0}]),hasArrow:!0}));case Ea==="settings":return[{label:`Shuffle: ${Ar?"On":"Off"}`,action:()=>kr(ga=>!ga)},{label:`Repeat: ${Dr.charAt(0).toUpperCase()+Dr.slice(1)}`,action:()=>Cr(ga=>ga==="off"?"all":ga==="all"?"one":"off")},{label:"Appearance",action:()=>yr(ga=>[...ga,{id:"appearance",activeIndex:0}]),hasArrow:!0},{label:"Library Management",action:()=>yr(ga=>[...ga,{id:"library-management",activeIndex:0}]),hasArrow:!0},{label:"About",action:()=>yr(ga=>[...ga,{id:"about",activeIndex:0}]),hasArrow:!0}];case Ea==="library-management":return[{label:"Add Music",action:()=>yr(ga=>[...ga,{id:"load",activeIndex:0}]),hasArrow:!0},{label:"Clear Library",action:Aa,hasArrow:!0}];case Ea==="appearance":return[{label:"iPod Body",action:()=>yr(ga=>[...ga,{id:"body-color",activeIndex:0}]),hasArrow:!0},{label:"Click Wheel",action:()=>yr(ga=>[...ga,{id:"wheel-color",activeIndex:0}]),hasArrow:!0},{label:"Reset to Default",action:aa}];case Ea==="body-color":return BODY_COLORS.map(ga=>({label:ga.name,action:()=>Vr("body",ga.class),hasArrow:Xr.body===ga.class?!1:void 0,subtext:Xr.body===ga.class?"":""}));case Ea==="wheel-color":return WHEEL_COLORS.map(ga=>({label:ga.name,action:()=>Vr("wheel",ga.class),hasArrow:Xr.wheel===ga.class?!1:void 0,subtext:Xr.wheel===ga.class?"":""}));case Ea==="search":return[..."ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("").map(ga=>({label:ga,action:()=>Br($a=>$a+ga)})),{label:"Space",action:()=>Br(ga=>ga+" ")},{label:"Delete",action:()=>Br(ga=>ga.slice(0,-1))},{label:"Done",action:()=>yr(ga=>[...ga,{id:"search-results",activeIndex:0}]),hasArrow:!0}];default:return[]}},[ur,ca,Ar,Dr,Sr,pa,jr,sa,fa,ea,Xr,aa,Vr,Aa,$r,oa,Wa,yi,Mr,ii,Ha,ba]),Ja=reactExports.useMemo(()=>{if(ur.length===0)return[];const wa=new Map;return ur.forEach(Ea=>{if(!wa.has(Ea.album))wa.set(Ea.album,{artist:Ea.artist,artwork:Ea.artwork});else{const Fa=wa.get(Ea.album);!Fa.artwork&&Ea.artwork&&(Fa.artwork=Ea.artwork)}}),Array.from(wa.entries()).map(([Ea,{artist:Fa,artwork:Nr}])=>({album:Ea,artist:Fa,artwork:Nr})).sort((Ea,Fa)=>Ea.album.localeCompare(Fa.album))},[ur]);reactExports.useEffect(()=>{const wa=()=>{const Ea=za.current;if(ca.id==="bounce-game"&&Ea.gameState==="playing"){const{ball:Nr,paddleAngle:Gr,score:Sa,ballSpeed:Da,highScore:ja}=Ea;let Ka={...Nr};Ka.x+=Ka.dx*Da,Ka.y+=Ka.dy*Da;const si=Math.sqrt(Ka.x*Ka.x+Ka.y*Ka.y);let ga={};if(si>47.5){const ti=(Math.atan2(Ka.y,Ka.x)*(180/Math.PI)+90+360)%360,li=(Gr-PADDLE_ARC_ANGLE/2+360)%360,_i=(Gr+PADDLE_ARC_ANGLE/2+360)%360;if(li<_i?ti>=li&&ti<=_i:ti>=li||ti<=_i){const ki=Sa+1,os=Math.min(2.5,Da*1.03);ga={score:ki,ballSpeed:os};let es=ti-Gr;es>180&&(es-=360),es<-180&&(es+=360);const Ms=es/(PADDLE_ARC_ANGLE/2),Ts=Math.atan2(-Ka.y,-Ka.x),Yi=Math.PI/3.5,El=Ms*Yi,Hl=Ts+El;Ka.dx=Math.cos(Hl),Ka.dy=Math.sin(Hl);const Bs=Math.atan2(Ka.y,Ka.x);Ka.x=47.4*Math.cos(Bs),Ka.y=47.4*Math.sin(Bs)}else{let ki=ja;Sa>ja&&(ki=Sa,localStorage.setItem("bounceHighScore",ki.toString())),ga={gameState:"game-over",highScore:ki}}}za.current={...Ea,...ga,ball:Ka},Ma.current&&(Ma.current.setAttribute("cx",`${50+Ka.x}`),Ma.current.setAttribute("cy",`${50+Ka.y}`)),Object.keys(ga).length>0&&ta(za.current)}Ta.current=requestAnimationFrame(wa)};return Ta.current=requestAnimationFrame(wa),()=>{Ta.current&&cancelAnimationFrame(Ta.current)}},[ca.id]);const xi=reactExports.useCallback(()=>{if(ca.id.startsWith("focus")){Wa();return}if(ca.id==="bounce-game"){sa.gameState==="playing"?ta(wa=>({...wa,gameState:"paused"})):sa.gameState==="paused"&&ta(wa=>({...wa,gameState:"playing"}));return}Ha?ba():Sr?Oa():wr.length>0&&_r(wr[0])},[Ha,Sr,wr,ba,Oa,ca.id,sa.gameState,Wa]),hi=reactExports.useCallback(wa=>{if(ca.id.startsWith("focus-setting-edit/")){const Fa=ca.id.split("/")[1];yr(Nr=>{const Gr=Nr[Nr.length-1];let Sa=Gr.activeIndex+wa;return Fa==="longBreakInterval"?Sa=Math.max(1,Math.min(10,Sa)):Sa=Math.max(1,Math.min(90,Sa)),[...Nr.slice(0,-1),{...Gr,activeIndex:Sa}]});return}if(ca.id==="bounce-game"&&za.current.gameState==="playing"){const Fa=(za.current.paddleAngle+wa*10+360)%360;if(za.current.paddleAngle=Fa,La.current){const Nr=describeArc(50,50,48,Fa-PADDLE_ARC_ANGLE/2,Fa+PADDLE_ARC_ANGLE/2);La.current.setAttribute("d",Nr)}return}if(ca.id==="now-playing"&&(Ua!=null&&Ua.id)){if(Hr==="rating"){const Fa=Ua.rating||0,Nr=Math.max(0,Math.min(5,Fa+wa));Nr!==Fa&&Rr(Ua.id,Nr)}else qr(Fa=>Math.max(0,Math.min(1,Fa+wa*.05)));return}const Ea=ca.id==="cover-flow"?Ja:ei;!Ea||Ea.length===0||yr(Fa=>{const Nr=Fa[Fa.length-1],Gr=(Nr.activeIndex+wa+Ea.length)%Ea.length;return[...Fa.slice(0,-1),{...Nr,activeIndex:Gr}]})},[ca,Hr,Ua,ei,Ja,Rr]),Fl=reactExports.useCallback(()=>{var wa,Ea,Fa;if(ca.id.startsWith("focus-setting-edit/")){const Nr=ca.id.split("/")[1],Gr=ca.activeIndex;Mr(Nr,Gr),yr(Sa=>Sa.slice(0,-1));return}if(ca.id==="bounce-game")["idle","game-over"].includes(sa.gameState)&&((wa=ei[ca.activeIndex])==null||wa.action());else if(ca.id==="now-playing")Lr(Nr=>Nr==="volume"?"rating":"volume");else if(ca.id==="load")(Ea=Qr.current)==null||Ea.click();else if(ca.id==="cover-flow"&&Ja.length>0){const Nr=Ja[ca.activeIndex].album;yr(Gr=>[...Gr,{id:`album-songs/${Nr}`,activeIndex:0}])}else(Fa=ei[ca.activeIndex])==null||Fa.action()},[ca,ei,Ja,sa.gameState,Mr]),Js=reactExports.useCallback(async()=>{const wa=ei[ca.activeIndex],Ea=wa==null?void 0:wa.songId;if(Ea)try{let Fa=!1;await db.transaction("rw",db.playlists,async()=>{const Nr=await db.playlists.get({name:"On-The-Go"});Nr?Nr.songIds.includes(Ea)||(await db.playlists.update(Nr.id,{songIds:[...Nr.songIds,Ea]}),Fa=!0):(await db.playlists.add({name:"On-The-Go",songIds:[Ea]}),Fa=!0)}),Fa&&(vr(!0),setTimeout(()=>vr(!1),300))}catch(Fa){console.error("Failed to add song to On-The-Go playlist:",Fa)}},[ei,ca.activeIndex]),Ds=()=>{const wa=ca.id,Ea=wa.includes("/")?wa.split("/")[1]:void 0;if(wa==="main")return"ReactPod";if(wa==="now-playing")return"Now Playing";if(wa==="cover-flow")return"Cover Flow";if(wa==="search")return"Search";if(wa==="playlists")return"Playlists";if(wa.startsWith("playlist-songs/")){if(!pa)return"Playlist";const Fa=parseInt(Ea,10),Nr=pa.find(Gr=>Gr.id===Fa);return Nr?Nr.name:"Playlist"}return wa==="ratings"?"Ratings":wa==="about"?"About":wa==="appearance"?"Appearance":wa==="body-color"?"iPod Body Color":wa==="wheel-color"?"Click Wheel Color":wa==="library-management"?"Library Management":wa==="clearing-library"?"Clearing Library":wa==="focus"?"Focus Timer":wa==="focus-settings"?"Focus Settings":wa==="focus-stats"?"Focus Stats":wa==="focus-reset-confirm"?"Reset Stats?":wa.startsWith("focus-setting-edit/")?(Ea==null?void 0:Ea.replace(/([A-Z])/g," $1").replace("Minutes"," Duration").replace("Interval"," Length").split(" ").map(Fa=>Fa.charAt(0).toUpperCase()+Fa.slice(1)).join(" "))||"Edit":wa==="bounce-game"?sa.gameState==="game-over"?`Game Over | Score: ${sa.score}`:`Bounce | Score: ${sa.score}`:wa.startsWith("rated-songs/")?"".repeat(Number(Ea))+"".repeat(5-Number(Ea)):wa==="search-results"?`Results: ${jr}`:wa.startsWith("artist-albums/")||wa.startsWith("album-songs/")?decodeURIComponent(Ea):wa.charAt(0).toUpperCase()+wa.slice(1)},_s=ca.id.startsWith("focus")?$r.isActive:ca.id==="bounce-game"?sa.gameState==="playing":Ha,xs=()=>{const wa=ur.length===0&&!oa;if(ca.id==="load"||hr&&wa)return jsxRuntimeExports.jsx(FileLoadView,{isLoading:hr,loadingProgress:mr,onLoad:()=>{var Ea;return(Ea=Qr.current)==null?void 0:Ea.click()},isInitialLoad:ur.length===0});if(ca.id==="clearing-library")return jsxRuntimeExports.jsx(ClearingLibraryView,{isClearing:Ur.isClearing,message:Ur.message});if(ca.id==="now-playing"&&Ua){const Ea=Sr!==null?wr.indexOf(Sr):-1,Fa=wr.length;return jsxRuntimeExports.jsx(NowPlayingView,{song:Ua,isPlaying:Ha,currentTime:Xa,duration:na||Ua.duration,volume:Or,mode:Hr,trackNumber:Ea+1,totalTracks:Fa})}if(ca.id==="cover-flow")return jsxRuntimeExports.jsx(CoverFlowView,{items:Ja,activeIndex:ca.activeIndex});if(ca.id==="search")return jsxRuntimeExports.jsx(SearchView,{query:jr,items:ei,activeIndex:ca.activeIndex});if(ca.id==="about")return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-800 p-4 space-y-2",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold",children:"ReactPod"}),jsxRuntimeExports.jsx("p",{children:"Developed by Revanth Atmakuri"})]});if(ca.id==="bounce-game")return["playing","paused","idle"].includes(sa.gameState)?jsxRuntimeExports.jsx(BounceGameView,{...sa,ballRef:Ma,paddleRef:La}):jsxRuntimeExports.jsx(MenuView,{items:ei,activeIndex:ca.activeIndex});if(ca.id==="focus"&&oa)return oa.fullscreenBreak&&$r.isActive&&$r.sessionType.includes("Break")?jsxRuntimeExports.jsx(FullscreenBreakView,{state:$r}):jsxRuntimeExports.jsx(FocusTimerView,{state:$r,settings:oa,stats:ua});if(ca.id==="focus-stats")return jsxRuntimeExports.jsx(FocusStatsView,{});if(ca.id.startsWith("focus-setting-edit/")){const Ea=ca.id.split("/")[1],Fa=ca.activeIndex,Nr=Ea.replace(/([A-Z])/g," $1").replace("Minutes","(min)");return jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col justify-center items-center text-center p-4 text-gray-800",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-lg capitalize",children:Nr}),jsxRuntimeExports.jsx("p",{className:"text-6xl font-mono tracking-tighter my-4",children:Fa}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Scroll to change"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Press Menu or Select to save"})]})}return ca.id==="search-results"&&ei.length===0&&jr?jsxRuntimeExports.jsx("div",{className:"p-4 text-center font-bold text-gray-600",children:"No Results Found"}):ei.length===0&&!["about","load","main","cover-flow","search","focus-stats"].includes(ca.id)&&!ca.id.startsWith("focus-setting-edit")?jsxRuntimeExports.jsx("div",{className:"p-4 text-center font-bold text-gray-600",children:"No Items"}):jsxRuntimeExports.jsx(MenuView,{items:ei,activeIndex:ca.activeIndex})};return jsxRuntimeExports.jsxs("div",{className:`w-[320px] h-[520px] ${Xr.body} rounded-[40px] shadow-2xl p-4 flex flex-col border-2 border-gray-400 select-none`,children:[jsxRuntimeExports.jsx("input",{type:"file",ref:Qr,onChange:Pr,multiple:!0,directory:"",webkitdirectory:"",accept:SUPPORTED_EXTENSIONS.join(","),className:"hidden"}),jsxRuntimeExports.jsx(Screen,{title:Ds(),isFlashing:Tr,children:xs()}),jsxRuntimeExports.jsx(ClickWheel,{onScroll:hi,onMenuClick:fa,onPlayPauseClick:xi,onNextClick:Na,onPrevClick:ka,onSelectClick:Fl,onSelectLongPress:Js,isPlaying:_s,wheelClass:Xr.wheel})]})},rootElement=document.getElementById("root");if(!rootElement)throw new Error("Could not find root element to mount to");const root=ReactDOM.createRoot(rootElement);root.render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
